"use strict";(self.webpackChunknvision_TMS=self.webpackChunknvision_TMS||[]).push([[1627],{81627:(e,l,s)=>{s.r(l),s.d(l,{default:()=>f});var a=s(72791),t=s(29128),r=s(48490),i=s(66106),n=s(30914),d=s(16871),o=s(95048),c=(s(98580),s(66319)),m=s(38111),u=s(39230),h=s(60914),v=s(89510),p=s(50532),x=s(90165),j=s(47970),Z=s(75880),g=s(93835),C=s(80184);function y(){const{pathname:e}=(0,d.TH)(),l=(0,a.useMemo)((()=>(0,h.F)(e)),[e]),{t:s}=(0,u.$G)([l,"translation"]),[t,y]=(0,a.useState)(["1"]),f=(0,d.s0)(),b=(0,o.I0)(),{createRoutingGuideUser:N}=(0,o.v9)((e=>null===e||void 0===e?void 0:e.routingGuide)),[S]=r.Z.useForm(),F=r.Z.useWatch("UserStatus",S);(0,a.useEffect)((()=>{"Success"===(null===N||void 0===N?void 0:N.data)&&(b((0,v.MY)()),b((0,v.QZ)()),b((0,v.yu)()),f(-1))}),[N]);const M=async()=>{try{const e=S.getFieldsValue(),l={UserId:0,UserTypeDesc:null,UserTypeLogin:null,ClientCodeDesc:null,CountryName:null,StateName:null,OldPassword:null,IsAccepted:null,UserName:e.UserNameInput,...e,UserStatus:!0===(null===e||void 0===e?void 0:e.UserStatus)?"A":"I"};b((0,v.y1)(l))}catch(e){console.log(e)}};return(0,C.jsx)(r.Z.Provider,{className:"overflow-hidden h-100",onFormFinish:async e=>{"saveButtonForm"===e&&S.validateFields().then((e=>{M()}),(e=>{console.log(e)}))},children:(0,C.jsxs)(i.Z,{className:"flex-direction-column flex-nowrap overflow-hidden h-100",children:[(0,C.jsx)(n.Z,{className:"mb-15",children:(0,C.jsx)(c.Z,{className:"p-15 border-radius-bottom-none",children:(0,C.jsxs)(i.Z,{align:"middle",justify:"space-between",children:[(0,C.jsx)(n.Z,{children:(0,C.jsx)(Z.Z,{className:"dark-header-text",children:"Add NPX User"})}),(0,C.jsxs)(n.Z,{className:"d-flex gap-1 align-items-center",children:[(0,C.jsxs)(r.Z,{initialValues:{UserStatus:!0},form:S,name:"routingGuideForm",children:[(0,C.jsxs)("div",{className:"d-flex gap-half",children:[(0,C.jsx)(g.Z,{children:"User Status"}),(0,C.jsx)(x.Z,{checked:F,checkedChildren:"Active",unCheckedChildren:"InActive",onClick:()=>S.setFieldValue("UserStatus",!F)})]}),(0,C.jsx)(j.Z,{name:"UserStatus"})]}),(0,C.jsx)(r.Z,{name:"saveButtonForm",children:(0,C.jsx)(m.Z,{onSave:()=>{},onCancel:()=>f(-1)})})]})]})})}),(0,C.jsx)(n.Z,{className:"flex-1 custom-scroll-bar",children:(0,C.jsx)(p.Z,{routingGuideForm:S,activeKey:t,setActiveKey:y})})]})})}const f=function(){return(0,C.jsx)(t.Z,{contentElement:(0,C.jsx)(y,{})})}},50532:(e,l,s)=>{s.d(l,{Z:()=>F});var a=s(66106),t=s(30914),r=s(72791),i=s(16871),n=s(39230),d=s(28478),o=(s(62750),s(99678)),c=s(800),m=s(60914),u=(s(88858),s(9835),s(48490)),h=s(68825),v=s(98580),p=s(45698),x=s(2083),j=s(99740),Z=s(38416),g=s(44322),C=s(67766),y=s(80184);const f=e=>{let{placeholder:l="",label:s,editMode:a=!1,forFilter:t=!1,margin:r="mb-15",singleLineMode:i=!1,name:n="testFiled-".concat(Math.random()),rules:d=[],colon:o=!1,inverMode:c=!1}=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(u.Z.Item,{className:"".concat(c?"invert-mode":""," ").concat(r," ").concat(i?"single-line-mode":""," form-input-container form-input-password ").concat(a?"":"edit-mode-off"),name:n,rules:d,...s?{label:(0,y.jsxs)("span",{children:[s,d.length>0&&(0,C.af)(d)&&(0,y.jsx)("span",{className:"required",children:"*"})]})}:{},labelCol:10,colon:o,children:(0,y.jsx)(g.Z.Password,{readOnly:!a,placeholder:l,className:"".concat(t?"filter-input":"form-input"," "),id:n})})})};var b=s(23029),N=s(85757);const S=e=>{let{form:l,selectedItems:s={}}=e;const i=u.Z.useWatch("CountryCode",l),n=u.Z.useWatch("State",l);(0,r.useEffect)((()=>{var e,a,t,r,i,n;Object.keys(s).length>0&&l.setFieldsValue({UserNameInput:(null===s||void 0===s?void 0:s.userName)||"",UserTypeId:(null===s||void 0===s?void 0:s.userTypeId)||"",FirstName:(null===s||void 0===s?void 0:s.firstName)||"",LastName:(null===s||void 0===s?void 0:s.lastName)||"",Email:(null===s||void 0===s?void 0:s.email)||"",CompanyName:(null===s||void 0===s?void 0:s.companyName)||"",ClientCode:(null===s||void 0===s||null===(e=s.clientCode)||void 0===e?void 0:e.trim())||"",CountryCode:(null===s||void 0===s||null===(a=s.countryCode)||void 0===a?void 0:a.trim())||"",State:(null===s||void 0===s||null===(t=s.state)||void 0===t?void 0:t.trim())||"",City:(null===s||void 0===s||null===(r=s.city)||void 0===r?void 0:r.trim())||"",PostalCode:(null===s||void 0===s||null===(i=s.postal)||void 0===i?void 0:i.trim())||"",Password:(null===s||void 0===s||null===(n=s.password)||void 0===n?void 0:n.trim())||""})}),[s]);return(0,y.jsxs)(u.Z,{form:l,initialValues:{editMode:!1},children:[(0,y.jsxs)(a.Z,{gutter:15,children:[(0,y.jsx)(t.Z,{sm:6,className:"pl-15 pr-15",children:(0,y.jsx)(v.Z,{label:"User Name",editMode:!0,margin:"mb-15",name:"UserNameInput",placeholder:"User Name",rules:[{required:!0,message:"User name is required"}]})}),(0,y.jsx)(t.Z,{sm:6,children:(0,y.jsx)(p.Z,{margin:"mb-15",editMode:!0,label:(0,h.t)("translation:default.fields.userType.label"),name:"UserTypeId",rules:[{required:!0,message:"User Type is required"}]})}),(0,y.jsx)(t.Z,{sm:6,className:"pl-15 pr-15",children:(0,y.jsx)(v.Z,{label:"First Name",editMode:!0,margin:"mb-15",name:"FirstName",placeholder:"First Name",rules:[{required:!0,message:"First Name is required"}]})}),(0,y.jsx)(t.Z,{sm:6,children:(0,y.jsx)(v.Z,{label:"Last Name",editMode:!0,margin:"mb-15",name:"LastName",placeholder:"Last Name",rules:[{required:!0,message:"Last Name is required"}]})})]}),(0,y.jsxs)(a.Z,{gutter:15,children:[(0,y.jsx)(t.Z,{sm:6,className:"pl-15 pr-15",children:(0,y.jsx)(v.Z,{label:"Email",editMode:!0,margin:"mb-15",name:"Email",placeholder:"Email",rules:[{required:!0,message:"Email is required"},()=>({validator(e,l){if(!l)return Promise.resolve();return String(l).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?Promise.resolve():Promise.reject(new Error("Please enter the correct email address"))}})]})}),(0,y.jsx)(t.Z,{sm:6,children:(0,y.jsx)(f,{label:"Password",editMode:!0,margin:"mb-15",name:"Password",placeholder:"Password",maxLength:16,rules:[{required:!0,message:"Password is required"},()=>({validator:(e,l)=>l?l.length<=16?Promise.resolve():Promise.reject(new Error("Password max length is 16")):Promise.resolve()})]})}),(0,y.jsx)(t.Z,{sm:6,className:"pl-15 pr-15",children:(0,y.jsx)(v.Z,{label:"Company",editMode:!0,margin:"mb-15",name:"CompanyName",placeholder:"Company",rules:[{required:!0,message:"Company is required"}]})}),(0,y.jsx)(t.Z,{sm:6,children:(0,y.jsx)(b.Z,{margin:"mb-15",editMode:!0,label:"Client Code",name:"ClientCode",rules:[{required:!0,message:"Client is required"}]})})]}),(0,y.jsxs)(a.Z,{gutter:15,children:[(0,y.jsx)(t.Z,{sm:6,className:"pl-15 pr-15",children:(0,y.jsx)(x.Z,{name:"CountryCode",onChange:()=>{l.setFieldsValue({State:void 0,City:void 0,PostalCode:void 0})},rules:[{required:!0,message:"Country is required"}]})}),(0,y.jsx)(t.Z,{sm:6,children:(0,y.jsx)(j.Z,{name:"State",countryCode:i,rules:[{required:!0,message:"State is required"}]})}),(0,y.jsx)(t.Z,{sm:6,className:"pl-15 pr-15",children:(0,y.jsx)(Z.Z,{label:"City",editMode:!0,margin:"mb-15",name:"City",placeholder:(0,h.t)("translation:default.fields.city.placeholder"),countryCode:i,stateCode:n,rules:[{required:!0,message:"City is required"}]})}),(0,y.jsx)(t.Z,{sm:6,children:(0,y.jsx)(N.Z,{label:(0,h.t)("translation:default.fields.postalCode.label"),margin:"mb-15",name:"PostalCode",placeholder:(0,h.t)("translation:default.fields.postalCode.placeholder"),editMode:!0,handleZipDetails:e=>{var s,a,t,r;e&&l.setFieldsValue({State:null===e||void 0===e||null===(s=e.state)||void 0===s?void 0:s.trim(),City:null===e||void 0===e||null===(a=e.city)||void 0===a?void 0:a.trim(),CountryCode:null===e||void 0===e||null===(t=e.countryCode)||void 0===t?void 0:t.trim(),PostalCode:null===e||void 0===e||null===(r=e.zip)||void 0===r?void 0:r.trim()})},countryCode:i})})]})]})},F=e=>{let{routingGuideForm:l,activeKey:s,setActiveKey:u,selectedItems:h={}}=e;const{pathname:v}=(0,i.TH)(),p=(0,r.useMemo)((()=>(0,m.F)(v)),[v]),{t:x}=(0,n.$G)([p,"translation"]),j=e=>{let{title:l,Icon:s,size:r=25}=e;return(0,y.jsxs)(a.Z,{gutter:10,align:"middle",children:[(0,y.jsx)(t.Z,{className:"lh-0",children:(0,y.jsx)(d.Z,{width:r,height:r,Icon:s})}),(0,y.jsx)(t.Z,{className:"lh-0",children:(0,y.jsx)("label",{className:"lh-0 text-dark cursor-pointer",children:l})})]})};return(0,y.jsx)(c.Z,{forceRender:!0,handleTabClick:e=>u(e),activeKey:s,tabs:[{tabKey:"1",content:(0,y.jsx)(S,{form:l,selectedItems:h}),header:(0,y.jsx)(j,{title:x("translation:shipmentAdd.titles.transportation"),Icon:o.r,size:25})}]})}},23029:(e,l,s)=>{s.d(l,{Z:()=>n});var a=s(72791),t=(s(68825),s(55936)),r=s(88858),i=s(80184);const n=e=>{let{placeholder:l="Client Code",label:s="Client Code",rules:n=[],name:d,editMode:o,margin:c="mb-0"}=e;const[m,u]=(0,a.useState)([]),[h,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{p()}),[]);const p=async()=>{try{v(!0);const{data:e}=await(0,t.YH)();let l=e.map((e=>({label:e.text,value:e.value})));u(l),v(!1)}catch(e){console.log(e),u([]),v(!1)}};return(0,i.jsx)(r.Z,{loading:h,options:[{label:"Select",value:""},...m],placeholder:l,label:s,margin:c,rules:n,name:d,editMode:o})}},45698:(e,l,s)=>{s.d(l,{Z:()=>d});var a=s(72791),t=s(68825),r=s(55936),i=s(88858),n=s(80184);const d=e=>{let{placeholder:l=t.ZP.t("translation:default.fields.userType.placeholder"),label:s=t.ZP.t("translation:default.fields.userType.label"),rules:d=[],name:o,editMode:c,margin:m}=e;const[u,h]=(0,a.useState)([]),[v,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>{x()}),[]);const x=async()=>{try{p(!0);const{data:e}=await(0,r.VW)();let l=e.map((e=>({label:e.text,value:e.value})));h(l),p(!1)}catch(e){console.log(e),h([]),p(!1)}};return(0,n.jsx)(i.Z,{loading:v,options:[{label:"Select",value:""},...u],placeholder:l,label:s,margin:m,rules:d,name:o,editMode:c})}}}]);
//# sourceMappingURL=1627.8ca4b6a7.chunk.js.map