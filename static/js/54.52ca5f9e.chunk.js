"use strict";(self.webpackChunknvision_TMS=self.webpackChunknvision_TMS||[]).push([[54],{15610:(e,t,l)=>{l.d(t,{r:()=>r});var i,s,a=l(72791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},n.apply(this,arguments)}function o(e,t){let{title:l,titleId:o,...r}=e;return a.createElement("svg",n({width:16,height:20,viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},r),l?a.createElement("title",{id:o},l):null,i||(i=a.createElement("path",{d:"M7.51246 19.7391C7.62113 19.9021 7.8041 20 8 20C8.1959 20 8.37887 19.9021 8.48754 19.7391C9.87422 17.6591 11.9167 15.0903 13.34 12.4778C14.478 10.3889 15.0312 8.60727 15.0312 7.03125C15.0312 3.15422 11.877 0 8 0C4.12297 0 0.96875 3.15422 0.96875 7.03125C0.96875 8.60727 1.52199 10.3889 2.66004 12.4778C4.08227 15.0883 6.12863 17.6634 7.51246 19.7391ZM8 1.17188C11.2309 1.17188 13.8594 3.80039 13.8594 7.03125C13.8594 8.40641 13.3529 10.0046 12.3109 11.9171C11.0841 14.1691 9.33336 16.4534 8 18.3738C6.66684 16.4537 4.91602 14.1692 3.6891 11.9171C2.64715 10.0046 2.14062 8.40641 2.14062 7.03125C2.14062 3.80039 4.76914 1.17188 8 1.17188Z",fill:"#0AA45A"})),s||(s=a.createElement("path",{d:"M8 10.5469C9.93852 10.5469 11.5156 8.96977 11.5156 7.03125C11.5156 5.09273 9.93852 3.51562 8 3.51562C6.06148 3.51562 4.48438 5.09273 4.48438 7.03125C4.48438 8.96977 6.06148 10.5469 8 10.5469ZM8 4.6875C9.29234 4.6875 10.3438 5.73891 10.3438 7.03125C10.3438 8.32359 9.29234 9.375 8 9.375C6.70766 9.375 5.65625 8.32359 5.65625 7.03125C5.65625 5.73891 6.70766 4.6875 8 4.6875Z",fill:"#0AA45A"})))}const r=a.forwardRef(o);l.p},60054:(e,t,l)=>{l.r(t),l.d(t,{default:()=>re});var i=l(72791),s=l(29128),a=l(48490),n=l(66106),o=l(30914),r=l(16871),d=l(95048),c=l(98580),u=l(66319),m=l(39230),h=l(28478),g=l(62750),p=l(99678),x=l(800),f=(l(15243),l(46130)),j=l(763),Z=l.n(j),v=l(89510),y=l(14626),b=l(60914),C=l(76546),F=l(75672),D=l(80029),T=l(88858),S=l(6506),P=l(68109),M=l(81330),N=l(79795),w=l(87381),O=l(57101),V=l(92679),K=l(38111),E=l(9835),R=l(72426),W=l.n(R),q=l(89892),G=l(93835),U=l(80184);const I=e=>{let{editMode:t=!0,data:l,onSave:s=(()=>{}),index:d,setEditMode:h=(()=>{}),handleRemove:g=(()=>{}),isExistChoice:p=(()=>{})}=e;const{pathname:x}=(0,r.TH)(),[f]=a.Z.useForm(),j=(0,i.useMemo)((()=>(0,b.F)(x)),[x]),{t:Z}=(0,m.$G)([j,"translation"]),v=a.Z.useWatch("ServiceKey",f),R=a.Z.useWatch("CarrierKey",f),I=a.Z.useWatch("CargoType",f);(0,i.useEffect)((()=>{l&&f.setFieldsValue({...l,choice:null===l||void 0===l?void 0:l.choiceDesc,cargoType:null===l||void 0===l?void 0:l.cargoTypeDesc,effectiveDateFrom:W()(null===l||void 0===l?void 0:l.effectiveDateFrom)})}),[l]);return(0,U.jsx)("div",{className:"".concat(d>=1?"pt-15":""),children:(0,U.jsx)(a.Z,{form:f,name:"routingGuideForm",onFinish:e=>{s(e,d)},children:(0,U.jsxs)(u.Z,{border:!0,children:[(0,U.jsxs)(n.Z,{className:"border-bottom-muted m-0 py-10",children:[(0,U.jsx)(o.Z,{sm:18,className:"pl-15 pr-15",children:(0,U.jsx)(n.Z,{align:"middle",children:(0,U.jsx)(o.Z,{sm:8,children:(0,U.jsx)(P.Z,{name:"Choice",rules:[{required:!0,message:"Please select choice"},()=>({validator:(e,t)=>p(t)?Promise.reject(new Error("Choice must be unique")):Promise.resolve()})],margin:"mb-0",singleLineMode:!0,editMode:t,colon:!0})})})}),(0,U.jsx)(o.Z,{sm:6,children:(0,U.jsx)(n.Z,{align:"middle",children:(0,U.jsx)(o.Z,{sm:24,className:"d-flex justify-content-end pr-15",children:(0,U.jsx)(K.Z,{onSave:()=>f.submit(),onCancel:()=>h(d,!1),editMode:t,setEditMode:e=>h(d,e),handleRemove:()=>g(d)})})})})]}),(0,U.jsxs)(n.Z,{className:"border-bottom-muted m-0 py-10 ",gutter:30,children:[(0,U.jsx)(o.Z,{sm:24,lg:6,children:(0,U.jsxs)(n.Z,{gutter:15,align:"middle",children:[(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(C.Z,{margin:"mb-15",label:Z("translation:default.fields.transportationProvider.label"),name:"CarrierKey",disabled:!1,form:f,editMode:t,rules:[{required:!0,message:"Please select transportationProvider "}],onChange:()=>{console.log(f),f.setFieldsValue({ServiceKey:void 0}),f.setFieldsValue({CargoType:void 0}),f.setFieldsValue({TransportationModeType:void 0})}})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(F.Z,{label:Z("translation:default.fields.serviceLevel.label"),placeholder:Z("translation:default.fields.serviceLevel.placeholder"),form:f,margin:"mb-15",name:"ServiceKey",editMode:t,rules:[{required:!0,message:"Please select service level "}],FirstCarrierServiceKey:R})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(D.Z,{label:Z("translation:default.fields.cargoType.label"),name:"CargoType",rules:[{required:!0,message:Z("translation:default.fields.cargoType.message")}],editMode:t,margin:"mb-15",serviceKey:v,carrierKey:R})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(M.Z,{name:"TransportationModeType",margin:"mb-0",editMode:t,colon:!0,rules:[{required:!0,message:"Please select Transportation Mode "}],serviceKey:v,carrierKey:R,cargoType:I})})]})}),(0,U.jsx)(o.Z,{sm:24,lg:6,children:(0,U.jsxs)(n.Z,{gutter:15,children:[(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(S.Z,{isDefault:!0,name:"WeightUOM",label:Z("translation:tms-settings.fields.weightUnitMeasure.label"),placeholder:Z("translation:tms-settings.fields.weightUnitMeasure.placeholder"),margin:"mb-15",editMode:t,tooltip:Z("translation:tms-settings.fields.weightUnitMeasure.tooltip")})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsxs)(n.Z,{gutter:12,children:[(0,U.jsx)(o.Z,{sm:12,children:(0,U.jsx)(c.Z,{name:"WeightBreakFrom",label:"Weight From",margin:"mb-15",editMode:t,inputType:"number",placeholder:"Weight From",className:"w-100"})}),(0,U.jsx)(o.Z,{sm:12,children:(0,U.jsx)(c.Z,{name:"WeightBreakTo",label:"Weight To",margin:"mb-15",editMode:t,inputType:"number",placeholder:"Weight To",className:"w-100"})})]})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(N.Z,{isDefault:!0,name:"PiecesUOM",label:"Pieces Unite of Measure",placeholder:"Select Pieces UOM",margin:"mb-15",editMode:t})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsxs)(n.Z,{gutter:12,children:[(0,U.jsx)(o.Z,{sm:12,children:(0,U.jsx)(c.Z,{name:"PiecesBreakFrom",label:"Pieces From",margin:"mb-15",editMode:t,inputType:"number",placeholder:"Pieces From",className:"w-100"})}),(0,U.jsx)(o.Z,{sm:12,children:(0,U.jsx)(c.Z,{name:"PiecesBreakTo",label:"Pieces To",margin:"mb-15",editMode:t,inputType:"number",placeholder:"Pieces To",className:"w-100"})})]})})]})}),(0,U.jsx)(o.Z,{sm:24,lg:6,children:(0,U.jsxs)(n.Z,{gutter:15,children:[(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(w.Z,{isDefault:!0,name:"CubeUOM",label:"Cube Unit of Measure",placeholder:"Select Cube UOM",margin:"mb-15",editMode:t})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsxs)(n.Z,{gutter:12,children:[(0,U.jsx)(o.Z,{sm:12,children:(0,U.jsx)(c.Z,{name:"CubeBreakFrom",label:"Cube From",margin:"mb-15",editMode:t,inputType:"number",placeholder:"Cube From",className:"w-100"})}),(0,U.jsx)(o.Z,{sm:12,children:(0,U.jsx)(c.Z,{name:"CubeBreakTo",label:"Cube To",margin:"mb-15",editMode:t,inputType:"number",placeholder:"Cube To",className:"w-100"})})]})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(O.Z,{label:Z("translation:default.fields.equipmentType.label"),margin:"mb-16",name:"equipmentType",editMode:t})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(T.Z,{loading:!1,options:E.pU,placeholder:"Select Auto Tender",label:"Auto Tender",margin:"mb-15",rules:[],name:"autoTender",editMode:t})})]})}),(0,U.jsx)(o.Z,{sm:24,lg:6,children:(0,U.jsxs)(n.Z,{gutter:15,children:[(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(T.Z,{loading:!1,options:E.DW,placeholder:"Select Recalculate Type",label:"Recalculate Type",margin:"mb-15",rules:[],name:"reCalculateType",editMode:t})}),(0,U.jsx)(o.Z,{sm:24,children:t?(0,U.jsx)(V.Z,{label:"Effective Date From",placeholder:"Select Effective Date From",margin:"mb-15",name:"effectiveDateFrom",rules:[{required:!0,message:"Please select date"}],editMode:t,disableFuture:!0}):(0,U.jsxs)("div",{children:[(0,U.jsxs)(G.Z,{className:"f-14 fw-700",children:["Effective Date From",(0,U.jsx)("span",{className:"required date-label",children:"*"})]}),(0,U.jsx)("br",{}),(0,U.jsx)(q.Z,{className:"f-14 fw-600 ",children:"".concat((0,y.GW)(null===l||void 0===l?void 0:l.effectiveDateFrom)," ")})]})}),(0,U.jsx)(o.Z,{sm:24,children:t?(0,U.jsx)(n.Z,{gutter:16,className:"mt-2",children:(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(V.Z,{label:"Effective Date To",name:"effectiveDateTo",editMode:t,margin:"mb-14",rules:[{required:!0,message:"Please select date"}],inputLabelClasss:"f-14 text-highlight"})})}):(0,U.jsxs)("div",{children:[(0,U.jsxs)(G.Z,{className:"f-14 fw-700",children:["Effective Date To",(0,U.jsx)("span",{className:"required date-label",children:"*"})]}),(0,U.jsx)("br",{}),(0,U.jsx)(q.Z,{className:"f-14 fw-600 ",children:"".concat((0,y.GW)(null===l||void 0===l?void 0:l.effectiveDateTo)," ")})]})})]})})]})]})})})},k=e=>{let{form:t}=e;const[l,s]=(0,i.useState)([]),[a,r]=(0,i.useState)(!1),c=(0,d.I0)();(0,i.useEffect)((()=>{s([{renderKey:Z().uniqueId(),isNew:!0,isUpdate:!0}]),r(!0),c((0,v.sg)([]))}),[]);const u=e=>l.some((t=>t.Choice===e));return(0,U.jsxs)("div",{children:[(0,U.jsx)(n.Z,{className:"align-items-right mb-15",justify:"end",children:(0,U.jsx)(o.Z,{children:(0,U.jsx)(f.Z,{id:"add-stops",disabled:a,onClick:()=>(()=>{let e=Z().cloneDeep(l);e=[{renderKey:Z().uniqueId(),isNew:!0,isUpdate:!0},...e],s(e),r(!0)})(),children:"Add New Record"})})}),l.map(((e,i)=>(0,U.jsx)(I,{editMode:e.isUpdate,onSave:(e,t)=>((e,t)=>{let i=Z().cloneDeep(l);i[t]={...i[t],...e,isUpdate:!1},console.log(i),s(i),r(!1),c((0,v.sg)(i))})(e,t),isExistChoice:u,index:i,form:t,data:e,setEditMode:(e,t)=>((e,t)=>{let i=Z().cloneDeep(l);i[e]={...i[e],isUpdate:t},s(i),c((0,v.sg)(i)),0===i.filter((e=>!0===e.isUpdate)).length&&r(!1)})(e,t),handleRemove:e=>(e=>{let t=Z().cloneDeep(l);!0===t[e].isNew&&(t.splice(e,1),s(t),0===t.filter((e=>!0===e.isUpdate)).length&&r(!1),c((0,v.sg)(t)),0===t.length&&(s([{renderKey:Z().uniqueId(),isNew:!0,isUpdate:!0}]),r(!0),c((0,v.sg)([]))))})(e)},e.renderKey)))]})};var z=l(77128),A=l(15610),B=l(90165),H=l(2083),L=(l(85757),l(73054)),$=l(5368),J=l(44259),Q=l(17446),X=l(84446),Y=l(84123),ee=l(47970),te=l(79593),le=l(87375),ie=l(88318);const se=e=>{let{form:t,isPartialSave:l}=e;const{selectedCompany:s}=(0,d.v9)((e=>e.auth)),u=a.Z.useWatch("OriginCountry",t),g=a.Z.useWatch("OriginState",t),p=a.Z.useWatch("OriginCity",t),x=a.Z.useWatch("DestinationCountry",t),f=a.Z.useWatch("DestinationState",t),j=a.Z.useWatch("DestinationCity",t);let Z=a.Z.useWatch("Hazmat",t);const{pathname:v}=(0,r.TH)(),y=(0,i.useMemo)((()=>(0,b.F)(v)),[v]),{t:C}=(0,m.$G)([y,"translation"]),F=a.Z.useWatch("portType",t),D=a.Z.useWatch("DescPortType",t),[S,P]=(0,i.useState)([]),[M,N]=(0,i.useState)([]),[w,O]=(0,i.useState)([]),[V,K]=(0,i.useState)([]),[R,W]=(0,i.useState)([]),[q,I]=(0,i.useState)([]),[k,se]=(0,i.useState)([]),[ae,ne]=(0,i.useState)([]),[oe,re]=(0,i.useState)([]),[de,ce]=(0,i.useState)([]);(0,i.useEffect)((()=>{if(w.length>0){let e=S.filter((e=>w.includes(e.countryCode))),l=V.filter((e=>w.includes(e.countryCode)));t.setFieldValue("OriginState",e),t.setFieldValue("OriginCity",l),P(e),K(l)}else 0===w.length&&(t.setFieldValue("OriginState",void 0),t.setFieldValue("OriginCity",void 0),t.setFieldValue("OriginPostalFrom",void 0),t.setFieldValue("OriginPostalTo",void 0),P([]),K([]))}),[w]),(0,i.useEffect)((()=>{if(q.length>0){let e=R.filter((e=>q.includes(e.countryCode))),l=M.filter((e=>q.includes(e.countryCode)));t.setFieldValue("DestinationState",e),t.setFieldValue("DestinationCity",l),W(e),N(l)}else 0===q.length&&(t.setFieldValue("DestinationState",void 0),t.setFieldValue("DestinationCity",void 0),t.setFieldValue("DestinationPostalFrom",void 0),t.setFieldValue("DestinationPostalTo",void 0),W([]),N([]))}),[q]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(n.Z,{gutter:30,children:[(0,U.jsx)(o.Z,{sm:4,children:(0,U.jsx)(c.Z,{inputType:"text",editMode:!0,label:"Routing Name",name:"RoutingName",margin:"m-0",placeholder:"Routing Name",rules:[{required:!0,message:"Please select Routing Name"}],maxLength:80})}),(0,U.jsx)(o.Z,{sm:4,children:(0,U.jsx)(J.Z,{name:"BranchKey",label:C("translation:default.fields.branch.label"),placeholder:C("translation:default.fields.branch.placeholder"),customerId:null===s||void 0===s?void 0:s.companyId,margin:"mb-15",rules:[{required:!0,message:"Please select branch"}],mode:"multiple",showAll:!0})}),(0,U.jsx)(o.Z,{sm:4,children:(0,U.jsx)(Y.Z,{name:"Vendors",mode:"multiple"})}),(0,U.jsx)(o.Z,{sm:4,children:(0,U.jsx)(Q.Z,{margin:"mb-15",label:C("translation:default.fields.shipmentType.label"),name:"ShipmentType",editMode:!0,rules:[],disableValidation:l})}),(0,U.jsx)(o.Z,{sm:4,children:(0,U.jsx)(T.Z,{label:"Inclusive/Exclusive",className:"w-100",margin:"m-0",placeholder:"Inclusive/Exclusive",name:"RoutingType",rules:[{required:!0,message:"Please select inclusive/exclusive"}],options:E.aS,onChange:e=>{return t=e,void console.log(t.value);var t}})}),(0,U.jsxs)(o.Z,{sm:4,className:"d-flex mt-2",children:[(0,U.jsxs)("div",{className:"d-flex gap-half",style:{flexDirection:"column"},children:[(0,U.jsx)(G.Z,{children:"Hazmat"}),(0,U.jsx)(B.Z,{onClick:(ue="Hazmat",e=>{t.setFieldValue(ue,Boolean(e))}),checkedChildren:"On",unCheckedChildren:"Off",checked:Z})]}),(0,U.jsx)(ee.Z,{name:"Hazmat"})]})]}),(0,U.jsx)(z.Z,{className:"my-16 w-100",dashed:!0}),(0,U.jsxs)(n.Z,{children:[(0,U.jsxs)(o.Z,{sm:12,className:"d-flex w-100 gap-1 align-items-center",children:[(0,U.jsx)(h.Z,{Icon:A.r,color:"success"}),"".concat(C("translation:default.fields.origin")),(0,U.jsx)("hr",{className:"w-83 border-top-success"})]}),(0,U.jsxs)(o.Z,{sm:12,className:"d-flex w-100 gap-1 align-items-center",children:[(0,U.jsx)(h.Z,{Icon:A.r,color:"danger"}),(0,U.jsx)(X.Z,{className:"f-14 text-danger",children:"".concat(C("translation:default.fields.destination"))}),(0,U.jsx)("hr",{className:"w-80 border-top-danger"})]})]}),(0,U.jsxs)(n.Z,{gutter:30,children:[(0,U.jsx)(o.Z,{sm:6,children:(0,U.jsxs)(n.Z,{gutter:30,children:[(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(H.Z,{isRemoved:!0,label:"".concat(C("translation:default.fields.country.label")),mode:"multiple",name:"OriginCountry",rules:[{required:!0,message:"Please enter country "}],onChange:e=>{O(e)},margin:"mb-10"})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(te.Z,{editMode:!0,label:"".concat(C("translation:default.fields.state.label")),placeholder:C("translation:default.fields.state.label"),margin:"mb-10",mode:"multiple",name:"OriginState",handleStateDetails:e=>{t.setFieldValue("OriginState",[...S,...e]),P([...S,...e])},countryCode:u,updateStateValue:e=>{let l=_.cloneDeep(S).filter((t=>e.includes(t.value)));P(l);let i=[];l.forEach((e=>{let t=V.filter((t=>t.countryCode===e.countryCode&&t.stateCode===e.value));i=[...i,...t]})),K(i),t.setFieldValue("OriginCity",i)}})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(le.Z,{editMode:!0,label:"".concat(C("translation:default.fields.city.label")),placeholder:C("translation:default.fields.city.label"),margin:"mb-15",mode:"multiple",name:"OriginCity",handleStateDetails:e=>{t.setFieldValue("OriginCity",[...V,...e]),K([...V,...e])},updateStateValue:e=>{let t=_.cloneDeep(V).filter((t=>e.includes(t.value)));K(t)},countryCode:u,stateCode:g})})]})}),(0,U.jsx)(o.Z,{sm:6,children:(0,U.jsxs)(n.Z,{gutter:30,children:[(0,U.jsx)(o.Z,{sm:24,className:"mb-16",children:(0,U.jsx)(ie.Z,{editMode:!0,label:"Postal From",placeholder:C("translation:default.fields.postalCode.label"),margin:"mb-0",name:"OriginPostalFrom",mode:"multiple",handleSelectedDetails:e=>{t.setFieldValue("OriginPostalFrom",[...k,e]),se([...k,e])},updateStateValue:e=>{let t=_.cloneDeep(k).filter((t=>e.includes(t.value)));se(t)},countryCode:u,stateCode:g,cityCode:p})}),(0,U.jsx)(o.Z,{sm:24,className:"mb-16",children:(0,U.jsx)(ie.Z,{editMode:!0,label:"Postal To",placeholder:C("translation:default.fields.postalCode.label"),margin:"mb-0",name:"OriginPostalTo",mode:"multiple",handleSelectedDetails:e=>{t.setFieldValue("OriginPostalTo",[...ae,e]),ne([...ae,e])},updateStateValue:e=>{let t=_.cloneDeep(ae).filter((t=>e.includes(t.value)));ne(t)},countryCode:u,stateCode:g,cityCode:p})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsxs)(n.Z,{gutter:12,children:[(0,U.jsxs)(o.Z,{sm:12,children:[" ",(0,U.jsx)(L.Z,{name:"portType",margin:"m-0"})]}),(0,U.jsxs)(o.Z,{sm:12,children:[" ",(0,U.jsx)($.Z,{name:"OriginPortCode",label:C("translation:default.fields.portCode.label"),editMode:!0,portType:F,handleValueRender:e=>null===e||void 0===e?void 0:e.text,countryCode:u})]})]})})]})}),(0,U.jsx)(o.Z,{sm:6,children:(0,U.jsxs)(n.Z,{gutter:30,children:[(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(H.Z,{isRemoved:!0,label:"".concat(C("translation:default.fields.country.label")),mode:"multiple",name:"DestinationCountry",rules:[{required:!0,message:"Please enter country "}],onChange:e=>{I(e)}})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(te.Z,{editMode:!0,label:"".concat(C("translation:default.fields.state.label")),placeholder:C("translation:default.fields.state.label"),margin:"mb-10",mode:"multiple",name:"DestinationState",handleStateDetails:e=>{t.setFieldValue("DestinationState",[...R,...e]),W([...R,...e])},countryCode:x,updateStateValue:e=>{let l=_.cloneDeep(R).filter((t=>e.includes(t.value)));W(l);let i=[];l.forEach((e=>{let t=M.filter((t=>t.countryCode===e.countryCode&&t.stateCode===e.value));i=[...i,...t]})),N(i),t.setFieldValue("DestinationCity",i)}})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsx)(le.Z,{editMode:!0,label:"".concat(C("translation:default.fields.city.label")),placeholder:C("translation:default.fields.city.label"),margin:"mb-15",mode:"multiple",name:"DestinationCity",handleStateDetails:e=>{t.setFieldValue("DestinationCity",[...M,...e]),N([...M,...e])},updateStateValue:e=>{let t=_.cloneDeep(M).filter((t=>e.includes(t.value)));N(t)},countryCode:x,stateCode:f})})]})}),(0,U.jsx)(o.Z,{sm:6,children:(0,U.jsxs)(n.Z,{gutter:30,children:[(0,U.jsx)(o.Z,{sm:24,className:"mb-16",children:(0,U.jsx)(ie.Z,{editMode:!0,label:"Postal From",placeholder:C("translation:default.fields.postalCode.label"),margin:"mb-0",name:"DestinationPostalFrom",mode:"multiple",handleSelectedDetails:e=>{t.setFieldValue("DestinationPostalFrom",[...oe,e]),re([...oe,e])},updateStateValue:e=>{let t=_.cloneDeep(oe).filter((t=>e.includes(t.value)));re(t)},countryCode:x,stateCode:f,cityCode:j})}),(0,U.jsx)(o.Z,{sm:24,className:"mb-16",children:(0,U.jsx)(ie.Z,{editMode:!0,label:"Postal To",placeholder:C("translation:default.fields.postalCode.label"),margin:"mb-0",name:"DestinationPostalTo",mode:"multiple",handleSelectedDetails:e=>{t.setFieldValue("DestinationPostalTo",[...de,e]),ce([...de,e])},updateStateValue:e=>{let t=_.cloneDeep(de).filter((t=>e.includes(t.value)));ce(t)},countryCode:x,stateCode:f,cityCode:j})}),(0,U.jsx)(o.Z,{sm:24,children:(0,U.jsxs)(n.Z,{gutter:12,children:[(0,U.jsxs)(o.Z,{sm:12,children:[" ",(0,U.jsx)(L.Z,{name:"DescPortType",margin:"m-0"})]}),(0,U.jsx)(o.Z,{sm:12,children:(0,U.jsx)($.Z,{name:"DestinationPortCode",label:C("translation:default.fields.portCode.label"),editMode:!0,portType:D,handleValueRender:e=>null===e||void 0===e?void 0:e.text,countryCode:x})})]})})]})})]})]});var ue},ae=e=>{let{routingGuideForm:t,transportDetailsForm:l,activeKey:s,setActiveKey:d}=e;const{pathname:c}=(0,r.TH)(),u=(0,i.useMemo)((()=>(0,b.F)(c)),[c]),{t:f}=(0,m.$G)([u,"translation"]),j=e=>{let{title:t,Icon:l,size:i=25}=e;return(0,U.jsxs)(n.Z,{gutter:10,align:"middle",children:[(0,U.jsx)(o.Z,{className:"lh-0",children:(0,U.jsx)(h.Z,{width:i,height:i,Icon:l})}),(0,U.jsx)(o.Z,{className:"lh-0",children:(0,U.jsx)("label",{className:"lh-0 text-dark cursor-pointer",children:t})})]})};return(0,U.jsx)(x.Z,{forceRender:!0,handleTabClick:e=>{e&&e[1]?d(e[1]):d("")},activeKey:s,tabs:[{tabKey:"1",content:(0,U.jsx)(a.Z,{initialValues:{status:"New",Hazmat:!1},form:t,name:"routingGuideForm",children:(0,U.jsx)(se,{form:t})}),header:(0,U.jsx)(j,{title:"User Status Change",Icon:g.r,size:25})},{tabKey:"2",content:(0,U.jsx)(k,{form:l}),header:(0,U.jsx)(j,{title:f("translation:shipmentAdd.titles.transportation"),Icon:p.r,size:25})}]})};l(87046);var ne=l(67766);function oe(){const{pathname:e}=(0,r.TH)(),t=(0,i.useMemo)((()=>(0,b.F)(e)),[e]),{t:l}=(0,m.$G)([t,"translation"]),[s,h]=(0,i.useState)(["1","2","3","4","5","6","7","8"]),g=(0,r.s0)(),p=(0,d.I0)(),[x,f]=(0,i.useState)({}),[j]=a.Z.useForm(),[Z]=a.Z.useForm(),[y]=a.Z.useForm(),[C]=a.Z.useForm(),F=(0,d.v9)((e=>e.common.notificationAPI)),{shipmentBranches:D}=(0,d.v9)((e=>e.lookups)),{transportData:T,createRoutingGuide:S,routingGuideData:P}=(0,d.v9)((e=>null===e||void 0===e?void 0:e.routingGuide));(0,i.useEffect)((()=>{null!==S&&void 0!==S&&S.success&&(p((0,v.DC)()),g(-1))}),[S]);const M=async()=>{try{var e,t,l,i,s,a,n,o,r,d;const c=[(0,ne.G$)(Z,"routingGuideForm")];await Promise.all(c);const u={...Z.getFieldsValue(),RoutingDetail:T};if(0===u.RoutingDetail.length)return(0,ne.Nh)(F,{type:E.GT.ERROR,title:"Please add the transport details"}),!1;if(!u.RoutingDetail.some((e=>e.hasOwnProperty("Choice")&&""!=e.Choice)))return(0,ne.Nh)(F,{type:E.GT.ERROR,title:"Please validate transport details"}),!1;let m=[];null===u||void 0===u||null===(e=u.OriginCountry)||void 0===e||e.forEach((e=>{m.push({routingKey:0,countryCode:e,routingCountryKey:0})})),null===u||void 0===u||null===(t=u.OriginState)||void 0===t||t.forEach((e=>{e.stateCode=e.value})),null===u||void 0===u||null===(l=u.OriginCity)||void 0===l||l.forEach((e=>{e.routingCityKey=0,e.routingKey=0,e.city=e.value}));let h=[];null===u||void 0===u||null===(i=u.DestinationCountry)||void 0===i||i.forEach((e=>{h.push({routingKey:0,countryCode:e,routingCountryKey:0})})),null===u||void 0===u||null===(s=u.DestinationState)||void 0===s||s.forEach((e=>{e.stateCode=e.value})),null===u||void 0===u||null===(a=u.DestinationCity)||void 0===a||a.forEach((e=>{e.routingCityKey=0,e.routingKey=0,e.city=e.value})),null===u||void 0===u||null===(n=u.OriginPostalFrom)||void 0===n||n.forEach((e=>{e.routingKey=0,e.routingZipKey=0,e.zipCode=e.zip,e.countryCode=e.country})),null===u||void 0===u||null===(o=u.OriginPostalTo)||void 0===o||o.forEach((e=>{e.routingKey=0,e.routingZipKey=0,e.zipCode=e.zip,e.countryCode=e.country})),null===u||void 0===u||null===(r=u.DestinationPostalFrom)||void 0===r||r.forEach((e=>{e.routingKey=0,e.routingZipKey=0,e.zipCode=e.zip,e.countryCode=e.country})),null===u||void 0===u||null===(d=u.DestinationPostalTo)||void 0===d||d.forEach((e=>{e.routingKey=0,e.routingZipKey=0,e.zipCode=e.zip,e.countryCode=e.country}));const g={routingKey:0,branchKey:u.BranchKey.map((e=>e.toString())),shipmentType:(null===u||void 0===u?void 0:u.ShipmentType)||"",vendors:u.Vendors||[],routingType:(null===u||void 0===u?void 0:u.RoutingType)||"",routingName:(null===u||void 0===u?void 0:u.RoutingName)||"",hazmat:(null===u||void 0===u?void 0:u.Hazmat)||!1,originCountry:m,originState:null===u||void 0===u?void 0:u.OriginState,originCity:null===u||void 0===u?void 0:u.OriginCity,originPostalFrom:null===u||void 0===u?void 0:u.OriginPostalFrom,originPostalTo:null===u||void 0===u?void 0:u.OriginPostalTo,originPortCode:[],destinationCountry:h,destinationState:null===u||void 0===u?void 0:u.DestinationState,destinationCity:null===u||void 0===u?void 0:u.DestinationCity,destinationPostalFrom:null===u||void 0===u?void 0:u.DestinationPostalFrom,destinationPostalTo:null===u||void 0===u?void 0:u.DestinationPostalTo,destinationPortCode:[],routingDetail:null===u||void 0===u?void 0:u.RoutingDetail};p((0,v.Ie)(g))}catch(c){console.log("errr",c)}};return(0,U.jsx)(a.Z.Provider,{className:"overflow-hidden h-100",onFormFinish:async(e,t)=>{let{forms:l}=t;"saveButtonForm"===e&&M()},children:(0,U.jsxs)(n.Z,{className:"flex-direction-column flex-nowrap overflow-hidden h-100",children:[(0,U.jsx)(o.Z,{className:"mb-15",children:(0,U.jsx)(u.Z,{className:"p-15 border-radius-bottom-none",children:(0,U.jsxs)(n.Z,{align:"middle",justify:"space-between",children:[(0,U.jsx)(o.Z,{children:(0,U.jsx)(a.Z,{form:j,children:(0,U.jsx)(c.Z,{editMode:!1,margin:"m-0",singleLineMode:!0,label:"Add Routing Guide",colon:!0,name:"routingGuideId"})})}),(0,U.jsx)(o.Z,{children:(0,U.jsx)(a.Z,{name:"saveButtonForm",children:(0,U.jsx)(K.Z,{onSave:()=>{},onCancel:()=>g(-1)})})})]})})}),(0,U.jsx)(o.Z,{className:"flex-1 custom-scroll-bar",children:(0,U.jsx)(ae,{setRoutingGuideEntry:f,routingGuideForm:Z,transportDetailsForm:C,activeKey:s,setActiveKey:h,accountingForm:y})})]})})}const re=function(){return(0,U.jsx)(s.Z,{contentElement:(0,U.jsx)(oe,{})})}}}]);
//# sourceMappingURL=54.52ca5f9e.chunk.js.map