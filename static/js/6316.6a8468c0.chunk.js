"use strict";(self.webpackChunknvision_TMS=self.webpackChunknvision_TMS||[]).push([[6316],{79010:(e,l,t)=>{t.d(l,{r:()=>o});var a,n=t(72791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},s.apply(this,arguments)}function i(e,l){let{title:t,titleId:i,...o}=e;return n.createElement("svg",s({width:4,height:4,viewBox:"0 0 4 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l,"aria-labelledby":i},o),t?n.createElement("title",{id:i},t):null,a||(a=n.createElement("circle",{cx:2,cy:2,r:1.5,fill:"#131432",stroke:"#131432"})))}const o=n.forwardRef(i);t.p},15610:(e,l,t)=>{t.d(l,{r:()=>d});var a,n,s=t(72791);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(this,arguments)}function o(e,l){let{title:t,titleId:o,...d}=e;return s.createElement("svg",i({width:16,height:20,viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l,"aria-labelledby":o},d),t?s.createElement("title",{id:o},t):null,a||(a=s.createElement("path",{d:"M7.51246 19.7391C7.62113 19.9021 7.8041 20 8 20C8.1959 20 8.37887 19.9021 8.48754 19.7391C9.87422 17.6591 11.9167 15.0903 13.34 12.4778C14.478 10.3889 15.0312 8.60727 15.0312 7.03125C15.0312 3.15422 11.877 0 8 0C4.12297 0 0.96875 3.15422 0.96875 7.03125C0.96875 8.60727 1.52199 10.3889 2.66004 12.4778C4.08227 15.0883 6.12863 17.6634 7.51246 19.7391ZM8 1.17188C11.2309 1.17188 13.8594 3.80039 13.8594 7.03125C13.8594 8.40641 13.3529 10.0046 12.3109 11.9171C11.0841 14.1691 9.33336 16.4534 8 18.3738C6.66684 16.4537 4.91602 14.1692 3.6891 11.9171C2.64715 10.0046 2.14062 8.40641 2.14062 7.03125C2.14062 3.80039 4.76914 1.17188 8 1.17188Z",fill:"#0AA45A"})),n||(n=s.createElement("path",{d:"M8 10.5469C9.93852 10.5469 11.5156 8.96977 11.5156 7.03125C11.5156 5.09273 9.93852 3.51562 8 3.51562C6.06148 3.51562 4.48438 5.09273 4.48438 7.03125C4.48438 8.96977 6.06148 10.5469 8 10.5469ZM8 4.6875C9.29234 4.6875 10.3438 5.73891 10.3438 7.03125C10.3438 8.32359 9.29234 9.375 8 9.375C6.70766 9.375 5.65625 8.32359 5.65625 7.03125C5.65625 5.73891 6.70766 4.6875 8 4.6875Z",fill:"#0AA45A"})))}const d=s.forwardRef(o);t.p},40891:(e,l,t)=>{t.d(l,{D4:()=>d,Di:()=>n,Hm:()=>o,Jg:()=>a,Lk:()=>i,YJ:()=>s});t(68825);const a=[{label:"Project Status",value:"isActive"},{label:"Project Name",value:"projectName"},{label:"Project Approved By",value:"approvedBy"},{label:"Project Approved Status",value:"isApproved"}],n=[{label:"Tender Name",value:"TenderName"},{label:"Tender ID",value:"TenderID"},{label:"Project Name",value:"Projectname"},{label:"Project Id",value:"ProjectID"},{label:"Tender Start Date",value:"TenderstartDate"},{label:"Tender End Date",value:"TenderendDate"}],s=[{label:"Location Name",value:"LocationName"},{label:"Country",value:"CountryCode"},{label:"State",value:"StateCode"},{label:"Postal",value:"PostalCode"},{label:"City",value:"CityName"},{label:"Port",value:"portname"}],i=[{label:"Origin Type",value:"originType"},{label:"Origin Name",value:"originName"},{label:"Destination Type",value:"destinationType"},{label:"Destination Name",value:"destinationName"}],o=[{label:"Zone Name",value:"regionName"},{label:"Zone Description",value:"regionDescription"}],d=[{label:"Location",value:"Location"},{label:"Zone",value:"Zone"}]},2197:(e,l,t)=>{t.d(l,{Z:()=>p});var a,n,s=t(66106),i=t(30914),o=t(72791),d=t(28478),r=t(79010);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},c.apply(this,arguments)}function u(e,l){let{title:t,titleId:s,...i}=e;return o.createElement("svg",c({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 5.3 7",style:{enableBackground:"new 0 0 5.3 7"},xmlSpace:"preserve",ref:l,"aria-labelledby":s},i),t?o.createElement("title",{id:s},t):null,a||(a=o.createElement("style",{type:"text/css"},"\n\t.st0{fill:#C5C5C5;}\n")),n||(n=o.createElement("polygon",{className:"st0",points:"5.3,3.5 0.4,0.6 0.3,6.4 "})))}const m=o.forwardRef(u);t.p;var h=t(80184);const p=e=>{let{size:l=10,dotIcon:t=!0,rightArrow:a=!0}=e;return(0,h.jsxs)(s.Z,{className:"horizontal-bar-container",align:"middle",children:[!0===t&&(0,h.jsx)(i.Z,{className:"icon-container lh-".concat(l),style:{height:l},children:(0,h.jsx)(d.Z,{Icon:r.r,color:"distanceColor",width:l,height:l})}),(0,h.jsx)(i.Z,{className:"flex-1",style:{height:1},children:(0,h.jsx)("div",{className:"line"})}),!0===a&&(0,h.jsx)(i.Z,{className:"icon-container lh-".concat(l),style:{height:l},children:(0,h.jsx)(d.Z,{Icon:m,color:"",width:l,height:l})})]})}},81160:(e,l,t)=>{t.d(l,{Z:()=>s});var a=t(94433),n=(t(72791),t(80184));const s=e=>{let{title:l,children:t,labelClass:s=!1,textClass:i,childClassName:o}=e;return(0,n.jsxs)("div",{className:"field-card-container ".concat(i),children:[(0,n.jsx)(a.Z.Text,{className:"field-card-title ".concat(s),children:l}),(0,n.jsx)("div",{className:"content ".concat(o),children:t})]})}},56119:(e,l,t)=>{t.d(l,{Z:()=>h});var a=t(48490),n=(t(72791),t(5045)),s=t(88858),i=t(47970),o=t(66106),d=t(30914),r=t(84446),c=t(80184);const u=e=>{let{data:l,accessors:t}=e;return(0,c.jsxs)(o.Z,{className:"custom-options-container",gutter:5,children:[(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:null===l||void 0===l?void 0:l.zip})}),(0,c.jsx)(d.Z,{className:"custom-label",children:(0,c.jsxs)(o.Z,{gutter:5,children:[(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:"-"})}),(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:null===l||void 0===l?void 0:l.city})}),(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:"-"})}),(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:null===l||void 0===l?void 0:l.state})})]})})]})};var m=t(68825);const h=e=>{let{placeholder:l=m.ZP.t("translation:default.fields.postalCode.selectPlaceholder"),label:t=m.ZP.t("translation:default.fields.postalCode.label"),rules:o=[],name:d,editMode:r,margin:h,singleLineMode:p,inverMode:v,onChange:x=(()=>{}),colon:f,form:j={},countryCode:Z,className:y=""}=e;const g=a.Z.useWatch(d,j);return(0,c.jsxs)("div",{className:"async-select-box",children:[(0,c.jsx)(s.Z,{className:y,placeholder:l,label:t,rules:o,editMode:r,margin:h,singleLineMode:p,inverMode:v,colon:f,asyncFetchMode:!0,asynchFuntion:n.H4,defaultParams:{PageSize:10,PageIndex:1,CountryCode:Z},onChange:e=>{j.setFieldValue(d,null===e||void 0===e?void 0:e.zip),x(e)},value:g,accessors:{label:"zip",value:"zip"},onClear:()=>j.setFieldsValue({[d]:void 0}),searchParamName:"PostalCode",CustomOptionsComponent:u}),(0,c.jsx)(i.Z,{name:d,rules:o})]})}},31893:(e,l,t)=>{t.d(l,{Z:()=>d});var a=t(72791),n=t(68825),s=t(88858),i=t(1212),o=t(80184);const d=e=>{let{placeholder:l=n.ZP.t("translation:default.fields.portType.placeholder"),label:t=n.ZP.t("translation:default.fields.portType.label"),rules:d=[],name:r,editMode:c,portType:u,mode:m="",handleChange:h=(()=>{}),margin:p="mb-0",countryCode:v,stateCode:x,cityName:f}=e;const[j,Z]=(0,a.useState)([]),[y,g]=(0,a.useState)(!1),[N,b]=(0,a.useState)([]);(0,a.useEffect)((()=>{v&&x&&f&&C(v,x,f)}),[v,x,f]);const C=async(e,l,t)=>{try{g(!0);const{data:a}=await(0,i.Py)({countryCode:e,stateCode:l,cityName:t});b(a);let n=a.map((e=>({label:e.portName,value:e.portRecKey})));Z(n),g(!1)}catch(a){console.log(a),Z([]),g(!1)}};return(0,o.jsx)(s.Z,{loading:y,options:j,placeholder:l,label:t,margin:p,rules:d,name:r,mode:m,editMode:c,onChange:e=>{if(e){let l=N.filter((l=>l.portRecKey==e.value)).map((e=>({portId:"".concat(e.portRecKey),portName:e.portName,portType:e.portType,portCode:e.portCode})));h((null===l||void 0===l?void 0:l[0])||{})}}},u)}},94759:(e,l,t)=>{t.d(l,{Z:()=>q});var a=t(48490),n=t(36473),s=t(66106),i=t(30914),o=t(89862),d=t(72791),r=t(2197),c=t(81160),u=t(78410),m=t(88858),h=t(84446),p=t(15610),v=t(28478),x=t(98580),f=t(16871),j=t(39230),Z=t(60914),y=t(80184);const g=function(e){let{item:l}=e;const[t]=a.Z.useForm(),{pathname:n}=(0,f.TH)(),o=(0,d.useMemo)((()=>(0,Z.F)(n)),[n]),{t:r}=(0,j.$G)([o,"translation"]);return(0,d.useEffect)((()=>{l&&t.setFieldsValue(l)}),[l]),(0,y.jsx)(a.Z,{form:t,children:(0,y.jsxs)(s.Z,{className:"mt-16",children:[(0,y.jsx)(i.Z,{sm:6,children:(0,y.jsx)(x.Z,{label:r("translation:default.fields.country.label"),name:"countryName",editMode:!1})}),(0,y.jsx)(i.Z,{sm:6,children:(0,y.jsx)(x.Z,{label:r("translation:default.fields.stateProvince.label"),name:"stateName",editMode:!1})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(x.Z,{label:r("translation:default.fields.postalCode.label"),name:"postalCode",editMode:!1})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(x.Z,{label:r("translation:default.fields.city.label"),name:"cityName",editMode:!1})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(x.Z,{label:r("translation:default.fields.portCode.label"),name:"portName",editMode:!1})})]})})};var N=t(40891),b=t(10686),C=t(89252),I=t(9682),M=t(10662),w=t(25201),S=t(95048),T=t(55673),P=t(67766),F=t(9835),D=t(48740),L=t(2083),V=t(99740),k=t(31893),E=t(85757),A=t(46130),O=(t(67893),t(31008)),W=t(32311);const z=function(e){var l;let{data:t,updateValues:o=(()=>{}),indexVal:r}=e;const[c]=a.Z.useForm(),{pathname:u}=(0,f.TH)(),m=(0,d.useMemo)((()=>(0,Z.F)(u)),[u]),{t:h}=(0,j.$G)([m,"translation"]);return(0,y.jsx)(a.Z,{form:c,initialValues:{regionName:t.regionName},children:(0,y.jsx)(n.Z,{title:(0,y.jsxs)(s.Z,{children:[(0,y.jsx)(i.Z,{sm:12,className:"d-flex gap-half align-items-center",children:(0,y.jsx)(x.Z,{label:h("translation:procurement.fields.zoneName.label"),name:"regionName",margin:"m-0",editMode:!1,singleLineMode:!0})}),(0,y.jsx)(i.Z,{sm:12,className:"d-flex justify-content-end",children:(0,y.jsx)(A.Z,{fullWidth:!1,type:"primary",onClick:e=>o(t),buttonType:"ADD",disabled:t.checked,children:"Select"})})]}),className:"mb-15 paper-container visibility-file-card procurement-file-upload",children:null===t||void 0===t||null===(l=t.locations)||void 0===l?void 0:l.map(((e,l)=>(0,y.jsx)(s.Z,{gutter:20,children:(0,y.jsxs)(d.Fragment,{children:[(0,y.jsx)(i.Z,{sm:5,children:(0,y.jsx)(x.Z,{label:h("translation:default.fields.country.placeholder"),name:"country".concat(l),editMode:!1,defaultValue:e.countryName})}),(0,y.jsx)(i.Z,{sm:5,children:(0,y.jsx)(x.Z,{label:h("translation:default.fields.stateProvince.placeholder"),name:"stateName".concat(l),editMode:!1,defaultValue:e.stateName})}),(0,y.jsx)(i.Z,{sm:5,children:(0,y.jsx)(x.Z,{label:h("translation:default.fields.postalCode.selectPlaceholder"),name:"postalCode".concat(l),editMode:!1,defaultValue:e.postalCode})}),(0,y.jsx)(i.Z,{sm:5,children:(0,y.jsx)(x.Z,{label:h("translation:default.fields.city.label"),name:"cityName".concat(l),editMode:!1,defaultValue:e.postalCode})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(x.Z,{label:h("translation:default.fields.portCode.label"),editMode:!1,name:"portName".concat(l),defaultValue:e.portName})})]})})))},t.locationId)},t.regionId)};var H=t(56521);const R=function(e){let{updateSelectedLocationHandler:l=(()=>{})}=e;const[t]=a.Z.useForm(),n=(0,S.I0)(),o=a.Z.useWatch("selectedCountry",t),r=a.Z.useWatch("state",t),c=a.Z.useWatch("cityName",t),[u,m]=(0,d.useState)({portId:"",portName:"",portType:"",portCode:""}),{pathname:h}=(0,f.TH)(),p=(0,d.useMemo)((()=>(0,Z.F)(h)),[h]),{t:v}=(0,j.$G)([p,"translation"]),[g,N]=(0,d.useState)([]),[b,C]=(0,d.useState)(0),[I,M]=(0,d.useState)(1),[w,T]=(0,d.useState)(!1),[P,F]=(0,d.useState)({}),[R,q]=(0,d.useState)(!1);return(0,y.jsxs)(d.Fragment,{children:[(0,y.jsxs)(a.Z,{form:t,initialValues:{ZoneName:"",cityName:[],portCode:[],postalCode:[],selectedCountry:"US",state:[]},children:[(0,y.jsxs)(s.Z,{gutter:12,children:[(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(x.Z,{placeholder:v("translation:procurement.fields.zoneName.placeholder"),label:v("translation:procurement.fields.zoneName.label"),editMode:!0,name:"ZoneName"})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(L.Z,{label:v("translation:default.fields.country.label"),name:"selectedCountry",editMode:!0,margin:"mb-15",onChange:()=>{t.setFieldsValue({cityName:[],portCode:[],postalCode:[],state:[]})}})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(V.Z,{label:v("translation:default.fields.state.label"),name:"state",countryCode:o,editMode:!0,margin:"mb-15"})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(E.Z,{label:v("translation:default.fields.postalCode.label"),editMode:!0,margin:"mb-15",name:"postalCode",placeholder:v("translation:default.fields.postalCode.label"),handleZipDetails:e=>{t.setFieldsValue({state:e.state.trim(),cityName:e.city.trim(),selectedCountry:(null===e||void 0===e?void 0:e.countryCode)||"",postalCode:(null===e||void 0===e?void 0:e.zip)||""})},countryCode:o})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(x.Z,{label:v("translation:default.fields.city.label"),editMode:!0,name:"cityName",margin:"mb-15",maxLength:"50"})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(k.Z,{placeholder:v("translation:default.fields.portCode.placeholderSelect"),label:v("translation:default.fields.portCode.label"),editMode:!0,name:"portCode",margin:"m-0",countryCode:o,stateCode:r,cityName:c,handleChange:e=>{m(e)}})})]}),(0,y.jsxs)(s.Z,{gutter:12,children:[(0,y.jsx)(i.Z,{sm:16}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(A.Z,{fullWidth:!0,type:"default",onClick:()=>t.resetFields(),buttonType:"button",children:v("translation:default.buttons.clear")})}),(0,y.jsx)(i.Z,{sm:4,children:(0,y.jsx)(A.Z,{fullWidth:!0,type:"primary",onClick:()=>(async()=>{var e,l;let a=t.getFieldsValue();n((0,D.ef)(!0)),N([]),C(0),M(1),T(!0);let s={country:(null===a||void 0===a?void 0:a.selectedCountry)||"",state:(null===a||void 0===a?void 0:a.state)||"",city:(null===a||void 0===a?void 0:a.cityName)||"",port:(null===a||void 0===a?void 0:a.portCode)||"",postal:(null===a||void 0===a?void 0:a.postalCode)||"",name:(null===a||void 0===a?void 0:a.ZoneName)||"",PageNo:1,PageSize:10},i=await(0,O.Ac)(s);F(s);let o=[];null===i||void 0===i||null===(e=i.data)||void 0===e||e.data.forEach((e=>{o.push({...e,renderKey:_.uniqueId(),checked:!1})})),N(o),C((null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.total)||0),n((0,D.ef)(!1)),T(!1)})(),buttonType:"button",children:v("translation:default.buttons.search")})})]})]}),!1===w&&0===g.length&&(0,y.jsx)("div",{className:"h-73 mt-15",children:(0,y.jsx)(H.Z,{})}),(0,y.jsx)(W.Z,{className:"".concat((null===g||void 0===g?void 0:g.length)>0?"mb-15":"pb-15"," h-75 mt-15"),loadMore:async()=>{var e;T(!0);let l=await(0,O.Ac)({...P,PageNo:I+1}),t=[];null===l||void 0===l||null===(e=l.data)||void 0===e||e.data.forEach((e=>{t.push({...e,renderKey:_.uniqueId(),checked:!1})})),N([...g,...t]),M(I+1),T(!1)},hasMore:(null===g||void 0===g?void 0:g.length)<b,isLoading:!0===w,scrollOffset:0,children:null===g||void 0===g?void 0:g.map(((e,t)=>(0,y.jsx)(z,{data:e,indexVal:t,updateValues:e=>{l(e)}},e.renderKey)))})]})};const q=function(e){var l,t,L,V;let{data:k,isAddTender:E=!1,renderKey:O,isSearch:W=!1,updateStateHandler:z=(()=>{})}=e;const[H,q]=(0,d.useState)(!1),[K]=a.Z.useForm(),{pathname:G}=(0,f.TH)(),B=(0,d.useMemo)((()=>(0,Z.F)(G)),[G]),{t:$}=(0,j.$G)([B,"translation"]),_=(0,S.I0)(),[U,J]=(0,d.useState)(!1),X=(a.Z.useWatch("selectedCountry",K),a.Z.useWatch("originType",K)),Y=a.Z.useWatch("destinationType",K),Q=(0,S.v9)((e=>e.common.notificationAPI)),{selectedLaneListItems:ee}=(0,S.v9)((e=>e.procurementLane)),[le,te]=(a.Z.useWatch("state",K),(0,d.useState)(!1)),[ae,ne]=(0,d.useState)("");return(0,d.useEffect)((()=>{z()}),[U]),(0,d.useEffect)((()=>{null!==k&&void 0!==k&&k.isNew&&q(!0)}),[k]),(0,d.useEffect)((()=>{var e,l,t,a;k&&K.setFieldsValue({...k,originName:(null===k||void 0===k||null===(e=k.originDetailsItems)||void 0===e||null===(l=e[0])||void 0===l?void 0:l.locationName)||"",destinationName:(null===k||void 0===k||null===(t=k.destinationDetailsItems)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.locationName)||""})}),[k]),(0,y.jsxs)(a.Z,{form:K,children:[(0,y.jsx)("div",{className:"overflow-y-inherit d-flex flex-direction-column",children:(0,y.jsx)("div",{className:"d-flex flex-direction-column overflow-hidden br-4",children:(0,y.jsx)("div",{className:"custom-scroll-bar overflow-x-hidden mb-15 flex-1",children:(0,y.jsx)(n.Z,{title:(0,y.jsxs)(s.Z,{children:[(0,y.jsxs)(i.Z,{sm:20,className:"d-flex gap-half align-items-center",children:[(!H||H&&!k.isNew)&&(0,y.jsxs)(d.Fragment,{children:[E&&!W&&(0,y.jsx)(o.Z,{className:"normal-checkbox",checked:k.isSelected,onChange:e=>{k.isSelected=!k.isSelected,J(!U)}}),(0,y.jsx)(c.Z,{title:"".concat($("translation:procurement.routeConfigurationTabs.lane"),":"),textClass:"d-flex align-items-center gap-half",children:(0,y.jsxs)("div",{className:"d-flex align-items-center gap-1",children:[(0,y.jsx)(h.Z,{className:"f-14 text-success",children:null===k||void 0===k?void 0:k.originName}),(0,y.jsx)("div",{style:{width:"3em"},children:(0,y.jsx)(r.Z,{})}),(0,y.jsx)(h.Z,{className:"f-14 text-danger-3",children:null===k||void 0===k?void 0:k.destinationName})]})})]}),H&&k.isNew&&(0,y.jsx)(c.Z,{title:"".concat($("translation:procurement.routeConfigurationTabs.lane"),":"),textClass:"d-flex align-items-center gap-half",children:"Add New Lane"})]}),(0,y.jsx)(i.Z,{sm:4,children:E&&W&&(0,y.jsx)(A.Z,{fullWidth:!0,type:"primary",onClick:()=>{k.isSelected=!k.isSelected,J(!U);let e=!1===k.isSelected?ee.filter((e=>!0===e.isSelected)):[...ee,k];_((0,w.ZX)(e))},buttonType:"button",children:!0===(null===k||void 0===k?void 0:k.isSelected)?"Unselect":"Select"})})]}),extra:!E&&(0,y.jsx)(u.Z,{hideDeleteButton:!0,isNew:!1,editMode:H,setEditMode:()=>q(!0),onCancel:()=>{_((0,w.mP)("removeNewRecords")),q(!1)},handleRemove:()=>q(!1),onSave:()=>(async()=>{var e,l,t,a,n,s,i,o;let d=[{laneId:k.laneId||0,tenderLaneId:0,originType:"Location"===X?"L":"Z",originId:null===(e=k.originDetailsItems)||void 0===e||null===(l=e[0])||void 0===l?void 0:l.locationId,destinationType:"Location"===Y?"L":"Z",destinationId:null===(t=k.destinationDetailsItems)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.locationId}];if(!X||!Y||void 0===d[0].destinationId||void 0===d[0].originId)return!1;_((0,D.ef)(!0));let r=await(0,T.j)(d);_((0,D.ef)(!1)),null!==r&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.success&&null!==r&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.valid&&(null===r||void 0===r||null===(i=r.data)||void 0===i||null===(o=i.savedLanes)||void 0===o?void 0:o.length)>0?((0,P.Nh)(Q,{type:F.GT.SUCCESS,title:null===r||void 0===r?void 0:r.data.message}),_((0,w.mP)("reset")),_((0,w.mP)()),_((0,w.PG)())):(0,P.Nh)(Q,{type:F.GT.ERROR,title:null===r||void 0===r?void 0:r.data.message})})()}),children:(0,y.jsx)(s.Z,{children:(0,y.jsx)(d.Fragment,{children:(0,y.jsx)(i.Z,{sm:24,children:(0,y.jsxs)("div",{className:"d-flex",children:[(0,y.jsxs)("div",{className:"w-49 pr-15",children:[(0,y.jsx)(s.Z,{children:(0,y.jsxs)(i.Z,{sm:24,className:"d-flex w-100 gap-1 align-items-center",children:[(0,y.jsx)(v.Z,{Icon:p.r,color:"success"}),(0,y.jsx)(h.Z,{className:"f-14 text-success",children:"".concat($("translation:default.fields.origin"),":")}),(0,y.jsx)("hr",{className:"w-75 border-top-success"})]})}),(0,y.jsxs)(s.Z,{className:"mt-16",children:[(0,y.jsx)(i.Z,{sm:8,children:(0,y.jsx)(m.Z,{loading:!1,options:N.D4,className:"pr-15",placeholder:$("translation:default.buttons.select"),label:$("translation:procurement.fields.originType.label"),rules:[{required:!0,message:"Please select origin type"}],name:"originType",editMode:H,onChange:()=>{k.originDetailsItems=[],K.setFieldsValue({originName:""}),te(!1)}})}),(0,y.jsx)(i.Z,{sm:8,children:(0,y.jsx)("div",{onClick:()=>{X&&(te(!0),ne("origin"))},children:(0,y.jsx)(x.Z,{editMode:H,label:$("translation:procurement.fields.originName.label"),placeholder:$("translation:procurement.fields.originName.label"),name:"originName",style:{height:"2rem"},readOnly:!0,addonAfter:(0,y.jsx)(b.Z,{children:(0,y.jsx)(v.Z,{Icon:C.r,color:"muted"})}),rules:[{required:!0,message:"Please select origin name"}]})})})]}),(null===k||void 0===k||null===(l=k.originDetailsItems)||void 0===l?void 0:l.length)>0&&(0,y.jsx)(s.Z,{className:"mt-16",children:(0,y.jsx)(i.Z,{sm:24,children:(0,y.jsx)(r.Z,{rightArrow:!1,dotIcon:!1})})}),null===k||void 0===k||null===(t=k.originDetailsItems)||void 0===t?void 0:t.map(((e,l)=>(0,y.jsx)(g,{item:e},l)))]}),(0,y.jsx)("div",{className:"w-1 border-left-muted"}),(0,y.jsxs)("div",{className:"w-50",children:[(0,y.jsx)(s.Z,{children:(0,y.jsxs)(i.Z,{sm:24,className:"d-flex w-100 gap-1 align-items-center",children:[(0,y.jsx)(v.Z,{Icon:p.r,color:"danger-3"}),(0,y.jsx)(h.Z,{className:"f-14 text-danger-3",children:"Destination"}),(0,y.jsx)("hr",{className:"w-70 border-top-danger-3"})]})}),(0,y.jsxs)(s.Z,{className:"mt-16",children:[(0,y.jsx)(i.Z,{sm:8,children:(0,y.jsx)(m.Z,{loading:!1,options:N.D4,className:"pr-15",placeholder:$("translation:default.buttons.select"),label:$("translation:procurement.fields.destinationType.label"),name:"destinationType",editMode:H,rules:[{required:!0,message:"Please select destination type"}],onChange:()=>{k.destinationDetailsItems=[],K.setFieldsValue({destinationName:""}),te(!1)}})}),(0,y.jsx)(i.Z,{sm:8,children:(0,y.jsx)("div",{onClick:()=>{Y&&(te(!0),ne("desc"))},children:(0,y.jsx)(x.Z,{editMode:H,label:$("translation:procurement.fields.destinationName.label"),placeholder:$("translation:procurement.fields.destinationName.placeholder"),name:"destinationName",style:{height:"2rem"},readOnly:!0,addonAfter:(0,y.jsx)(b.Z,{children:(0,y.jsx)(v.Z,{Icon:C.r,color:"muted"})}),rules:[{required:!0,message:"Please select destination name"}]})})})]}),(null===k||void 0===k||null===(L=k.destinationDetailsItems)||void 0===L?void 0:L.length)>0&&(0,y.jsx)(s.Z,{className:"mt-16",children:(0,y.jsx)(i.Z,{sm:24,children:(0,y.jsx)(r.Z,{rightArrow:!1,dotIcon:!1})})}),null===k||void 0===k||null===(V=k.destinationDetailsItems)||void 0===V?void 0:V.map(((e,l)=>(0,y.jsx)(g,{item:e},l)))]})]})})})})},O)})})}),!E&&le&&("origin"===ae&&"Location"===X||"desc"===ae&&"Location"===Y)&&(0,y.jsx)(I.Z,{className:"w-60 h-80",open:le&&("origin"===ae&&X||"desc"===ae&&Y),title:"Items Details",onClose:()=>{te(!1),ne("")},customFooter:(0,y.jsx)(y.Fragment,{}),children:(0,y.jsx)(M.Z,{isZone:!0,updateSelectedLocationHandler:e=>{"desc"===ae?(k.destinationDetailsItems=[e],K.setFieldsValue({destinationName:e.locationName||""})):(k.originDetailsItems=[e],K.setFieldsValue({originName:e.locationName||""})),te(!1),ne("")}})}),!E&&le&&("origin"===ae&&"Zone"===X||"desc"===ae&&"Zone"===Y)&&(0,y.jsx)(I.Z,{className:"w-60 h-80",open:le&&("origin"===ae&&X||"desc"===ae&&Y),title:"Items Details",onClose:()=>{te(!1),ne("")},customFooter:(0,y.jsx)(y.Fragment,{}),children:(0,y.jsx)(R,{isZone:!0,updateSelectedLocationHandler:e=>{var l,t,a,n,s,i,o,d,r,c;let u={locationId:e.regionId,locationName:e.regionName,countryName:null===e||void 0===e||null===(l=e.locations)||void 0===l||null===(t=l[0])||void 0===t?void 0:t.countryName,stateName:null===e||void 0===e||null===(a=e.locations)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.stateName,cityName:null===e||void 0===e||null===(s=e.locations)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.cityName,postalCode:null===e||void 0===e||null===(o=e.locations)||void 0===o||null===(d=o[0])||void 0===d?void 0:d.postalCode,portName:null===e||void 0===e||null===(r=e.locations)||void 0===r||null===(c=r[0])||void 0===c?void 0:c.portName};"desc"===ae?(k.destinationDetailsItems=[u],K.setFieldsValue({destinationName:u.locationName||""})):(k.originDetailsItems=[u],K.setFieldsValue({originName:u.locationName||""})),te(!1),ne("")}})})]})}},10662:(e,l,t)=>{t.d(l,{Z:()=>M});var a=t(72791),n=t(95048),s=t(48490),i=t(66106),o=t(30914),d=t(46130),r=t(16871),c=t(60914),u=t(39230),m=t(32311),h=t(56521),p=t(98580),v=t(2083),x=t(99740),f=t(85757),j=t(31893),Z=t(1212),y=t(48740),g=t(36473),N=t(80184);const b=function(e){let{data:l,updateValues:t=(()=>{})}=e;const[n]=s.Z.useForm(),{pathname:m}=(0,r.TH)(),h=(0,a.useMemo)((()=>(0,c.F)(m)),[m]),{t:v}=(0,u.$G)([h,"translation"]);return(0,N.jsx)(s.Z,{form:n,initialValues:{locationName:l.locationName,countryName:l.countryCode,stateName:l.stateName,postalCode:l.postalCode,cityName:l.cityName,portCode:l.portCode,portName:l.portName,country:l.countryName},children:(0,N.jsx)(g.Z,{title:(0,N.jsxs)(i.Z,{children:[(0,N.jsx)(o.Z,{sm:12,className:"d-flex gap-half align-items-center",children:(0,N.jsx)(p.Z,{placeholder:v("translation:procurement.fields.locationName.placeholder"),label:v("translation:procurement.fields.locationName.title"),name:"locationName",margin:"m-0",editMode:!1,singleLineMode:!0})}),(0,N.jsx)(o.Z,{sm:12,className:"d-flex justify-content-end",children:(0,N.jsx)(d.Z,{fullWidth:!1,type:"primary",onClick:e=>t(l),buttonType:"ADD",disabled:l.checked,children:"Select"})})]}),className:"mb-15 paper-container visibility-file-card procurement-file-upload",children:(0,N.jsx)(i.Z,{gutter:20,children:(0,N.jsxs)(a.Fragment,{children:[(0,N.jsx)(o.Z,{sm:5,children:(0,N.jsx)(p.Z,{label:v("translation:default.fields.country.placeholder"),name:"country",editMode:!1})}),(0,N.jsx)(o.Z,{sm:5,children:(0,N.jsx)(p.Z,{label:v("translation:default.fields.stateProvince.placeholder"),name:"stateName",editMode:!1})}),(0,N.jsx)(o.Z,{sm:5,children:(0,N.jsx)(p.Z,{label:v("translation:default.fields.postalCode.selectPlaceholder"),name:"postalCode",editMode:!1})}),(0,N.jsx)(o.Z,{sm:5,children:(0,N.jsx)(p.Z,{label:v("translation:default.fields.city.label"),name:"cityName",editMode:!1})}),(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(p.Z,{label:v("translation:default.fields.portCode.label"),editMode:!1,name:"portName"})})]})})},l.locationId)},l.locationId)};var C=t(763),I=t.n(C);const M=function(e){let{isZone:l=!1,updateSelectedLocationHandler:t=(()=>{})}=e;const[g]=s.Z.useForm(),C=(0,n.I0)(),[M,w]=(0,a.useState)([]),S=s.Z.useWatch("selectedCountry",g),T=s.Z.useWatch("state",g),P=s.Z.useWatch("cityName",g),[F,D]=(0,a.useState)({portId:"",portName:"",portType:"",portCode:""}),{pathname:L}=(0,r.TH)(),V=(0,a.useMemo)((()=>(0,c.F)(L)),[L]),{t:k}=(0,u.$G)([V,"translation"]),[E,A]=(0,a.useState)([]),[O,W]=(0,a.useState)(0),[z,H]=(0,a.useState)(1),[R,q]=(0,a.useState)(!1),[K,G]=(0,a.useState)({}),[B,$]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{let e=E.filter((e=>!0===e.checked));e.length&&!1===B?$(!0):!0===B&&0===e.length&&$(!1)}),[E]),(0,N.jsxs)(a.Fragment,{children:[(0,N.jsx)(i.Z,{children:(0,N.jsx)(o.Z,{sm:24,children:(0,N.jsxs)(s.Z,{form:g,initialValues:{createdByType:1,openClose:"O",LocationName:"",cityName:[],portCode:[],postalCode:[],selectedCountry:"US",state:[]},children:[(0,N.jsxs)(i.Z,{gutter:12,children:[(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(p.Z,{placeholder:k("translation:procurement.fields.locationName.label"),label:k("translation:procurement.fields.locationName.label"),editMode:!0,name:"LocationName"})}),(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(v.Z,{label:k("translation:default.fields.country.label"),name:"selectedCountry",editMode:!0,onChange:()=>{g.setFieldsValue({cityName:[],portCode:[],postalCode:[],state:[]})},rules:[{required:!0,message:"Country is required"}]})}),(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(x.Z,{label:k("translation:default.fields.state.label"),name:"state",countryCode:S,editMode:!0})}),(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(f.Z,{label:k("translation:default.fields.postalCode.label"),editMode:!0,name:"postalCode",placeholder:k("translation:default.fields.postalCode.label"),handleZipDetails:e=>{g.setFieldsValue({state:e.state.trim(),cityName:e.city.trim(),selectedCountry:(null===e||void 0===e?void 0:e.countryCode)||"",postalCode:(null===e||void 0===e?void 0:e.zip)||""})},countryCode:S})}),(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(p.Z,{label:k("translation:default.fields.city.label"),editMode:!0,name:"cityName",margin:"mb-15",maxLength:"50"})}),(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(j.Z,{placeholder:k("translation:default.fields.portCode.placeholderSelect"),label:k("translation:default.fields.portCode.label"),editMode:!0,name:"portCode",countryCode:S,stateCode:T,cityName:P,handleChange:e=>{D(e)}})})]}),(0,N.jsxs)(i.Z,{gutter:12,children:[(0,N.jsx)(o.Z,{sm:l?16:12}),(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(d.Z,{fullWidth:!0,type:"default",onClick:()=>g.resetFields(),buttonType:"button",children:k("translation:default.buttons.clear")})}),(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(d.Z,{fullWidth:!0,type:"primary",onClick:()=>(async()=>{var e,l;if(!g.getFieldsValue().selectedCountry)return!1;let t=g.getFieldsValue();C((0,y.ef)(!0)),A([]),W(0),H(1),q(!0);let a={country:(null===t||void 0===t?void 0:t.selectedCountry)||"",state:(null===t||void 0===t?void 0:t.state)||"",city:(null===t||void 0===t?void 0:t.cityName)||"",port:(null===t||void 0===t?void 0:t.portCode)||"",postal:(null===t||void 0===t?void 0:t.postalCode)||"",name:(null===t||void 0===t?void 0:t.LocationName)||"",PageNo:1,PageSize:10},n=await(0,Z.a9)(a);G(a);let s=[];null===n||void 0===n||null===(e=n.data)||void 0===e||e.data.forEach((e=>{s.push({...e,renderKey:I().uniqueId(),checked:!1})})),A(s),W((null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.total)||0),C((0,y.ef)(!1)),q(!1)})(),buttonType:"button",children:k("translation:default.buttons.search")})}),!l&&(0,N.jsx)(o.Z,{sm:4,children:(0,N.jsx)(d.Z,{fullWidth:!0,type:"primary",onClick:()=>(()=>{let e=E.filter((e=>!0===e.checked));t(e)})(),buttonType:"ADD",disabled:!B,children:"Add Location"})})]})]})})}),!1===R&&0===E.length&&(0,N.jsx)("div",{className:"h-73 mt-15",children:(0,N.jsx)(h.Z,{})}),(0,N.jsx)(m.Z,{className:"".concat((null===E||void 0===E?void 0:E.length)>0?"mb-15":"pb-15"," h-75 mt-15"),loadMore:async()=>{var e;q(!0);let l=await(0,Z.a9)({...K,PageNo:z+1}),t=[];null===l||void 0===l||null===(e=l.data)||void 0===e||e.data.forEach((e=>{t.push({...e,renderKey:I().uniqueId(),checked:!1})})),A([...E,...t]),H(z+1),q(!1)},hasMore:(null===E||void 0===E?void 0:E.length)<O,isLoading:!0===R,scrollOffset:0,children:null===E||void 0===E?void 0:E.map((e=>(0,N.jsx)(b,{data:e,updateValues:e=>{if(l)t(e);else{let l=[...E];l.forEach((l=>{l.locationId===(null===e||void 0===e?void 0:e.locationId)&&(l.checked=!l.checked)})),A(l)}}},e.renderKey)))})]})}}}]);
//# sourceMappingURL=6316.6a8468c0.chunk.js.map