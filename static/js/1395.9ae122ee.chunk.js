"use strict";(self.webpackChunknvision_TMS=self.webpackChunknvision_TMS||[]).push([[1395],{66202:(e,t,a)=>{a.d(t,{r:()=>d});var r,l,s=a(72791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}function i(e,t){let{title:a,titleId:i,...d}=e;return s.createElement("svg",n({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},d),a?s.createElement("title",{id:i},a):null,r||(r=s.createElement("path",{d:"M8.50206 16H7.49791C6.68575 16 6.02497 15.3393 6.02497 14.5271V14.1874C5.67969 14.0771 5.34422 13.9378 5.02194 13.771L4.78119 14.0118C4.19809 14.5956 3.26406 14.5785 2.69791 14.0116L1.98819 13.3019C1.42103 12.7353 1.40472 11.8016 1.98837 11.2186L2.22894 10.978C2.06216 10.6558 1.92294 10.3203 1.81259 9.975H1.47291C0.660781 9.975 0 9.31425 0 8.50209V7.49791C0 6.68575 0.660781 6.025 1.47294 6.025H1.81263C1.92297 5.67969 2.06219 5.34425 2.22897 5.02197L1.98822 4.78125C1.40491 4.19856 1.421 3.26475 1.98841 2.69797L2.69819 1.98822C3.26566 1.41997 4.19947 1.40578 4.78144 1.98841L5.02197 2.22894C5.34425 2.06219 5.67972 1.92294 6.025 1.81259V1.47291C6.025 0.66075 6.68575 0 7.49794 0H8.50209C9.31425 0 9.975 0.66075 9.975 1.47291V1.81263C10.3203 1.92294 10.6558 2.06219 10.978 2.22897L11.2188 1.98822C11.8019 1.40441 12.7359 1.42153 13.3021 1.98844L14.0118 2.69812C14.5789 3.26466 14.5953 4.19838 14.0116 4.78141L13.771 5.02197C13.9378 5.34425 14.077 5.67966 14.1874 6.025H14.5271C15.3392 6.025 16 6.68575 16 7.49791V8.50209C16 9.31425 15.3392 9.975 14.5271 9.975H14.1874C14.077 10.3203 13.9378 10.6558 13.771 10.978L14.0118 11.2188C14.5951 11.8015 14.579 12.7353 14.0116 13.3021L13.3018 14.0118C12.7343 14.5801 11.8005 14.5943 11.2186 14.0116L10.978 13.7711C10.6558 13.9378 10.3203 14.0771 9.975 14.1874V14.5272C9.975 15.3392 9.31425 16 8.50206 16ZM5.17866 12.7866C5.62637 13.0513 6.10825 13.2514 6.61088 13.3811C6.81787 13.4345 6.9625 13.6212 6.9625 13.835V14.5271C6.9625 14.8223 7.20272 15.0625 7.49794 15.0625H8.50209C8.79731 15.0625 9.03753 14.8223 9.03753 14.5271V13.835C9.03753 13.6212 9.18216 13.4345 9.38916 13.3811C9.89178 13.2514 10.3737 13.0513 10.8214 12.7866C11.0056 12.6776 11.2401 12.7073 11.3915 12.8586L11.8817 13.3489C12.0931 13.5605 12.4325 13.5556 12.6387 13.3491L13.3489 12.6389C13.5546 12.4335 13.5615 12.094 13.3491 11.8819L12.8587 11.3914C12.7073 11.2401 12.6777 11.0055 12.7866 10.8213C13.0514 10.3737 13.2514 9.89178 13.3811 9.38912C13.4346 9.18213 13.6213 9.03753 13.835 9.03753H14.5271C14.8223 9.03753 15.0625 8.79734 15.0625 8.50212V7.49794C15.0625 7.20272 14.8223 6.96253 14.5271 6.96253H13.835C13.6212 6.96253 13.4346 6.81791 13.3811 6.61094C13.2514 6.10828 13.0514 5.62641 12.7866 5.17872C12.6777 4.99453 12.7073 4.75997 12.8587 4.60866L13.3489 4.11837C13.5609 3.90669 13.5553 3.56731 13.3491 3.36134L12.639 2.65119C12.4331 2.44506 12.0936 2.43903 11.8819 2.651L11.3915 3.14147C11.2402 3.29281 11.0056 3.32244 10.8214 3.2135C10.3737 2.94872 9.89181 2.74869 9.38919 2.61897C9.18219 2.56556 9.03756 2.37888 9.03756 2.16509V1.47291C9.03756 1.17769 8.79734 0.9375 8.50212 0.9375H7.49797C7.20275 0.9375 6.96253 1.17769 6.96253 1.47291V2.16503C6.96253 2.37881 6.81791 2.5655 6.61091 2.61891C6.10828 2.74863 5.62641 2.94866 5.17869 3.21344C4.99444 3.32234 4.75991 3.29272 4.60859 3.14141L4.11834 2.65112C3.90697 2.4395 3.5675 2.44441 3.36134 2.65091L2.65112 3.36109C2.44544 3.56653 2.43856 3.906 2.65094 4.11812L3.14141 4.60859C3.29272 4.75991 3.32234 4.99447 3.21344 5.17866C2.94866 5.62634 2.74866 6.10822 2.61894 6.61088C2.5655 6.81787 2.37881 6.96247 2.16506 6.96247H1.47294C1.17772 6.9625 0.9375 7.20269 0.9375 7.49791V8.50209C0.9375 8.79731 1.17772 9.0375 1.47294 9.0375H2.16503C2.37881 9.0375 2.56547 9.18213 2.61891 9.38909C2.74863 9.89175 2.94866 10.3736 3.21341 10.8213C3.32231 11.0055 3.29269 11.2401 3.14138 11.3914L2.65109 11.8817C2.43916 12.0933 2.44469 12.4327 2.65091 12.6387L3.36106 13.3488C3.56691 13.555 3.90641 13.561 4.11809 13.349L4.60853 12.8586C4.72003 12.7471 4.952 12.6525 5.17866 12.7866Z",fill:"white"})),l||(l=s.createElement("path",{d:"M8.00005 11.4813C6.08045 11.4813 4.5188 9.91961 4.5188 8.00005C4.5188 6.08049 6.08045 4.5188 8.00005 4.5188C9.91964 4.5188 11.4813 6.08049 11.4813 8.00005C11.4813 9.91961 9.91964 11.4813 8.00005 11.4813ZM8.00005 5.4563C6.59739 5.4563 5.4563 6.59742 5.4563 8.00005C5.4563 9.40267 6.59742 10.5438 8.00005 10.5438C9.40267 10.5438 10.5438 9.40267 10.5438 8.00005C10.5438 6.59742 9.4027 5.4563 8.00005 5.4563Z",fill:"white"})))}const d=s.forwardRef(i);a.p},50346:(e,t,a)=>{a.d(t,{r:()=>o});var r,l,s,n=a(72791);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i.apply(this,arguments)}function d(e,t){let{title:a,titleId:d,...o}=e;return n.createElement("svg",i({width:40,height:36,viewBox:"0 0 40 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},o),a?n.createElement("title",{id:d},a):null,r||(r=n.createElement("path",{d:"M2.45062 29.9358L2.66712 30.0608L2.45061 29.9358C1.9794 30.752 1.9794 31.7295 2.45061 32.5458C2.92184 33.362 3.76844 33.8508 4.71103 33.8508H35.2889C36.2314 33.8508 37.078 33.362 37.5493 32.5458L37.3328 32.4208L37.5493 32.5458C38.0206 31.7295 38.0206 30.752 37.5494 29.9358L37.5494 29.9358L22.2604 3.45443C21.7892 2.63815 20.9425 2.14942 20.0001 2.14942C19.0576 2.14942 18.2109 2.63815 17.7397 3.45442L2.45062 29.9358ZM39.1459 29.014L39.3624 28.889L39.1459 29.014C39.9514 30.4092 39.9514 32.0722 39.1459 33.4675C38.3402 34.8626 36.9 35.6941 35.2889 35.6941H4.71103C3.09988 35.6941 1.65975 34.8626 0.854178 33.4674C0.0486084 32.0722 0.0486051 30.4092 0.854181 29.0139L16.1431 2.53262C16.9486 1.13748 18.3889 0.305908 20 0.305908C21.6111 0.305908 23.0513 1.13747 23.8568 2.53262L39.1459 29.014Z",fill:"white",stroke:"#38414A",strokeWidth:.5})),l||(l=n.createElement("path",{d:"M19.0781 23.2181V12.0007H20.9216V23.2181H19.0781Z",fill:"white",stroke:"#38414A",strokeWidth:.5})),s||(s=n.createElement("path",{d:"M18.6875 27.3741C18.6875 26.6507 19.2764 26.0618 19.9998 26.0618C20.7233 26.0618 21.3122 26.6507 21.3122 27.3741C21.3122 28.0975 20.7232 28.6864 19.9998 28.6864C19.2764 28.6864 18.6875 28.0975 18.6875 27.3741Z",fill:"white",stroke:"#38414A",strokeWidth:.5})))}const o=n.forwardRef(d);a.p},41651:(e,t,a)=>{a.d(t,{r:()=>c});var r,l,s,n,i=a(72791);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d.apply(this,arguments)}function o(e,t){let{title:a,titleId:o,...c}=e;return i.createElement("svg",d({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},c),a?i.createElement("title",{id:o},a):null,r||(r=i.createElement("rect",{x:.5,y:.5,width:6,height:6,stroke:"white"})),l||(l=i.createElement("rect",{x:.5,y:9.5,width:6,height:6,stroke:"white"})),s||(s=i.createElement("rect",{x:9.5,y:.5,width:6,height:6,stroke:"white"})),n||(n=i.createElement("rect",{x:9.5,y:9.5,width:6,height:6,stroke:"white"})))}const c=i.forwardRef(o);a.p},86681:(e,t,a)=>{a.d(t,{r:()=>d});var r,l,s=a(72791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}function i(e,t){let{title:a,titleId:i,...d}=e;return s.createElement("svg",n({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},d),a?s.createElement("title",{id:i},a):null,r||(r=s.createElement("g",{clipPath:"url(#clip0_2813_34530)"},s.createElement("path",{d:"M31.4769 2.96291V3.33791H31.8519H33.9556C36.6744 3.33791 38.8843 5.54781 38.8843 8.26663V34.6963C38.8843 37.4151 36.6744 39.625 33.9556 39.625H6.04444C3.32563 39.625 1.11572 37.4151 1.11572 34.6963V8.26663C1.11572 5.54781 3.32563 3.33791 6.04444 3.33791H8.14812H8.52312V2.96291V1.48145C8.52312 0.873736 9.02185 0.375 9.62957 0.375C10.2373 0.375 10.7361 0.873777 10.7361 1.48145V2.96291V3.33791H11.1111H28.8888H29.2638V2.96291V1.48145C29.2638 0.873736 29.7626 0.375 30.3703 0.375C30.9781 0.375 31.4769 0.873778 31.4769 1.48145V2.96291ZM8.52312 5.92594V5.55094H8.14812H6.04444C4.54849 5.55094 3.32875 6.77067 3.32875 8.26663V34.6963C3.32875 36.1922 4.54849 37.412 6.04444 37.412H33.9554C35.4514 37.412 36.6711 36.1922 36.6711 34.6963V8.26663C36.6711 6.77067 35.4514 5.55094 33.9554 5.55094H31.8518H31.4768V5.92594V7.40739C31.4768 8.01511 30.978 8.51385 30.3703 8.51385C29.7626 8.51385 29.2638 8.01511 29.2638 7.40739V5.92594V5.55094H28.8888H11.111H10.736V5.92594V7.40739C10.736 8.01511 10.2373 8.51385 9.62957 8.51385C9.02185 8.51385 8.52312 8.01511 8.52312 7.40739V5.92594Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M12.9583 15.1851C12.9583 16.0007 12.2971 16.6619 11.4815 16.6619C10.6658 16.6619 10.0046 16.0007 10.0046 15.1851C10.0046 14.3694 10.6658 13.7083 11.4815 13.7083C12.2971 13.7083 12.9583 14.3694 12.9583 15.1851Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M21.1065 15.1851C21.1065 16.0007 20.4453 16.6619 19.6296 16.6619C18.814 16.6619 18.1528 16.0007 18.1528 15.1851C18.1528 14.3694 18.814 13.7083 19.6296 13.7083C20.4453 13.7083 21.1065 14.3694 21.1065 15.1851Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M29.2547 15.1851C29.2547 16.0007 28.5935 16.6619 27.7778 16.6619C26.9622 16.6619 26.301 16.0007 26.301 15.1851C26.301 14.3694 26.9622 13.7083 27.7778 13.7083C28.5935 13.7083 29.2547 14.3694 29.2547 15.1851Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M12.9583 22.5925C12.9583 23.4082 12.2971 24.0694 11.4815 24.0694C10.6658 24.0694 10.0046 23.4082 10.0046 22.5925C10.0046 21.7769 10.6658 21.1157 11.4815 21.1157C12.2971 21.1157 12.9583 21.7769 12.9583 22.5925Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M21.1065 22.5925C21.1065 23.4082 20.4453 24.0694 19.6296 24.0694C18.814 24.0694 18.1528 23.4082 18.1528 22.5925C18.1528 21.7769 18.814 21.1157 19.6296 21.1157C20.4453 21.1157 21.1065 21.7769 21.1065 22.5925Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M29.2547 22.5925C29.2547 23.4082 28.5935 24.0694 27.7778 24.0694C26.9622 24.0694 26.301 23.4082 26.301 22.5925C26.301 21.7769 26.9622 21.1157 27.7778 21.1157C28.5935 21.1157 29.2547 21.7769 29.2547 22.5925Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M12.9583 30C12.9583 30.8156 12.2971 31.4768 11.4815 31.4768C10.6658 31.4768 10.0046 30.8156 10.0046 30C10.0046 29.1844 10.6658 28.5232 11.4815 28.5232C12.2971 28.5232 12.9583 29.1844 12.9583 30Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M21.1065 30C21.1065 30.8156 20.4453 31.4768 19.6296 31.4768C18.814 31.4768 18.1528 30.8156 18.1528 30C18.1528 29.1844 18.814 28.5232 19.6296 28.5232C20.4453 28.5232 21.1065 29.1844 21.1065 30Z",fill:"white",stroke:"#38414A",strokeWidth:.75}),s.createElement("path",{d:"M29.2547 30C29.2547 30.8156 28.5935 31.4768 27.7778 31.4768C26.9622 31.4768 26.301 30.8156 26.301 30C26.301 29.1844 26.9622 28.5232 27.7778 28.5232C28.5935 28.5232 29.2547 29.1844 29.2547 30Z",fill:"white",stroke:"#38414A",strokeWidth:.75}))),l||(l=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_2813_34530"},s.createElement("rect",{width:40,height:40,fill:"white"})))))}const d=s.forwardRef(i);a.p},22954:(e,t,a)=>{a.d(t,{r:()=>d});var r,l,s=a(72791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}function i(e,t){let{title:a,titleId:i,...d}=e;return s.createElement("svg",n({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},d),a?s.createElement("title",{id:i},a):null,r||(r=s.createElement("g",{clipPath:"url(#clip0_4002_68489)"},s.createElement("mask",{id:"path-1-inside-1_4002_68489",fill:"white"},s.createElement("path",{d:"M21.8745 21.226L20.343 18.5732C20.2578 18.4257 20.1052 18.3376 19.9349 18.3376C19.7646 18.3376 19.612 18.4257 19.5269 18.5732L17.9953 21.226C17.9101 21.3735 17.9101 21.5497 17.9953 21.6972C18.0804 21.8447 18.233 21.9328 18.4033 21.9328H21.4665C21.6368 21.9328 21.7894 21.8447 21.8745 21.6972C21.9597 21.5497 21.9597 21.3735 21.8745 21.226ZM21.6712 21.5798C21.6285 21.6538 21.5519 21.698 21.4665 21.698H18.4033C18.3178 21.698 18.2413 21.6538 18.1986 21.5798C18.1558 21.5058 18.1558 21.4174 18.1986 21.3434L19.7302 18.6906C19.7729 18.6166 19.8494 18.5724 19.9349 18.5724C20.0204 18.5724 20.0969 18.6166 20.1396 18.6906L21.6712 21.3434C21.714 21.4174 21.714 21.5058 21.6712 21.5798Z"})),s.createElement("path",{d:"M21.8745 21.226L20.343 18.5732C20.2578 18.4257 20.1052 18.3376 19.9349 18.3376C19.7646 18.3376 19.612 18.4257 19.5269 18.5732L17.9953 21.226C17.9101 21.3735 17.9101 21.5497 17.9953 21.6972C18.0804 21.8447 18.233 21.9328 18.4033 21.9328H21.4665C21.6368 21.9328 21.7894 21.8447 21.8745 21.6972C21.9597 21.5497 21.9597 21.3735 21.8745 21.226ZM21.6712 21.5798C21.6285 21.6538 21.5519 21.698 21.4665 21.698H18.4033C18.3178 21.698 18.2413 21.6538 18.1986 21.5798C18.1558 21.5058 18.1558 21.4174 18.1986 21.3434L19.7302 18.6906C19.7729 18.6166 19.8494 18.5724 19.9349 18.5724C20.0204 18.5724 20.0969 18.6166 20.1396 18.6906L21.6712 21.3434C21.714 21.4174 21.714 21.5058 21.6712 21.5798Z",fill:"white"}),s.createElement("path",{d:"M21.8745 21.226L21.4415 21.476L21.4415 21.476L21.8745 21.226ZM20.343 18.5732L20.776 18.3232L20.776 18.3232L20.343 18.5732ZM19.5269 18.5732L19.0938 18.3232L19.0938 18.3232L19.5269 18.5732ZM17.9953 21.226L17.5623 20.976L17.5623 20.976L17.9953 21.226ZM21.8745 21.6972L22.3075 21.9472L22.3075 21.9472L21.8745 21.6972ZM21.6712 21.5798L22.1042 21.8298L22.1042 21.8298L21.6712 21.5798ZM18.1986 21.3434L17.7656 21.0934L17.7656 21.0934L18.1986 21.3434ZM19.7302 18.6906L20.1632 18.9406L20.1632 18.9406L19.7302 18.6906ZM20.1396 18.6906L19.7066 18.9406L19.7066 18.9406L20.1396 18.6906ZM21.6712 21.3434L22.1043 21.0934L22.1042 21.0934L21.6712 21.3434ZM22.3075 20.976L20.776 18.3232L19.9099 18.8232L21.4415 21.476L22.3075 20.976ZM20.776 18.3232C20.6015 18.021 20.2839 17.8376 19.9349 17.8376V18.8376C19.933 18.8376 19.9274 18.8369 19.9209 18.8331C19.9143 18.8293 19.9109 18.8248 19.9099 18.8232L20.776 18.3232ZM19.9349 17.8376C19.5859 17.8376 19.2683 18.021 19.0938 18.3232L19.9599 18.8232C19.9589 18.8249 19.9555 18.8293 19.9489 18.8331C19.9424 18.8369 19.9368 18.8376 19.9349 18.8376V17.8376ZM19.0938 18.3232L17.5623 20.976L18.4283 21.476L19.9599 18.8232L19.0938 18.3232ZM17.5623 20.976C17.3878 21.2782 17.3878 21.645 17.5623 21.9472L18.4283 21.4472C18.4292 21.4488 18.4314 21.454 18.4314 21.4616C18.4314 21.4692 18.4292 21.4744 18.4283 21.476L17.5623 20.976ZM17.5623 21.9472C17.7368 22.2494 18.0543 22.4328 18.4033 22.4328V21.4328C18.4052 21.4328 18.4108 21.4335 18.4174 21.4373C18.4239 21.4411 18.4274 21.4456 18.4283 21.4472L17.5623 21.9472ZM18.4033 22.4328H21.4665V21.4328H18.4033V22.4328ZM21.4665 22.4328C21.8155 22.4328 22.133 22.2494 22.3075 21.9472L21.4415 21.4471C21.4425 21.4455 21.4459 21.4411 21.4524 21.4373C21.459 21.4335 21.4646 21.4328 21.4665 21.4328V22.4328ZM22.3075 21.9472C22.482 21.645 22.482 21.2782 22.3075 20.976L21.4415 21.476C21.4406 21.4744 21.4384 21.4692 21.4384 21.4616C21.4384 21.454 21.4406 21.4488 21.4415 21.4472L22.3075 21.9472ZM21.2382 21.3298C21.2848 21.2491 21.3733 21.198 21.4665 21.198V22.198C21.7306 22.198 21.9722 22.0585 22.1042 21.8298L21.2382 21.3298ZM21.4665 21.198H18.4033V22.198H21.4665V21.198ZM18.4033 21.198C18.4965 21.198 18.585 21.2491 18.6316 21.3298L17.7656 21.8298C17.8976 22.0585 18.1392 22.198 18.4033 22.198V21.198ZM18.6316 21.3298C18.6782 21.4105 18.6782 21.5127 18.6316 21.5934L17.7656 21.0934C17.6335 21.3221 17.6335 21.6011 17.7656 21.8298L18.6316 21.3298ZM18.6316 21.5934L20.1632 18.9406L19.2972 18.4406L17.7656 21.0934L18.6316 21.5934ZM20.1632 18.9406C20.1166 19.0213 20.0281 19.0724 19.9349 19.0724V18.0724C19.6708 18.0724 19.4292 18.2119 19.2971 18.4406L20.1632 18.9406ZM19.9349 19.0724C19.8418 19.0724 19.7532 19.0213 19.7066 18.9406L20.5727 18.4406C20.4406 18.2119 20.199 18.0724 19.9349 18.0724V19.0724ZM19.7066 18.9406L21.2382 21.5934L22.1042 21.0934L20.5727 18.4406L19.7066 18.9406ZM21.2382 21.5933C21.1916 21.5127 21.1916 21.4105 21.2382 21.3298L22.1042 21.8298C22.2363 21.6011 22.2363 21.3221 22.1043 21.0934L21.2382 21.5933Z",fill:"#38414A",mask:"url(#path-1-inside-1_4002_68489)"}),s.createElement("mask",{id:"path-3-inside-2_4002_68489",fill:"white"},s.createElement("path",{d:"M20.0521 19.5093H19.8174V20.6831H20.0521V19.5093Z"})),s.createElement("path",{d:"M20.0521 19.5093H19.8174V20.6831H20.0521V19.5093Z",fill:"white"}),s.createElement("path",{d:"M19.8174 19.5093V19.0093H19.3174V19.5093H19.8174ZM20.0521 19.5093H20.5521V19.0093H20.0521V19.5093ZM20.0521 20.6831V21.1831H20.5521V20.6831H20.0521ZM19.8174 20.6831H19.3174V21.1831H19.8174V20.6831ZM19.8174 20.0093H20.0521V19.0093H19.8174V20.0093ZM19.5521 19.5093V20.6831H20.5521V19.5093H19.5521ZM20.0521 20.1831H19.8174V21.1831H20.0521V20.1831ZM20.3174 20.6831V19.5093H19.3174V20.6831H20.3174Z",fill:"#38414A",mask:"url(#path-3-inside-2_4002_68489)"}),s.createElement("g",{clipPath:"url(#clip1_4002_68489)"},s.createElement("path",{d:"M39.0834 10.8891C38.6426 10.4483 20.3206 0.0901578 20.3206 0.0901578C20.1202 -0.0300526 19.8397 -0.0300526 19.6394 0.0901578L1.08692 11.5101C0.886568 11.6304 0.766357 11.8307 0.766357 12.0711V28.7403C0.766357 28.9807 0.886568 29.1811 1.08692 29.3013L19.6394 39.9199H19.6795C19.6795 39.9199 19.7195 39.9199 19.7195 39.9599C19.7997 40 19.8798 40 19.9599 40C20.0401 40 20.1202 40 20.2004 39.9599C20.2404 39.9599 20.2404 39.9599 20.2805 39.9199C20.3206 39.9199 20.3206 39.9199 20.3606 39.8798L38.9131 28.2194C39.1135 28.0992 39.2337 27.8988 39.2337 27.6584V11.3098C39.2337 11.0594 39.1135 10.9191 39.0834 10.8891ZM20 1.41247L37.2302 11.3098L29.2161 16.3186L11.5452 6.58152L20 1.41247ZM19.3589 38.2369L2.08867 28.3396V13.3934L19.3589 23.2908V38.2369ZM20 22.1287L2.52944 12.1112L10.263 7.34285L27.9339 17.0799L20 22.1287ZM37.9114 27.2978L20.6411 38.1968V23.2507L37.9114 12.3917V27.2978Z",fill:"white"})),s.createElement("path",{d:"M20.0283 21.0742C20.0283 21.126 19.9866 21.1677 19.9348 21.1677C19.8831 21.1677 19.8413 21.126 19.8413 21.0742C19.8413 21.0225 19.8831 20.9807 19.9348 20.9807C19.9866 20.9807 20.0283 21.0225 20.0283 21.0742Z",fill:"white",stroke:"#38414A",strokeWidth:.5}))),l||(l=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_4002_68489"},s.createElement("rect",{width:40,height:40,fill:"white"})),s.createElement("clipPath",{id:"clip1_4002_68489"},s.createElement("rect",{width:40,height:40,fill:"white"})))))}const d=s.forwardRef(i);a.p},54071:(e,t,a)=>{a.d(t,{r:()=>i});var r,l=a(72791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s.apply(this,arguments)}function n(e,t){let{title:a,titleId:n,...i}=e;return l.createElement("svg",s({width:12,height:15,viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?l.createElement("title",{id:n},a):null,r||(r=l.createElement("path",{d:"M9.83594 4.8335L11.5359 2.56683C11.61 2.46774 11.6551 2.34999 11.6662 2.22674C11.6772 2.1035 11.6537 1.97962 11.5984 1.86894C11.543 1.75827 11.458 1.66517 11.3528 1.60004C11.2476 1.53492 11.1263 1.50034 11.0026 1.50016H3.0026C3.0026 1.32335 2.93237 1.15378 2.80734 1.02876C2.68232 0.903734 2.51275 0.833496 2.33594 0.833496C2.15913 0.833496 1.98956 0.903734 1.86453 1.02876C1.73951 1.15378 1.66927 1.32335 1.66927 1.50016V12.8335H1.0026C0.825793 12.8335 0.656224 12.9037 0.5312 13.0288C0.406176 13.1538 0.335938 13.3234 0.335938 13.5002C0.335938 13.677 0.406176 13.8465 0.5312 13.9716C0.656224 14.0966 0.825793 14.1668 1.0026 14.1668H3.66927C3.84608 14.1668 4.01565 14.0966 4.14068 13.9716C4.2657 13.8465 4.33594 13.677 4.33594 13.5002C4.33594 13.3234 4.2657 13.1538 4.14068 13.0288C4.01565 12.9037 3.84608 12.8335 3.66927 12.8335H3.0026V8.16683H11.0026C11.1263 8.16666 11.2476 8.13207 11.3528 8.06695C11.458 8.00182 11.543 7.90872 11.5984 7.79805C11.6537 7.68738 11.6772 7.56349 11.6662 7.44025C11.6551 7.317 11.61 7.19926 11.5359 7.10016L9.83594 4.8335Z",fill:"#E9523F"})))}const i=l.forwardRef(n);a.p},35650:(e,t,a)=>{a.d(t,{r:()=>p});var r,l,s,n,i,d,o,c=a(72791);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},u.apply(this,arguments)}function h(e,t){let{title:a,titleId:h,...p}=e;return c.createElement("svg",u({width:22,height:24,viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":h},p),a?c.createElement("title",{id:h},a):null,r||(r=c.createElement("path",{d:"M18.2125 0H2.9375C1.31835 0 0 1.31718 0 2.9375V20.5625C0 22.1828 1.31835 23.5 2.9375 23.5H18.2125C19.8316 23.5 21.15 22.1828 21.15 20.5625V2.9375C21.15 1.31718 19.8316 0 18.2125 0ZM19.975 20.5625C19.975 21.5342 19.1842 22.325 18.2125 22.325H2.9375C1.96577 22.325 1.175 21.5342 1.175 20.5625V2.9375C1.175 1.96577 1.96577 1.175 2.9375 1.175H18.2125C19.1842 1.175 19.975 1.96577 19.975 2.9375V20.5625Z",fill:"black"})),l||(l=c.createElement("path",{d:"M6.46221 5.875H5.28721C4.96291 5.875 4.69971 6.1382 4.69971 6.4625C4.69971 6.7868 4.96291 7.05 5.28721 7.05H6.46221C6.78651 7.05 7.04971 6.7868 7.04971 6.4625C7.04971 6.1382 6.78651 5.875 6.46221 5.875Z",fill:"black"})),s||(s=c.createElement("path",{d:"M15.8631 5.875H8.81309C8.48879 5.875 8.22559 6.1382 8.22559 6.4625C8.22559 6.7868 8.48879 7.05 8.81309 7.05H15.8631C16.1874 7.05 16.4506 6.7868 16.4506 6.4625C16.4506 6.1382 16.1874 5.875 15.8631 5.875Z",fill:"black"})),n||(n=c.createElement("path",{d:"M6.46221 10.5747H5.28721C4.96291 10.5747 4.69971 10.8379 4.69971 11.1622C4.69971 11.4865 4.96291 11.7497 5.28721 11.7497H6.46221C6.78651 11.7497 7.04971 11.4865 7.04971 11.1622C7.04971 10.8379 6.78651 10.5747 6.46221 10.5747Z",fill:"black"})),i||(i=c.createElement("path",{d:"M15.8631 10.5747H8.81309C8.48879 10.5747 8.22559 10.8379 8.22559 11.1622C8.22559 11.4865 8.48879 11.7497 8.81309 11.7497H15.8631C16.1874 11.7497 16.4506 11.4865 16.4506 11.1622C16.4506 10.8379 16.1874 10.5747 15.8631 10.5747Z",fill:"black"})),d||(d=c.createElement("path",{d:"M6.46221 15.2751H5.28721C4.96291 15.2751 4.69971 15.5383 4.69971 15.8626C4.69971 16.1869 4.96291 16.4501 5.28721 16.4501H6.46221C6.78651 16.4501 7.04971 16.1869 7.04971 15.8626C7.04971 15.5383 6.78651 15.2751 6.46221 15.2751Z",fill:"black"})),o||(o=c.createElement("path",{d:"M15.8631 15.2751H8.81309C8.48879 15.2751 8.22559 15.5383 8.22559 15.8626C8.22559 16.1869 8.48879 16.4501 8.81309 16.4501H15.8631C16.1874 16.4501 16.4506 16.1869 16.4506 15.8626C16.4506 15.5383 16.1874 15.2751 15.8631 15.2751Z",fill:"black"})))}const p=c.forwardRef(h);a.p},34409:(e,t,a)=>{a.d(t,{r:()=>d});var r,l,s=a(72791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}function i(e,t){let{title:a,titleId:i,...d}=e;return s.createElement("svg",n({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},d),a?s.createElement("title",{id:i},a):null,r||(r=s.createElement("g",{clipPath:"url(#clip0_2022_23567)"},s.createElement("g",{clipPath:"url(#clip1_2022_23567)"},s.createElement("path",{d:"M39.806 14.4304L36.177 11.3996L38.6261 7.25314C38.7116 7.10853 38.725 6.93252 38.6623 6.77666C38.5997 6.62111 38.4684 6.50322 38.3066 6.45783L20.4634 1.45854C20.2287 1.39135 19.9771 1.49299 19.8525 1.70416L17.4931 5.69807L13.9998 2.78096C13.8151 2.62721 13.5519 2.61346 13.353 2.7465L0.240466 11.5085C0.0986689 11.6031 0.00999701 11.759 0.00077826 11.929C-0.00836236 12.099 0.0634345 12.2637 0.193981 12.3728L3.82289 15.4038L1.37398 19.55C1.29023 19.6915 1.27547 19.8635 1.33422 20.0174C1.39265 20.1711 1.51828 20.2897 1.67523 20.3397L3.98164 21.0749V32.1622C3.98164 32.3976 4.13398 32.6056 4.3582 32.677L22.739 38.5364C22.7925 38.5537 22.848 38.5621 22.903 38.5621C23.0202 38.5621 23.1359 38.5238 23.2313 38.451L35.8062 28.8286C35.94 28.7262 36.0184 28.5675 36.0184 28.3993V18.1588L39.7878 15.2746C39.9184 15.1746 39.9965 15.0208 40 14.8568C40.0034 14.6925 39.9319 14.5356 39.806 14.4304ZM22.7984 20.5417L18.1753 19.0679V7.23369L34.2898 11.7485L22.7984 20.5417ZM17.0942 18.7235L5.75531 15.1089L17.0942 7.53213V18.7235ZM20.5719 2.61135L37.3377 7.309L35.2241 10.8876L18.4577 6.1901L20.5719 2.61135ZM13.6173 3.87018L16.7339 6.47283L4.55812 14.609L1.44148 12.0061L13.6173 3.87018ZM4.76812 15.9285L22.0926 21.4512L19.9736 25.0384L2.64961 19.5159L4.76812 15.9285ZM5.06273 21.4196L20.0559 26.1991C20.1102 26.2167 20.1654 26.2248 20.2199 26.2248C20.4071 26.2248 20.5859 26.1273 20.6852 25.9591L22.3623 23.1195V37.2818L5.06273 31.7674V21.4196ZM34.9373 28.1321L23.4434 36.9272V22.2985L26.5374 24.8825C26.6377 24.966 26.7609 25.0081 26.8841 25.0081C26.9998 25.0081 27.1152 24.9712 27.2124 24.897L34.9373 18.986V28.1321ZM26.8989 23.7758L23.7681 21.1609L35.463 12.212L38.5941 14.827L26.8989 23.7758Z",fill:"white"})))),l||(l=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_2022_23567"},s.createElement("rect",{width:40,height:40,fill:"white"})),s.createElement("clipPath",{id:"clip1_2022_23567"},s.createElement("rect",{width:40,height:40,fill:"white"})))))}const d=s.forwardRef(i);a.p},75652:(e,t,a)=>{a.d(t,{r:()=>i});var r,l=a(72791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s.apply(this,arguments)}function n(e,t){let{title:a,titleId:n,...i}=e;return l.createElement("svg",s({fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",fillRule:"evenodd",ref:t,"aria-labelledby":n},i),a?l.createElement("title",{id:n},a):null,r||(r=l.createElement("path",{fillRule:"evenodd",d:"M 11 2 L 11 11 L 2 11 L 2 13 L 11 13 L 11 22 L 13 22 L 13 13 L 22 13 L 22 11 L 13 11 L 13 2 Z"})))}const i=l.forwardRef(n);a.p},81160:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(94433),l=(a(72791),a(80184));const s=e=>{let{title:t,children:a,labelClass:s=!1,textClass:n,childClassName:i}=e;return(0,l.jsxs)("div",{className:"field-card-container ".concat(n),children:[(0,l.jsx)(r.Z.Text,{className:"field-card-title ".concat(s),children:t}),(0,l.jsx)("div",{className:"content ".concat(i),children:a})]})}},60591:(e,t,a)=>{a.d(t,{Z:()=>i});a(72791);var r=a(25017),l=a(14692),s=a(67766),n=a(80184);const i=e=>{let{data:t=null,chartHeight:a,barWidth:i=null}=e;return(0,n.jsx)(l.Z,{spinning:!t,id:(0,s.Uz)(),children:t&&(0,n.jsxs)(r.Chart,{dataSource:t,id:(0,s.Uz)(),className:"chart-container ",children:[(0,n.jsx)(r.Tooltip,{enabled:!0,id:(0,s.Uz)()}),(0,n.jsx)(r.CommonSeriesSettings,{id:(0,s.Uz)(),argumentField:"label",valueField:"value",type:"bar",ignoreEmptyPoints:!0,showInLegend:!1,barWidth:i||20,barPadding:.5}),(0,n.jsx)(r.SeriesTemplate,{id:(0,s.Uz)(),nameField:"label"}),(0,n.jsx)(r.ArgumentAxis,{id:(0,s.Uz)(),maxValueMargin:.01,children:(0,n.jsx)(r.Label,{id:(0,s.Uz)(),visible:!0,customizeText:e=>e.valueText})}),(0,n.jsx)(r.Tooltip,{id:(0,s.Uz)(),enabled:!0,contentRender:d,color:(0,s.eb)("--dark"),border:0,paddingLeftRight:0,paddingTopBottom:0,cornerRadius:3}),(0,n.jsx)(r.Size,{id:(0,s.Uz)(),height:a})]})})};function d(e){return(0,n.jsx)("div",{id:(0,s.Uz)(),className:"state-tooltip px-16 py-10",style:{zIndex:999999999999},children:(0,n.jsxs)("h4",{id:(0,s.Uz)(),className:"text-white",children:[e.argument," : ",e.value]})})}},74407:(e,t,a)=>{a.d(t,{Z:()=>o});a(72791);var r=a(41853),l=a.n(r),s=a(14692),n=a(67766),i=a(80184);function d(e){return"".concat(e.argumentText,": ").concat(e.percentText)}const o=e=>{let{data:t=null,chartHeight:a,chartType:o="pie"}=e;return(0,i.jsx)(s.Z,{id:(0,n.Uz)(),spinning:!t,children:t&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l(),{id:"pie",type:o,dataSource:t,palette:"Bright",resolveLabelOverlapping:"shift",paletteExtensionMode:"Blend",children:[(0,i.jsxs)(r.Series,{id:(0,n.Uz)(),argumentField:"label",valueField:"value",children:[(0,i.jsx)(r.Label,{id:(0,n.Uz)(),visible:!0,customizeText:d,format:"fixedPoint",children:(0,i.jsx)(r.Connector,{id:(0,n.Uz)(),visible:!0,width:1})}),(0,i.jsx)(r.SmallValuesGrouping,{id:(0,n.Uz)(),mode:"smallValueThreshold"})]}),(0,i.jsx)(r.Legend,{id:(0,n.Uz)(),visible:!1}),(0,i.jsx)(r.Size,{id:(0,n.Uz)(),height:a})]})})})}},67427:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(72791),l=a(48490),s=a(44322),n=a(67766),i=a(16871),d=a(39230),o=a(60914),c=a(80184);const u=e=>{let{placeholder:t=!1,label:a,editMode:u=!1,forFilter:h=!1,margin:p="mb-15",singleLineMode:m=!1,name:x="testFiled-".concat(Math.random()),rules:f=[],colon:g=!1,inverMode:v=!1,disabled:j,onBlur:Z,className:C="",inputType:y="text",icon:b,type:N="text",enableSuffix:w=!1,onChange:S=!1,readOnly:k=!1}=e;const{pathname:D}=(0,i.TH)(),L=(0,r.useMemo)((()=>(0,o.F)(D)),[D]),{t:I}=(0,d.$G)([L,"translation"]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(l.Z.Item,{className:"".concat(v?"invert-mode":""," ").concat(p," ").concat(m?"single-line-mode":""," form-input-container ").concat(u?"":"edit-mode-off"," ").concat(C),name:x,rules:f,...a?{label:(0,c.jsxs)("span",{children:[a,f.length>0&&(0,n.af)(f)&&(0,c.jsx)("span",{className:"required",children:"*"})]})}:{},labelCol:10,colon:g,children:"password"===N?(0,c.jsx)(s.Z.Password,{id:x,prefix:b,disabled:j,readOnly:!u,placeholder:u?t||"".concat(I("translation:default.fields.enter")," ").concat(a):"",className:"form-icon-input",...Z?{onBlur:Z}:{},type:y}):(0,c.jsx)(s.Z,{id:x,prefix:!w&&b,disabled:j,readOnly:k||!u,placeholder:u?t||"".concat(I("translation:default.fields.enter")," ").concat(a):"",className:w?"input-form-filter-suffix":"form-icon-input",...Z?{onBlur:Z}:{},type:y,suffix:w&&b,...S?{onChange:S}:{}})})})}},6533:(e,t,a)=>{a.d(t,{Z:()=>n});var r=a(65273),l=(a(72791),a(67766)),s=a(80184);const n=e=>{let{value:t=0,showInfo:a=!0}=e;return(0,s.jsx)(r.Z,{strokeLinecap:"butt",percent:(0,l.xe)(t),showInfo:a,strokeColor:(0,l.eb)("--distanceColor"),status:"active",className:"utilization-progress"})}},96942:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(72791),l=a(95048),s=a(46413),n=a(5814),i=a(47698),d=a(88858),o=a(68825),c=a(80184);const u=e=>{let{placeholder:t=o.ZP.t("translation:default.fields.customerName.placeholder"),label:a=o.ZP.t("translation:default.fields.customerName.label"),rules:u=[],name:h,editMode:p,margin:m,readOnly:x,disabled:f,mode:g="",form:v,id:j="",setDetafuleValue:Z=!1,callbackSetValue:C=(()=>{})}=e;const[y,b]=(0,r.useState)([]),[N,w]=(0,r.useState)(!1),[S,k]=(0,r.useState)({}),{selectedCompany:D}=(0,l.v9)((e=>e.auth)),{user:{data:L}}=(0,l.v9)((e=>null===e||void 0===e?void 0:e.auth));(0,r.useEffect)((()=>{D&&D.companyId&&I(D.companyId),"CUST"===(null===L||void 0===L?void 0:L.userType)&&(k({value:null===D||void 0===D?void 0:D.companyId,label:null===D||void 0===D?void 0:D.companyName}),v&&v.setFieldValue("customerKey",null===D||void 0===D?void 0:D.companyId))}),[D,v]);const I=async e=>{try{w(!0);let t={},a=[],r={};if(t="CARR"===(null===L||void 0===L?void 0:L.userType)?{carrierKey:e}:{VendorKey:e},"CARR"===(null===L||void 0===L?void 0:L.userType)){const{data:e}=await(0,s.fe)(t);a=e,r=a.map((e=>({label:e.customerName,value:e.customerKey})))}else if("CUST"===(null===L||void 0===L?void 0:L.userType)){const{data:e}=await(0,i.E9)();a=e,r=a.map((e=>({label:e.companyName,value:e.companyId})))}else{const{data:e}=await(0,n.k)(t);a=e,r=a.map((e=>({label:e.customerName,value:e.customerKey})))}b(r),!0===Z&&setTimeout((()=>{var e,t,a,l;v.setFieldValue("customerKey",null===(e=r)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.value),C(null===(a=r)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.value)}),200),w(!1)}catch(t){console.log(t),b([]),w(!1)}};return(0,c.jsx)(d.Z,{loading:N,options:y,placeholder:t,label:a,rules:u,name:h,editMode:p,margin:m,readOnly:x,disabled:f,mode:g,defaultValue:null===S||void 0===S?void 0:S.label,id:j})}},58:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(72791),l=a(88858),s=a(99801),n=a(68825),i=a(80184);const d=e=>{let{placeholder:t=n.ZP.t("translation:default.fields.shipmentBranch.placeholder"),label:a=n.ZP.t("translation:default.fields.shipmentBranch.label"),rules:d=[],name:o,form:c={},customerKey:u,margin:h,editMode:p=!0,mode:m=""}=e;const[x,f]=(0,r.useState)([]),[g,v]=(0,r.useState)(!1);(0,r.useEffect)((()=>{u&&j()}),[u]);const j=async()=>{try{v(!0);const{data:e}=await(0,s.mQ)({customerKey:u});let t=e.map((e=>({label:e.branchDesc,value:e.branchKey})));f(t),v(!1)}catch(e){console.log(e),f([]),v(!1)}};return(0,i.jsx)(l.Z,{loading:g,options:x,placeholder:t,label:a,margin:h,rules:d,name:o,editMode:p,form:c,mode:m})}},11395:(e,t,a)=>{a.r(t),a.d(t,{default:()=>yt});var r,l=a(72791),s=a(29128),n=a(48490),i=a(16871),d=a(95048),o=a(32311),c=a(25786),u=a(66106),h=a(30914),p=a(66319),m=a(68329),x=a(81160),f=a(75880),g=a(63301),v=a(6533),j=a(10686),Z=a(10089),C=a(15610);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},y.apply(this,arguments)}function b(e,t){let{title:a,titleId:s,...n}=e;return l.createElement("svg",y({width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},n),a?l.createElement("title",{id:s},a):null,r||(r=l.createElement("path",{d:"M17.4738 1.35625C17.3025 1.24125 17.0837 1.21875 16.8913 1.295C16.8487 1.3125 12.73 2.9425 9.2675 1.31C6.295 -0.0937501 3.02125 0.5625 1.5 1.00625V0.625C1.5 0.28 1.22 0 0.875 0C0.53 0 0.25 0.28 0.25 0.625V19.375C0.25 19.72 0.53 20 0.875 20C1.22 20 1.5 19.72 1.5 19.375V12.3162C2.6075 11.955 5.89 11.0962 8.73375 12.44C10.085 13.0787 11.4987 13.2913 12.7825 13.2913C15.2513 13.2913 17.2362 12.505 17.36 12.455C17.595 12.3587 17.75 12.13 17.75 11.875V1.875C17.75 1.6675 17.6462 1.47375 17.4738 1.35625ZM16.5 11.4325C15.3863 11.7937 12.105 12.6488 9.26625 11.3088C6.295 9.90625 3.02125 10.5625 1.5 11.0063V2.3175C2.6075 1.95625 5.89 1.0975 8.73375 2.44125C11.7025 3.8425 14.9788 3.1875 16.5 2.7425V11.4325Z",fill:"#D47A11"})))}const N=l.forwardRef(b);a.p;var w=a(14626),S=(a(54071),a(28478)),k=a(39230),D=a(60914),L=a(29540),I=a(80184);const O=l.memo((e=>{let{data:t,onSelect:a=(()=>{}),id:r,isSelected:s,handleClick:n}=e;const{selectedCompany:o}=(0,d.v9)((e=>e.auth)),{pathname:j}=(0,i.TH)(),Z=(0,l.useMemo)((()=>(0,D.F)(j)),[j]),{t:y}=(0,k.$G)([Z,"translation"]),b=(0,d.I0)();c.Z,y("translation:purchase-order-view.resetPurchaseOrder");return(0,I.jsx)(p.Z,{className:"shipment-card border-muted",children:(0,I.jsxs)(u.Z,{className:"px-15 py-14",onClick:e=>n(e,{poNumber:t.poNumber,rowId:t.rowID,consigneeCountry:t.consigneeCountry,consigneeZip:t.consigneeZip,poStatus:t.povStatus,...t}),gutter:15,children:[(0,I.jsx)(h.Z,{children:(0,I.jsx)("div",{className:"text-center",children:(0,I.jsx)(m.Z,{onClick:e=>{var r;b((0,L.Ek)({checked:e.target.checked,data:t})),r={poNumber:t.poNumber,rowId:t.rowID,consigneeCountry:t.consigneeCountry,consigneeZip:t.consigneeZip,poStatus:t.povStatus,...t},e.stopPropagation(),r.customerKey=o.companyId,a(r,s)},checked:s,id:"POC_CB1"})})}),(0,I.jsxs)(h.Z,{className:"flex-1",children:[(0,I.jsxs)(u.Z,{className:"",gutter:15,children:[(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.orderNumber"),children:(0,I.jsx)(f.Z,{className:"text-highlight",children:t.poNumber})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.poStatus.label"),children:(0,I.jsx)(g.Z,{className:"mt-4",type:t.povStatus,children:t.povStatus})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.createdOn.title"),children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(t.createdOn)})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.orderShipDate"),children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(t.orderShipDate)})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.deliveryDate.label"),children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(t.orderDeliveryDate)})})}),(0,I.jsxs)(h.Z,{sm:4,children:[(0,I.jsx)(C.r,{}),(0,I.jsx)(f.Z,{normal:!0,className:"text-success ml-5",children:y("translation:default.fields.shipper")}),(0,I.jsx)("br",{}),(0,I.jsx)(f.Z,{normal:!0,children:t.originName}),(0,I.jsxs)("p",{className:"mb-0",children:[t.originAddr1,","," ",t.originAddr2?"".concat(t.originAddr2," ,"):""," ",t.originCity,", ",t.originState,", ",t.originZip,","," ",t.originCountry]})]}),(0,I.jsxs)(h.Z,{sm:4,children:[(0,I.jsx)(N,{}),(0,I.jsx)(f.Z,{normal:!0,className:"text-danger ml-5",children:y("translation:default.fields.consignee")}),(0,I.jsx)("br",{}),(0,I.jsx)(f.Z,{normal:!0,children:t.consigneeName}),(0,I.jsxs)("p",{className:"mb-0",children:[t.consigneeAddr1,","," ",t.consigneeAddr2?"".concat(t.consigneeAddr2," ,"):""," ",t.consigneeCity,", ",t.consigneeState,","," ",t.consigneeZip,", ",t.consigneeCountry]})]})]}),(0,I.jsxs)(u.Z,{className:"",gutter:15,children:[(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.receiptNumber.placeholder"),children:(0,I.jsx)(f.Z,{className:"text-highlight",children:t.receiptNumber})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:purchase-order-view.percentageLeftItems"),children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{sm:12,children:(0,I.jsx)(f.Z,{normal:!0,children:(0,I.jsx)(v.Z,{value:Math.round(t.percentageLeft)})})}),(0,I.jsx)(h.Z,{sm:12,children:(0,I.jsx)("p",{className:"pl-10 m-3 f-12",children:"(".concat(t.leftItemQty,"/").concat(t.totalItemQty,")")})})]})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.shipmentCount"),childClassName:"text-center",children:(0,I.jsx)(f.Z,{normal:!0,children:t.shipmentCount?t.shipmentCount:0})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.shipmentNo"),childClassName:"text-center",children:(0,I.jsx)(f.Z,{normal:!0,children:t.shipmentNo?t.shipmentNo:0})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:y("translation:default.fields.vendorName.label"),children:(0,I.jsx)(f.Z,{normal:!0,children:t.vendorName})})})]})]})]})})}));var E=a(53298),V=a(48740),T=a(56521),M=a(9835),F=a(763),P=a.n(F),q=a(67766),H=a(9682),B=a(94433),K=a(41583),A=a(87309),U=a(40440),R=a(50547);const Q=e=>{let{data:t,onSelect:a,id:r,isSelected:s,handleClick:n}=e;const o=(0,d.v9)((e=>e.auth.selectedCompany),d.wU),y=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderFilters),d.wU),{pathname:b}=(0,i.TH)(),S=(0,l.useMemo)((()=>(0,D.F)(b)),[b]),{t:L}=(0,k.$G)([S,"translation"]),O=(0,d.I0)();return(0,I.jsxs)(p.Z,{className:"shipment-card border-muted",children:[(0,I.jsxs)(u.Z,{className:"px-15 py-14",onClick:e=>n(e,{poNumber:t.poNumber,rowId:t.rowID,consigneeCountry:t.consigneeCountry,consigneeZip:t.consigneeZip,povStatus:t.povStatus,...t}),gutter:15,children:[(0,I.jsx)(h.Z,{children:(0,I.jsx)("div",{className:"text-center",children:(0,I.jsx)(m.Z,{onClick:e=>{var r,l;O((0,E.cu)({checked:e.target.checked,data:t})),r={poNumber:t.poNumber,rowId:t.rowID,consigneeCountry:t.consigneeCountry,consigneeZip:t.consigneeZip,povStatus:t.povStatus,...t},(l=e).stopPropagation(),r.vendorKey=o.companyId,r.customerKey=y.customerKey,a(r,s,l)},checked:s,id:"selectAllVendor"})})}),(0,I.jsxs)(h.Z,{className:"flex-1",children:[(0,I.jsxs)(u.Z,{gutter:15,children:[(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:L("translation:default.fields.orderNumber"),children:(0,I.jsx)(f.Z,{className:"text-highlight",children:t.poNumber})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:L("translation:default.fields.poStatus.label"),children:(0,I.jsx)(g.Z,{className:"mt-4",type:t.povStatus,children:t.povStatus})})}),(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{sm:12,children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{sm:24,className:"text-center pr-25",children:(0,I.jsx)("label",{className:"field-card-title fs-12",children:L("translation:default.fields.percentageLeft")})}),(0,I.jsx)(h.Z,{sm:10,className:"text-right pr-5",children:(0,I.jsx)(f.Z,{className:"text-highlight fs-12",children:Math.round(t.percentageLeft)+"%  "})}),(0,I.jsx)(h.Z,{sm:12,children:(0,I.jsx)(v.Z,{value:t.percentageLeft,showInfo:!1})})]})}),(0,I.jsx)(h.Z,{sm:8,children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{sm:24,className:"text-right",children:(0,I.jsx)(B.Z.Text,{className:"field-card-title fs-12",children:L("translation:purchase-order-view.NoOfItems")})}),(0,I.jsx)(h.Z,{sm:24,className:"text-right",children:t.noOfRows})]})})]})}),(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsxs)(u.Z,{className:"ml-10",children:[(0,I.jsx)(h.Z,{sm:12,children:(0,I.jsxs)(B.Z.Text,{className:"field-card-title fs-12",style:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(C.r,{}),(0,I.jsx)("span",{className:"ml-5 text-success",children:L("translation:default.fields.shipper")})]})}),(0,I.jsxs)(h.Z,{sm:20,className:"my-7 ml-10",children:[(0,I.jsx)(f.Z,{normal:!0,children:t.originName}),(0,I.jsxs)("p",{className:"mb-0",children:[t.originAddr1,","," ",t.originAddr2?"".concat(t.originAddr2," ,"):""," ",t.originCity,", ",t.originState,", ",t.originZip,","," ",t.originCountry]})]})]})}),(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{sm:12,children:(0,I.jsxs)(B.Z.Text,{className:"field-card-title fs-12",style:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(N,{}),(0,I.jsx)("span",{className:"ml-5 text-danger",children:L("translation:default.fields.consignee")})]})}),(0,I.jsxs)(h.Z,{sm:20,className:"my-7 ",children:[(0,I.jsx)(f.Z,{normal:!0,children:t.consigneeName}),(0,I.jsxs)("p",{className:"mb-0",children:[t.consigneeAddr1,","," ",t.consigneeAddr2?"".concat(t.consigneeAddr2," ,"):""," ",t.consigneeCity,", ",t.consigneeState,","," ",t.consigneeZip,", ",t.consigneeCountry]})]})]})})]}),(0,I.jsxs)(u.Z,{gutter:15,children:[(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:L("translation:default.fields.expectedShipDate.label"),children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(t.orderShipDate)})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:L("translation:default.fields.expectedDeliveryDate"),children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(t.orderDeliveryDate)})})}),(0,I.jsx)(h.Z,{sm:3,className:"text-right pr-25",children:(0,I.jsx)(x.Z,{title:L("translation:default.fields.quantityLeft"),children:(0,I.jsx)(f.Z,{normal:!0,children:t.leftItemQty+"/"+t.totalItemQty})})})]})]})]}),(0,I.jsx)("div",{className:"more-button-container",children:(0,I.jsx)(K.Z,{overlay:(e=>(0,I.jsx)(c.Z,{items:[{key:"1",label:(0,I.jsx)("a",{onClick:()=>(e=>{let t=(0,R.$u)(),a=[];(e=[e]).forEach((e=>{let r=[];t.forEach((t=>{let{name:a}=t;if(Object.hasOwnProperty.call(e,a))if("createdOn"===a||"orderShipDate"===a||"orderDeliveryDate"===a){let t=new Date(e[a]+"Z");r.push(t)}else r.push(e[a]);else r.push("")})),a.push(r)})),t=t.map((e=>{let{label:t}=e;return{name:t.length>0?t:"---"}})),(0,U.eh)(t,a)})(e),children:L("translation:default.buttons.export")})}]}))(t),placement:"bottomRight",children:(0,I.jsx)(A.ZP,{ghost:!0,className:"bg-none border-none w-0 p-0 ",size:"small",shape:"circle",type:"ghost",children:(0,I.jsx)(j.Z,{className:"py-4 px-10",children:(0,I.jsx)(Z.r,{})})})})})]})};var G=a(65605),Y=a(75450);const $=e=>{let{form:t,exportdata:a=[]}=e;const[r,s]=(0,l.useState)(!0),o=(0,d.I0)(),{user:{data:c}}=(0,d.v9)((e=>null===e||void 0===e?void 0:e.auth)),{selectedCompany:p}=(0,d.v9)((e=>e.auth)),{purchaseOrderSidebarExportVisible:m}=(0,d.v9)((e=>e.purchaseOrder));let{purchaseOrderListForExcel:x,purchaseOrderTotalCount:f}=(0,d.v9)((e=>e.purchaseOrder)),{purchaseOrderListVendorForExcel:g,purchaseOrderVendorTotalCount:v}=(0,d.v9)((e=>e.poVendor));const{purchaseOrderFilters:j}=(0,d.v9)((e=>e.purchaseOrder));JSON.parse(localStorage.getItem("userInfo"));let Z={},C=0;Z={data:a},C=a.length;const{pathname:y}=(0,i.TH)(),b=(0,l.useMemo)((()=>(0,D.F)(y)),[y]),{t:N}=(0,k.$G)([b,"translation"]);(0,l.useEffect)((()=>{null!==x&&void 0!==x&&x.progressing||null!==g&&void 0!==g&&g.progressing||o((0,V.ef)(!1))}),[x,g]),(0,l.useEffect)((()=>{t&&w((0,R.$u)(),!0)}),[t]);const w=(e,a)=>{e.forEach((e=>{let{name:r}=e;t.setFieldValue(r,a)}))},S=(e,t)=>{let a=[];t.forEach((t=>{let r=[];e.forEach((e=>{let{name:a}=e;if(Object.hasOwnProperty.call(t,a))if("createdOn"===a||"orderShipDate"===a||"orderDeliveryDate"===a){let e=new Date(t[a]+"Z");r.push(e)}else r.push(t[a]);else r.push("")})),a.push(r)})),e=e.map((e=>{let{label:t}=e;return{name:t.length>0?t:"---"}})),(0,U.eh)(e,a),o((0,L.TC)(!1))};return(0,I.jsx)(n.Z,{onFinish:e=>{if(Z.data.length>0){var t;let a=(0,F.omitBy)(e,(e=>!e)),r=[],l=(0,F.keyBy)([...(0,R.$u)()],"name");for(const e in l)!0===a[e]&&(0,F.find)((0,R.$u)(),{name:e})&&r.push((0,F.find)((0,R.$u)(),{name:e}));S((0,F.cloneDeep)(r),null===(t=Z)||void 0===t?void 0:t.data)}},className:"h-100 custom-scroll-bar",form:t,children:(0,I.jsx)(G.Z,{showBorder:!0,title:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:purchase-order-view.shipmentInformation"),className:"m-0",checked:r,id:"POExportCB1",onChange:e=>{s(e.target.checked),w((0,R.$u)(),e.target.checked)}}),className:"mb-20",children:(0,I.jsxs)(u.Z,{className:"px-16 pt-15",children:[(0,I.jsxs)(h.Z,{lg:6,children:[(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.orderNumber"),name:"poNumber",className:"mb-15",id:"POExportCB2"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.povStatus"),name:"povStatus",className:"mb-15",id:"POExportCB3"})}),"VEND"!==(null===c||void 0===c?void 0:c.userType)&&(0,I.jsxs)(l.Fragment,{children:[(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:purchase-order-view.fields.placeholder"),name:"receiptNumber",className:"mb-15",id:"POExportCB4"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.createdOn.title"),name:"createdOn",className:"mb-15",id:"POExportCB5"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.shipmentCount"),name:"shipmentCount",className:"mb-15",id:"POExportCB6"})})]}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.percentageLeft"),name:"percentageLeft",className:"mb-15",id:"POExportCB7"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.orderShipDate"),name:"orderShipDate",className:"mb-15",id:"POExportCB8"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.deliveryDate.label"),name:"orderDeliveryDate",className:"mb-15",id:"POExportCB9"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.shipmentNumber.placeholder"),name:"shipmentNo",className:"mb-15",id:"POExportCB10"})})]}),(0,I.jsxs)(h.Z,{lg:6,children:[(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.shipperName.label"),name:"originName",className:"mb-15",id:"POExportCB11"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.shipperCountry.label"),name:"originCountry",className:"mb-15",id:"POExportCB12"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.shipperPostalCode"),name:"originZip",className:"mb-15",id:"POExportCB13"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:purchase-order-view.shipperStateProvience"),name:"originState",className:"mb-15",id:"POExportCB14"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.shipperCity.label"),name:"originCity",className:"mb-15",id:"POExportCB15"})})]}),(0,I.jsxs)(h.Z,{lg:6,children:[(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.consigneeName.label"),name:"consigneeName",className:"mb-15",id:"POExportCB16"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.consigneeCountry.label"),name:"consigneeCountry",className:"mb-15",id:"POExportCB17"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.consigneePostalCode.label"),name:"consigneeZip",className:"mb-15",id:"POExportCB18"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:purchase-order-view.consigneeStateProvience"),name:"consigneeState",className:"mb-15",id:"POExportCB19"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.consigneeCity.label"),name:"consigneeCity",className:"mb-15",id:"POExportCB20"})}),(0,I.jsx)(h.Z,{lg:24,children:(0,I.jsx)(Y.Z,{checkBoxClass:"normal-checkbox",label:N("translation:default.fields.consigneeAddress"),name:"consigneeAddr1",className:"mb-15",id:"POExportCB21"})})]})]})})})};var z=a(91082),W=a(46091),J=a(46130),X=a(98580);const ee=e=>{let{form:t}=e;const[a,r]=(0,l.useState)([]),[s,o]=(0,l.useState)(0),c=(0,d.I0)();let{packageModalVisible:p,packageList:m}=(0,d.v9)((e=>e.poVendor));const{selectedCompany:x}=(0,d.v9)((e=>e.auth));let{purchaseOrderFilters:f,purchaseOrderDetails:g,purchaseOrderTotalCount:v}=(0,d.v9)((e=>e.purchaseOrder));const{pathname:j}=(0,i.TH)(),Z=(0,l.useMemo)((()=>(0,D.F)(j)),[j]),{t:C}=(0,k.$G)([Z,"translation"]),y=(0,d.v9)((e=>e.common.notificationAPI));let b=JSON.parse(localStorage.getItem("userInfo"));(0,l.useEffect)((()=>{p.showModal&&r([])}),[p.showModal]),(0,l.useEffect)((()=>{if(null!==m&&void 0!==m&&m.success){var e;t.resetFields();let l=[],s=0,n=null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.PoQuantityLeft;null===m||void 0===m||m.data.map(((e,a)=>{if(0===a)t.setFieldValue("qLeft".concat(a),e.poQuantityLeft),e.shipmentPieces>0&&(s=parseInt(e.shipmentPieces));else{let r=parseInt(n)-parseInt(s);t.setFieldValue("qLeft".concat(a),r),e.shipmentPieces>0&&(s+=parseInt(e.shipmentPieces))}t.setFieldValue("qShipped".concat(a),e.shipmentPieces),t.setFieldValue("packageId".concat(a),e.crateNo);const r={key:a,poItemDistributeID:e.poItemDistributeID,qLeft:(0,I.jsx)(X.Z,{editMode:!0,readOnly:!0,margin:"mb-10",name:"qLeft"+a,placeholder:C("translation:purchase-order-view.enterQuantityLeft")}),qShipped:(0,I.jsx)(X.Z,{editMode:!0,margin:"mb-10",name:"qShipped"+a,placeholder:C("translation:purchase-order-view.fields.quantityShipped.placeholder"),rules:[{required:!0,message:""},()=>({validator:e=>t.getFieldValue("qLeft".concat(a))>=t.getFieldValue("qShipped".concat(a))?Promise.resolve():Promise.reject(new Error(C("translation:purchase-order-view.fields.quantityShipped.errorOr")))})]}),packageId:(0,I.jsx)(X.Z,{editMode:!0,margin:"mb-10",name:"packageId"+a,placeholder:C("translation:purchase-order-view.fields.packagedId.placeholder"),rules:[{required:!0,message:C("translation:purchase-order-view.fields.packagedId.message")}]})};l.push(r)})),r([...a,...l]),l.length>0?o(l.length):o(0),c((0,E.b3)({showModal:!0,packageKey:p.packageKey,mainKey:p.mainKey,data:null===p||void 0===p?void 0:p.data,shippedId:p.shippedId,totalshipped:p.totalshipped,isPackLoading:!1}))}}),[m]);const N=[{title:C("translation:purchase-order-view.quanityLeft"),dataIndex:"qLeft",key:"qLeft"},{title:C("translation:default.fields.quantityShipped"),dataIndex:"qShipped",key:"qShipped"},{title:C("translation:default.fields.packageID.label"),dataIndex:"packageId",key:"packageId"},{title:C("translation:purchase-order-view.action"),dataIndex:"edit",key:"uedit",render:(e,t)=>a.length>=1?(0,I.jsx)(z.Z,{title:C("translation:purchase-order-view.sureToDelete"),onConfirm:()=>w(t.key),children:(0,I.jsx)(J.Z,{type:"primary",children:C("translation:default.buttons.delete")})}):null}],w=e=>{var l,s;let n=null===p||void 0===p||null===(l=p.data)||void 0===l?void 0:l.PoQuantityLeft;null===m||void 0===m||null===(s=m.data)||void 0===s||s.forEach(((t,a)=>{if(a===e){let e={};e.poItemDistributeID=t.poItemDistributeID,e.id=t.id,e.poId=null===t||void 0===t?void 0:t.poId,e.rowId=t.rowId,e.poNumber=t.poNumber,e.poQuantity=t.poQuantity,e.poQuantityLeft=t.poQuantityLeft,e.shipmentPieces=t.shipmentPieces,e.crateNo=t.crateNo,e.customerKey=f.customerKey,e.vendorKey=x.companyId,e.userGuid=b.userGuid,e.optType="",e.dirtyFlag="D",e.isExist="",c((0,E.Uu)([e]))}}));const i=a.filter((t=>t.key!==e));let d=0;null===i||void 0===i||i.forEach((async(e,a)=>{if(0===a)t.setFieldValue("qLeft".concat(e.key),n),t.getFieldValue("qShipped".concat(e.key))>0&&(d=parseInt(t.getFieldValue("qShipped".concat(e.key))));else{let a=parseInt(n)-parseInt(d);t.setFieldValue("qLeft".concat(e.key),a),t.getFieldValue("qShipped".concat(e.key))>0&&(d+=parseInt(t.getFieldValue("qShipped".concat(e.key))))}})),r(i)};return(0,I.jsx)(u.Z,{children:(0,I.jsx)(h.Z,{span:24,className:"custom-scroll-bar package-scroll-height",children:(0,I.jsxs)(n.Z,{name:"packageIdForm",form:t,onFinish:(e,t)=>{p.packageKey;let r=[];a.forEach(((t,a)=>{var l,s,n,i,d;let o={},c="packageId".concat(t.key),u="qLeft".concat(t.key),h="qShipped".concat(t.key);o.poItemDistributeID=t.poItemDistributeID?t.poItemDistributeID:0,o.id=e[c],o.lineNum=null===p||void 0===p||null===(l=p.data)||void 0===l?void 0:l.lineNum,o.poId=null===p||void 0===p||null===(s=p.data)||void 0===s?void 0:s.PoID,o.rowId=null===p||void 0===p||null===(n=p.data)||void 0===n?void 0:n.rowId,o.poNumber=null===p||void 0===p||null===(i=p.data)||void 0===i?void 0:i.poNumber,o.poQuantity=null===p||void 0===p||null===(d=p.data)||void 0===d?void 0:d.poQuantity,o.poQuantityLeft=e[u],o.shipmentPieces=e[h],o.crateNo=e[c]+"",o.customerKey=f.customerKey,o.vendorKey=x.companyId,o.userGuid=b.userGuid,o.optType="",t.poItemDistributeID?o.dirtyFlag="U":o.dirtyFlag="",o.isExist="",r.push(o)}));let l=0,s=[];var n=0;if(r.map((e=>{e.shipmentPieces>0&&(l+=parseInt(e.shipmentPieces),n+=e.poQuantityLeft),s.push(e.id)})),r.length>0&&parseInt(n)<parseInt(l))return(0,q.Nh)(y,{type:M.GT.ERROR,title:C("translation:purchase-order-view.error.shippedQuantity")}),!1;c((0,E.b3)({showModal:!1,data:p.data,packageKey:p.packageKey,mainKey:p.mainKey,isPackLoading:!1,shippedId:s,totalshipped:l})),c((0,E.Uu)(r))},children:[(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(J.Z,{id:"packageIdBtn",onClick:()=>{var e;t.getFieldValue("qShipped".concat(s-1));let l=0;a.map((e=>{let a=t.getFieldValue("qShipped".concat(e.key));a>0&&(l+=parseInt(a))}));let n=null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.PoQuantityLeft;if(l>0&&(n-=parseInt(l)),n>0){t.setFieldValue("qLeft".concat(s),n);const e={key:s,poItemDistributeID:"",qLeft:(0,I.jsx)(X.Z,{editMode:!0,readOnly:!0,margin:"mb-10",name:"qLeft"+s,placeholder:C("translation:purchase-order-view.enterQuantityLeft")}),qShipped:(0,I.jsx)(X.Z,{editMode:!0,margin:"mb-10",name:"qShipped"+s,placeholder:C("translation:purchase-order-view.fields.quantityShipped.placeholder"),rules:[{required:!0,message:""},()=>({validator:e=>t.getFieldValue("qLeft".concat(s))>=t.getFieldValue("qShipped".concat(s))?Promise.resolve():Promise.reject(new Error(C("translation:purchase-order-view.fields.quantityShipped.error")))})]}),packageId:(0,I.jsx)(X.Z,{editMode:!0,margin:"mb-10",name:"packageId"+s,placeholder:C("translation:purchase-order-view.fields.packagedId.placeholder"),rules:[{required:!0,message:C("translation:purchase-order-view.fields.packagedId.message")}]})};r([...a,e]),o(s+1)}},disabled:p.isPackLoading,children:C("translation:purchase-order-view.addPackageID")}),(0,I.jsx)(J.Z,{onClick:()=>{var e;let l=0;a.map((e=>{let a=t.getFieldValue("qShipped".concat(e.key));a>0&&(l+=parseInt(a))}));let n=null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.PoQuantityLeft;if(l>0&&(n-=parseInt(l)),n>0){t.setFieldValue("qLeft".concat(s),n),t.setFieldValue("qShipped".concat(s),t.getFieldValue("qShipped".concat(s-1)));let e=t.getFieldValue("packageId".concat(s-1));isNaN(e)||(e=Number(e)+1),t.setFieldValue("packageId".concat(s),e);const l={key:s,qLeft:(0,I.jsx)(X.Z,{editMode:!0,margin:"mb-10",name:"qLeft"+s,placeholder:C("translation:purchase-order-view.enterQuantityLeft")}),qShipped:(0,I.jsx)(X.Z,{editMode:!0,margin:"mb-10",name:"qShipped"+s,placeholder:C("translation:purchase-order-view.fields.quantityShipped.placeholder"),rules:[{required:!0,message:""},()=>({validator:e=>t.getFieldValue("qLeft".concat(s))>=t.getFieldValue("qShipped".concat(s))?Promise.resolve():Promise.reject(new Error(C("translation:purchase-order-view.fields.quantityShipped.errorOr")))})]}),packageId:(0,I.jsx)(X.Z,{editMode:!0,margin:"mb-10",name:"packageId"+s,placeholder:C("translation:purchase-order-view.fields.packagedId.placeholder"),rules:[{required:!0,message:C("translation:purchase-order-view.fields.packagedId.message")}]})};r([...a,l]),o(s+1)}},disabled:p.isPackLoading,children:C("translation:purchase-order-view.copyLastPackageId")})]}),(0,I.jsx)(W.Z,{dataSource:a,columns:N,loading:p.isPackLoading,pagination:!1,scroll:{y:"calc(100vh - 50vh)"}})]})})})};var te=a(97114),ae=a(14692),re=a(5045),le=a(89017);const se=function(e){let{loadMore:t,hasMore:a,isLoading:r,data:s,onSelect:n=(()=>{}),isSelected:u,handleClick:h=(()=>{})}=e;const{pathname:p}=(0,i.TH)(),m=(0,l.useMemo)((()=>(0,D.F)(p)),[p]),{t:x}=(0,k.$G)([m,"translation"]),v=(0,d.I0)(),{selectedCompany:j,purchaseOrderFilters:C}=(0,d.v9)((e=>({selectedCompany:e.auth.selectedCompany,purchaseOrderFilters:e.purchaseOrder.purchaseOrderFilters}))),y=(0,d.v9)((e=>e.shipment.poTableColumn));(0,l.useEffect)((()=>{v((0,V.ef)(!0)),(async()=>{let{data:e}=await(0,re.WX)("PurchaseOrder");return e})().then((e=>{let t=e.map((e=>({value:e.fieldReferenceValue,label:e.fieldReferenceName})));v((0,le.AX3)(t))})).finally((()=>{v((0,V.ef)(!1))}))}),[]);const b=e=>{const t=(0,R.$u)(),a=[e].map((e=>t.map((t=>{let{name:a}=t;return["createdOn","orderShipDate","orderDeliveryDate"].includes(a)?new Date(e[a]+"Z"):e[a]||""})))),r=t.map((e=>{let{label:t}=e;return{name:t||"---"}}));(0,U.eh)(r,a)},N=e=>(0,I.jsx)("span",{className:"cursor-pointer f-18 fw-700 text-header ",onClick:t=>h(t,{poNumber:e.poNumber,rowId:e.rowID,consigneeCountry:e.consigneeCountry,consigneeZip:e.consigneeZip,povStatus:e.povStatus,...e}),children:e.poNumber}),S=e=>(0,I.jsx)(g.Z,{className:"mt-4",type:e.povStatus,children:e.povStatus}),L=e=>(0,I.jsxs)(l.Fragment,{children:[(0,I.jsx)(f.Z,{normal:!0,children:e.originName}),(0,I.jsxs)("p",{className:"mb-0",children:[e.originAddr1,", ",e.originAddr2?"".concat(e.originAddr2," ,"):""," ",e.originCity,", ",e.originState,", ",e.originZip,","," ",e.originCountry]})]}),O=e=>(0,I.jsxs)(l.Fragment,{children:[(0,I.jsx)(f.Z,{normal:!0,children:e.consigneeName}),(0,I.jsxs)("p",{className:"mb-0",children:[e.consigneeAddr1,","," ",e.consigneeAddr2?"".concat(e.consigneeAddr2," ,"):""," ",e.consigneeCity,", ",e.consigneeState,", ",e.consigneeZip,","," ",e.consigneeCountry]})]}),T=e=>(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(e.orderShipDate)}),M=e=>(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(e.orderDeliveryDate)});return(0,I.jsx)("div",{className:"h-100 overflow-hidden pb-15",children:(0,I.jsx)(o.Z,{className:"background-white br-4 w-100 h-100 scrollable-table-container horizontal",loadMore:t,hasMore:a,isLoading:r,scrollOffset:50,hideSpinner:!0,children:(0,I.jsxs)("table",{className:"w-100 background-white br-4",children:[(0,I.jsx)("thead",{className:"",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{style:{width:47},className:"background-header text-white fixed fixed-top fixed-left"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top fixed-left",style:{left:47,whiteSpace:"pre-wrap !important"},children:"Shipment No"}),(0,I.jsx)("th",{style:{width:5}}),y.map(((e,t)=>(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:e.label},t))),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top fixed-right"})]})}),(0,I.jsxs)("tbody",{children:[s.map((e=>{return(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{style:{width:47},className:"fixed fixed-left shadow-none",children:(0,I.jsx)(Y.Z,{className:"m-0",checkBoxClass:"normal-checkbox",onChange:t=>{var a,r;v((0,E.cu)({checked:t.target.checked,data:e})),a={poNumber:e.poNumber,rowId:e.rowID,consigneeCountry:e.consigneeCountry,consigneeZip:e.consigneeZip,povStatus:e.povStatus,...e},(r=t).stopPropagation(),a.vendorKey=j.companyId,a.customerKey=C.customerKey,n(a,u.includes(a.rowID),r)},checked:u.includes(e.rowID)})}),(0,I.jsx)("td",{className:"fixed fixed-left",style:{left:47},children:N(e)}),(0,I.jsx)("td",{style:{width:5}}),y.map(((t,a)=>(0,I.jsx)(l.Fragment,{children:(0,I.jsxs)("td",{children:["PoNumber"===t.value&&N(e),"PovStatus"===t.value&&S(e),"OriginName"===t.value&&L(e),"ConsigneeName"===t.value&&O(e),"OrderShipDate"===t.value&&T(e),"OrderDeliveryDate"===t.value&&M(e),!["PoNumber","PovStatus","OriginName","ConsigneeName","OrderShipDate","OrderDeliveryDate"].includes(t.value)&&(0,I.jsx)(l.Fragment,{children:e[(0,F.camelCase)(t.value)]})]})}))),(0,I.jsx)("td",{className:"pl-5 pr-8 fixed fixed-right text-center",children:(0,I.jsx)(K.Z,{overlay:(t=e,(0,I.jsx)(c.Z,{items:[{key:"1",label:(0,I.jsx)("a",{onClick:()=>b(t),children:x("translation:default.buttons.export")})}]})),placement:"bottomLeft",children:(0,I.jsx)(J.Z,{ghost:!0,className:"px-5 min-width-auto bg-none border-none w-0 p-0 shadow-none",size:"small",shape:"circle",type:"ghost",children:(0,I.jsx)(Z.r,{})})})})]},e.rowID);var t})),r?(0,I.jsx)("tr",{children:(0,I.jsx)("td",{colSpan:10,className:"background-white text-center ",children:(0,I.jsx)(ae.Z,{spinning:!0})})}):(0,I.jsx)(I.Fragment,{}),r||0!==(null===s||void 0===s?void 0:s.length)?(0,I.jsx)(I.Fragment,{}):(0,I.jsx)("tr",{children:(0,I.jsx)("td",{colSpan:10,className:"background-white text-center ",children:(0,I.jsxs)(f.Z,{className:"text-danger",children:[x("translation:default.notification.emptyList"),".","  ",x("translation:default.emptyRecords.title"),"."]})})})]})]})})})};const ne=function(e){let{loadMore:t,hasMore:a,isLoading:r,data:s,onSelect:n=(()=>{}),isSelected:c,handleClick:u=(()=>{})}=e;const{pathname:h}=(0,i.TH)(),p=(0,l.useMemo)((()=>(0,D.F)(h)),[h]),{t:m}=(0,k.$G)([p,"translation"]),x=(0,d.I0)(),{selectedCompany:j}=(0,d.v9)((e=>({selectedCompany:e.auth.selectedCompany,purchaseOrderFilters:e.purchaseOrder.purchaseOrderFilters})));return(0,I.jsx)("div",{className:"h-100 overflow-hidden pb-15",children:(0,I.jsx)(o.Z,{className:"background-white br-4 w-100 h-100 scrollable-table-container horizontal",loadMore:t,hasMore:a,isLoading:r,scrollOffset:50,hideSpinner:!0,children:(0,I.jsxs)("table",{className:"w-100 background-white br-4",children:[(0,I.jsx)("thead",{className:"",children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{style:{width:47},className:"background-header text-white fixed fixed-top fixed-left"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top fixed-left",style:{left:47,whiteSpace:"pre-wrap !important"},children:"Order Number"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Po Status"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Created On"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Order Ship Date"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Delivery Date"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Shipper"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Consignee"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Receipt Number"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Percentage Left"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Shipment Count"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Shipment No"}),(0,I.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Vendor Name"})]})}),(0,I.jsxs)("tbody",{children:[s.map((e=>(0,I.jsxs)("tr",{children:[(0,I.jsx)("td",{style:{width:47},className:"fixed fixed-left shadow-none",children:(0,I.jsx)(Y.Z,{className:"m-0",checkBoxClass:"normal-checkbox",onChange:t=>{var a,r;x((0,L.Ek)({checked:t.target.checked,data:e})),a={poNumber:e.poNumber,rowId:e.rowID,consigneeCountry:e.consigneeCountry,consigneeZip:e.consigneeZip,poStatus:e.povStatus,...e},(r=t).stopPropagation(),a.customerKey=j.companyId,n(a,c.includes(a.rowID),r)},checked:c.includes(e.rowID)})}),(0,I.jsx)("td",{className:"fixed fixed-left",style:{left:47},children:(0,I.jsx)("span",{className:"cursor-pointer f-18 fw-700 text-header ",onClick:t=>u(t,{poNumber:e.poNumber,rowId:e.rowID,consigneeCountry:e.consigneeCountry,consigneeZip:e.consigneeZip,poStatus:e.povStatus,...e}),children:e.poNumber})}),(0,I.jsx)("td",{children:(0,I.jsx)(g.Z,{className:"mt-4",type:e.povStatus,children:e.povStatus})}),(0,I.jsx)("td",{children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(e.createdOn)})}),(0,I.jsx)("td",{children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(e.orderShipDate)})}),(0,I.jsx)("td",{children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(e.orderDeliveryDate)})}),(0,I.jsxs)("td",{children:[(0,I.jsx)(f.Z,{normal:!0,children:e.originName}),(0,I.jsxs)("p",{className:"mb-0",children:[e.originAddr1,","," ",e.originAddr2?"".concat(e.originAddr2," ,"):""," ",e.originCity,", ",e.originState,", ",e.originZip,","," ",e.originCountry]})]}),(0,I.jsxs)("td",{children:[(0,I.jsx)(f.Z,{normal:!0,children:e.consigneeName}),(0,I.jsxs)("p",{className:"mb-0",children:[e.consigneeAddr1,","," ",e.consigneeAddr2?"".concat(e.consigneeAddr2," ,"):""," ",e.consigneeCity,", ",e.consigneeState,","," ",e.consigneeZip,", ",e.consigneeCountry]})]}),(0,I.jsx)("td",{children:(0,I.jsx)(f.Z,{className:"text-highlight",children:e.receiptNumber})}),(0,I.jsxs)("td",{children:[(0,I.jsxs)("div",{children:[(0,I.jsx)(f.Z,{className:"text-highlight fs-12",children:Math.round(e.percentageLeft)+"%  "}),(0,I.jsx)("span",{className:"pl-10 m-3 f-12",children:"(".concat(e.leftItemQty,"/").concat(e.totalItemQty,")")})]}),(0,I.jsx)(v.Z,{value:e.percentageLeft,showInfo:!1})]}),(0,I.jsx)("td",{children:(0,I.jsx)("div",{className:"d-flex justify-content-center",children:(0,I.jsx)(f.Z,{normal:!0,children:e.shipmentCount?e.shipmentCount:0})})}),(0,I.jsx)("td",{children:(0,I.jsx)(f.Z,{normal:!0,children:e.shipmentNo?e.shipmentNo:0})}),(0,I.jsx)("td",{children:(0,I.jsx)(f.Z,{normal:!0,children:e.vendorName})})]},e.rowID))),r?(0,I.jsx)("tr",{children:(0,I.jsx)("td",{colSpan:13,className:"background-white text-center ",children:(0,I.jsx)(ae.Z,{spinning:!0})})}):(0,I.jsx)(I.Fragment,{}),r||0!==(null===s||void 0===s?void 0:s.length)?(0,I.jsx)(I.Fragment,{}):(0,I.jsx)("tr",{children:(0,I.jsx)("td",{colSpan:13,className:"background-white text-center ",children:(0,I.jsxs)(f.Z,{className:"text-danger",children:[m("translation:default.notification.emptyList"),".","  ",m("translation:default.emptyRecords.title"),"."]})})})]})]})})})};var ie=a(21306),de=a(77128),oe=a(43504),ce=a(43769),ue=a(67427),he=a(93835),pe=a(92679),me=a(72426),xe=a.n(me),fe=a(47766),ge=a(8870);const ve=e=>{var t;let{purchaseOrderDetailsData:a,releaseOrders:r,searchTxt:s,orderType:n}=e,{purchaseOrderFilters:o}=(0,d.v9)((e=>e.purchaseOrder)),c=a;const{pathname:m}=(0,i.TH)(),x=(0,l.useMemo)((()=>(0,D.F)(m)),[m]),{t:f}=(0,k.$G)([x,"translation"]);s=s||"",c=null===(t=c)||void 0===t?void 0:t.filter((e=>{if(e.productDesc.toLowerCase().includes(s)||e.lineNum.toLowerCase().includes(s)||e.productCode.toLowerCase().includes(s)||e.poNumber.toLowerCase().includes(s))return!0}));var g=r.map((e=>({poNumber:e.poNumber,lineNum:e.lineNum})));const v=(j=g,c.filter((e=>!j.some((t=>e.poNumber===t.poNumber&&e.lineNum===t.lineNum)))));var j;let Z=v&&v.length>0?v.length:0,C=v&&v.length>0?P().sumBy(v,(e=>e.poQuantityLeft)):0;let y=0;const b=e=>e.map((e=>e.quantityShipped)).reduce(((e,t)=>Number(t)?e+Number(t):e),0);var N;"RELEASE"===n?(Z=r&&r.length>0?r.length:0,C=r&&r.length>0?P().sumBy(r,(e=>e.poQuantityLeft)):0,y=b(r),r=null===(N=r)||void 0===N?void 0:N.filter((e=>{if(e.productDesc.toLowerCase().includes(s)||e.lineNum.toLowerCase().includes(s)||e.productCode.toLowerCase().includes(s)||e.poNumber.toLowerCase().includes(s))return!0}))):y=b(v);return(0,I.jsx)("div",{className:"px-30",children:(0,I.jsx)(p.Z,{className:"background-header px-16 py-5",children:(0,I.jsxs)(u.Z,{justify:"space-between",children:[(0,I.jsx)(h.Z,{sm:5,children:(0,I.jsx)(ge.Z,{reverse:!0,align:"middle",count:Z,label:f("translation:purchase-order-view.totalNoOfProducts"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{sm:5,children:(0,I.jsx)(ge.Z,{reverse:!0,align:"middle",count:C,label:f("translation:default.fields.totalQuantity"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{sm:5,children:(0,I.jsx)(ge.Z,{reverse:!0,align:"middle",count:y,label:f("translation:purchase-order-view.releaseQuantity"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{sm:5,children:(0,I.jsx)(ge.Z,{reverse:!0,align:"middle",count:"RELEASE"===n&&r.length>0?(0,w.BZ)(r[0].expShipDate):"-NIL-",label:f("translation:default.fields.newShipDate"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,I.jsx)(h.Z,{})]})})})},je=e=>{let{purchaseOrderDetails:t}=e;const[a,r]=(0,l.useState)(0),[s,n]=(0,l.useState)(0),[d,o]=(0,l.useState)(0),{pathname:c}=(0,i.TH)(),m=(0,l.useMemo)((()=>(0,D.F)(c)),[c]),{t:x}=(0,k.$G)([m,"translation"]);return(0,l.useEffect)((()=>{const e=t&&(null===t||void 0===t?void 0:t.length)>0?(e=>{let t=new Date(Math.max(...e.map((e=>new Date(e.orderShipDate)))));return xe()(t).format("YYYY-MM-DD")})(t):"-NIL-";r(e||"-NIL-"),n(t&&t.length>0?t.length:0),o(t&&t.length>0?P().sumBy(t,(e=>e.poQuantityLeft)):0)}),[t]),(0,I.jsx)("div",{className:"px-30",children:(0,I.jsx)(p.Z,{className:"background-header px-16 py-5",children:(0,I.jsxs)(u.Z,{justify:"space-between",children:[(0,I.jsx)(h.Z,{sm:5,children:(0,I.jsx)(ge.Z,{reverse:!0,align:"middle",count:s,label:x("translation:purchase-order-view.totalNoOfProducts"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{sm:5,children:(0,I.jsx)(ge.Z,{reverse:!0,align:"middle",count:d,label:x("translation:default.fields.totalQuantity"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{sm:5,children:(0,I.jsx)(ge.Z,{reverse:!0,align:"middle",count:a,label:x("translation:default.fields.shipDate.label"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,I.jsx)(h.Z,{})]})})})};var Ze=a(89041),Ce=a(88858),ye=a(65081),be=a(20424);const Ne=e=>{let{handleChange:t,name:a}=e;const[r,s]=(0,l.useState)(M.qQ.ASC),[o]=n.Z.useForm(),c=n.Z.useWatch("orderByColumn",o),{pathname:p}=(0,i.TH)(),m=(0,l.useMemo)((()=>(0,D.F)(p)),[p]),{t:x}=(0,k.$G)([m,"translation"]),{user:{data:f},selectedCompany:g}=((0,d.I0)(),(0,d.v9)((e=>null===e||void 0===e?void 0:e.auth))),{purchaseOrderFilters:v}=(0,d.v9)((e=>e.purchaseOrder)),Z=e=>{let a;return e===M.qQ.ASC?a=M.qQ.DESC:e===M.qQ.DESC&&(a=M.qQ.ASC),t({sortingOrderType:a,filterColumn:c}),a};return(0,I.jsx)(n.Z,{className:"w-100",form:o,children:(0,I.jsxs)(u.Z,{align:"middle",gutter:15,children:[(0,I.jsx)(h.Z,{sm:15,lg:12,children:(0,I.jsx)(Ce.Z,{className:"w-100",margin:"m-0",placeholder:"".concat(x("translation:default.fields.sortBy.label"),"..."),name:"orderByColumn",options:(0,M.tw)(),onChange:e=>{var a;t({sortingOrderType:r,filterColumn:null===(a=e)||void 0===a?void 0:a.value})}})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(j.Z,{onClick:()=>s(Z),children:(0,I.jsx)(S.Z,{className:"mr-5",Icon:r===M.qQ.ASC?ye.r:be.r,height:18,width:18})})})]})})};var we=a(31958),Se=a(75652);const ke=e=>{var t,a,r,s;let{regularOrders:o,dataLength:c,isSelectedArray:m,onSelectOrders:v,totalShipCount:j,totalSippedId:Z,orderType:C,onsubmitdata:y,form:b}=e;const[N,w]=(0,l.useState)(!1),[O,V]=(0,l.useState)(0),[T,M]=(0,l.useState)(!0),H=(0,d.I0)(),{selectedCompany:K}=(0,d.v9)((e=>e.auth)),[A,U]=(0,l.useState)(!1),{userInfo:R}=(0,q.PL)(),[Q,G]=(0,l.useState)(0),[_,Y]=(0,l.useState)(null),{pathname:$}=(0,i.TH)(),z=(0,l.useMemo)((()=>(0,D.F)($)),[$]),{t:W}=(0,k.$G)([z,"translation"]),[J,ee]=(0,l.useState)([]);let{packageTypes:te,packageModalVisible:ae}=(0,d.v9)((e=>e.poVendor));const{selectedRegularOrders:re,purchaseOrderFilters:le,selectedPurchaseOrders:se}=(0,d.v9)((e=>e.purchaseOrder));let ne=P().chain(o).groupBy("poNumber").map(((e,t)=>({poNumber:t,regOrders:e,status:re.selectedAll}))).value();ne=P().sortBy(ne,"poNumber"),ne.forEach((e=>{null!==e&&void 0!==e&&e.regOrders&&(null===e||void 0===e?void 0:e.regOrders.length)>0&&(e.regOrders=e.regOrders.sort(((e,t)=>parseInt(e.lineNum)-parseInt(t.lineNum))))})),(0,l.useEffect)((()=>{const e=new AbortController;e.signal;return(async()=>{ee(ne)})(),()=>e.abort()}),[o]),(0,l.useEffect)((()=>{b.setFieldValue("packageIds".concat(ae.mainKey+"-"+ae.packageKey),Z),b.setFieldValue("quantityShipped".concat(ae.mainKey+"-"+ae.packageKey),j),b.validateFields(["quantityShipped".concat(ae.mainKey+"-"+ae.packageKey)]),null!=_&&oe(_.key,_.row,_.mainKey,"packageIds")}),[Z]);const ie=e=>{if(se){const t=se.filter((t=>t.poNumber===e));if(t.length>0)return t[0].povStatus}},de=(null===m||void 0===m||null===(t=m.data)||void 0===t?void 0:t.length)>0&&(null===m||void 0===m||null===(a=m.data)||void 0===a?void 0:a.map((e=>({poNumber:e.poNumber,lineNum:e.lineNum})))),oe=((null===m||void 0===m||null===(r=m.data)||void 0===r?void 0:r.length)>0&&(null===m||void 0===m||null===(s=m.data)||void 0===s||s.map((e=>{let{rowID:t}=e;return t}))),function(e,t,a){var r;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s=(0,F.cloneDeep)(t),n=a+"-"+e,i=b.getFieldValue("quantityShipped"+n),d=b.getFieldValue("packageIds"+n);let o=[];G(n);let c="";if("qtyShipped"===l||"packageIds"===l?(b.setFieldValue("newShipDate"+n,i?xe()(new Date):""),c=i?xe()(new Date).format("YYYY-MM-DD"):""):c=b.getFieldValue("newShipDate"+n).format("YYYY-MM-DD"),0===(null===re||void 0===re||null===(r=re.data)||void 0===r?void 0:r.length))t={...t,quantityShipped:i,packageIds:d,expShipDate:c},H((0,L.qQ)({data:[t]}));else{var u,h;0===(null===re||void 0===re||null===(u=re.data)||void 0===u?void 0:u.filter((e=>e.lineNum===s.lineNum&&e.rowID===s.rowID&&e.uniqueId===s.uniqueId))).length&&""!==(t={...t,quantityShipped:i,packageIds:d,expShipDate:c}).quantityShipped&&o.push(t),null===(h=re.data)||void 0===h||h.map((e=>{e.lineNum===s.lineNum&&e.rowID===s.rowID&&e.uniqueId===s.uniqueId?(e.quantityShipped=i,e.packageIds=d,e.expShipDate=c,""!==e.quantityShipped&&o.push(e)):o.push(e)})),H((0,L.qQ)({data:o}))}});return(0,I.jsx)(n.Z,{onFinish:e=>(e=>{const t=[];e.customerKey=K.companyId,e.poNumber=e.poNumber,e.rowId=e.rowID,t.push(e),H((0,L.Su)(t)),w(!1)})(e),form:b,initialValues:{},children:J.length>0&&J.map(((e,t)=>(0,I.jsxs)(p.Z,{className:"border-muted mb-16 shadow-muted ",children:[(0,I.jsx)("div",{className:"border-bottom-muted pt-8 pb-10 px-16",children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsxs)("div",{className:"field-card-container mt-0",children:[(0,I.jsx)(B.Z.Text,{className:"field-card-title ml-10",children:"".concat(W("translation:default.fields.orderNumber")," : ")}),(0,I.jsx)(B.Z.Text,{className:"text-dark mx-5 normal-text",children:e.poNumber})]})}),(0,I.jsxs)(h.Z,{sm:3,children:[(0,I.jsx)(B.Z.Text,{className:"field-card-title ml-10",children:"".concat(W("translation:default.fields.status.label"),": ")}),(0,I.jsx)(B.Z.Text,{className:"text-dark mx-5 normal-text",children:(0,I.jsx)(g.Z,{type:ie(e.poNumber),children:ie(e.poNumber)})})]})]})}),e.regOrders.map(((a,r)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(u.Z,{className:"px-15 py-14 ",onClick:()=>{},gutter:15,children:(0,I.jsxs)(h.Z,{className:"flex-1",children:[(0,I.jsxs)(u.Z,{gutter:15,children:[(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsxs)("div",{className:"field-card-container ",children:[(ie(e.poNumber),(0,I.jsx)(B.Z.Text,{className:"field-card-title ml-23",children:W("translation:default.fields.lineNumber.label")})),(0,I.jsx)("br",{}),(0,I.jsx)(B.Z.Text,{className:"text-dark ml-23 mx-5 normal-text",children:a.lineNum})]})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.partNumber"),children:(0,I.jsx)(f.Z,{normal:!0,children:a.productCode})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.itemQuantity"),children:(0,I.jsx)(f.Z,{normal:!0,children:a.poQuantity})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.quantityLeft"),children:(0,I.jsx)(f.Z,{normal:!0,children:a.poQuantityLeft})})}),(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsx)(x.Z,{title:W("translation:purchase-order-view.itemShipDate"),children:(0,I.jsx)(f.Z,{normal:!0,children:a.orderShipDate?xe()(a.orderShipDate).format("MM/DD/YYYY"):""})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.deliveryDate.label"),children:(0,I.jsx)(f.Z,{normal:!0,children:a.orderDeliveryDate?xe()(a.orderDeliveryDate).format("MM/DD/YYYY"):""})})})]}),(0,I.jsxs)(u.Z,{gutter:15,className:"mt-15",children:[(0,I.jsx)(h.Z,{sm:9,className:"pl-30",children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.partNumberDescription"),children:(0,I.jsx)(f.Z,{normal:!0,children:a.productDesc})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.unitPrice"),children:(0,I.jsx)(f.Z,{normal:!0,children:a.poPrice})})}),"Open"===ie(e.poNumber)?(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(X.Z,{disabled:""!==b.getFieldValue("packageIds"+t+"-"+r)&&void 0!==b.getFieldValue("packageIds"+t+"-"+r),editMode:!0,margin:"mb-10",label:W("translation:default.fields.quantityShipped"),name:"quantityShipped"+t+"-"+r,placeholder:W("translation:purchase-order-view.fields.quantityShipped.placeholder"),onChange:()=>oe(r,a,t,"qtyShipped"),rules:[{required:a.checkBoxStatus||e.status,message:""},()=>({validator:(e,l)=>""===l?Promise.resolve():Q===t+"-"+r||de.length>0&&de.includes(a.poNumber&&a.lineNum)?parseInt(l)>0&&parseInt(a.poQuantityLeft)>=parseInt(l)?Promise.resolve():Promise.reject(new Error(W("translation:purchase-order-view.fields.quantityShipped.error"))):Promise.resolve()})]})}):(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.quantityShipped"),children:(0,I.jsx)(f.Z,{normal:!0,children:"-"})})}),"Open"===ie(e.poNumber)?(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsx)(x.Z,{children:(0,I.jsx)(ue.Z,{editMode:!0,name:"packageIds"+t+"-"+r,placeholder:W("translation:purchase-order-view.addPackageID"),label:W("translation:default.fields.packageID.label"),margin:"mb-10 pt-7",icon:(0,I.jsx)(S.Z,{Icon:Se.r,color:"black",width:15,height:15,id:"packageIdIcon"+r,onClick:e=>{Y({key:r,row:a,mainKey:t}),((e,t,a,r)=>{let l={};l.lineNum=t.lineNum,l.PoQuantityLeft=t.poQuantityLeft,l.userGuid=R.userGuid;let s=l;s.poNumber=t.poNumber,s.rowId=t.rowID,s.poQuantity=t.poQuantity,s.id=0,H((0,E.b3)({showModal:!0,data:s,packageKey:e,isPackLoading:!0,mainKey:r,shippedId:ae.shippedId,totalshipped:ae.totalshipped})),setTimeout((function(){H((0,E.Ms)(l))}),2e3)})(r,a,0,t)}}),type:"text",enableSuffix:!0,onChange:()=>oe(r,a,t,"packageIds"),readOnly:!0,id:"packageId"+r})})}):(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.packageID.label"),children:(0,I.jsx)(f.Z,{normal:!0,children:"-"})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:W("translation:default.fields.newShipDate"),children:"Open"===ie(e.poNumber)?(0,I.jsx)(pe.Z,{name:"newShipDate"+t+"-"+r,editMode:!0,margin:"mb-12 pt-5",inputLabelClasss:"f-14 text-highlight",onChange:()=>oe(r,a,t),rules:[()=>({validator(e,l){if(Q===t+"-"+r||de.length>0&&de.includes(a.poNumber&&a.lineNum)){const e=xe()().startOf("day"),t=xe()(l).startOf("day");return"undefined"===typeof l||null===typeof l?Promise.resolve():t.diff(e,"days")>365?Promise.reject(new Error(W("translation:purchase-order-view.newShipDateError"))):t.isBefore(e)?Promise.reject(new Error(W("translation:purchase-order-view.newShipPastDateError"))):Promise.resolve()}return Promise.resolve()}})],previousDateDisable:!0}):""})})]})]})},r),e.regOrders.length!=r+1&&(0,I.jsx)("hr",{style:{borderTop:"1px dashed #CCC",marginLeft:"-25px",marginRight:"-25px"}})]})))]},t)))})};var De=a(36473),Le=a(99660);const Ie=l.memo((e=>{let{releaseOrdersData:t,mainRow:a,mainKey:r,onChangeIndividualReleaseData:s}=e;const n=P().chain(t).groupBy("poNumber").map(((e,t)=>({poNumber:t,poReleaseOrder:e}))).value();n.sort(((e,t)=>{const a=e.poNumber.toUpperCase(),r=t.poNumber.toUpperCase();return a<r?-1:a>r?1:0})),n.forEach((e=>{null!==e&&void 0!==e&&e.poReleaseOrder&&(null===e||void 0===e?void 0:e.poReleaseOrder.length)>0&&(e.poReleaseOrder=e.poReleaseOrder.sort(((e,t)=>parseInt(e.lineNum)-parseInt(t.lineNum))))}));const{pathname:d}=(0,i.TH)(),o=(0,l.useMemo)((()=>(0,D.F)(d)),[d]),{t:c}=(0,k.$G)([o,"translation"]);return(0,I.jsx)(I.Fragment,{children:n.length>0&&n.map(((e,t)=>{var a;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(p.Z,{className:"border-muted shadow-muted mt-20",children:[(0,I.jsx)("div",{className:"border-bottom-muted pt-8 pb-10 px-16",children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsxs)("div",{className:"field-card-container mt-0",children:[(0,I.jsx)(B.Z.Text,{className:"field-card-title ml-20",children:"".concat(c("translation:default.fields.orderNumber")," : ")}),(0,I.jsx)(B.Z.Text,{className:"normal-text mx-5 normal-text",children:e.poNumber})]})}),(0,I.jsxs)(h.Z,{sm:4,children:[(0,I.jsx)(B.Z.Text,{className:"field-card-title ml-10",children:"".concat(c("translation:default.fields.status.label")," : ")}),(0,I.jsx)(B.Z.Text,{className:"text-dark mx-5 normal-text",children:(0,I.jsx)(g.Z,{type:c("translation:default.fields.open"),children:e.status?e.status:c("translation:default.fields.open")})})]})]})}),e.poReleaseOrder.length>0&&(null===(a=e.poReleaseOrder)||void 0===a?void 0:a.map(((e,t)=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(u.Z,{className:"px-15 py-14",onClick:()=>{},gutter:15,children:(0,I.jsxs)(h.Z,{className:"flex-1",children:[(0,I.jsxs)(u.Z,{className:"mb-15",gutter:15,children:[(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsxs)("div",{className:"field-card-container ",children:[(0,I.jsx)(B.Z.Text,{className:"field-card-title ml-23",children:c("translation:default.fields.lineNumber.label")}),(0,I.jsx)("br",{}),(0,I.jsx)(B.Z.Text,{className:"text-dark ml-30 mx-5 normal-text",children:e.lineNum})]})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.partNumber"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:e.productCode})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.itemQuantity"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:e.poQuantity})})}),(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.quantityLeft"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:e.poQuantityLeft})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:c("translation:purchase-order-view.itemShipDate"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:e.orderShipDate?xe()(e.orderShipDate).format("MM/DD/YYYY"):""})})}),(0,I.jsx)(h.Z,{sm:3,className:"text-right",children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.deliveryDate.label"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:e.orderDeliveryDate?xe()(e.orderDeliveryDate).format("MM/DD/YYYY"):""})})})]}),(0,I.jsxs)(u.Z,{gutter:15,className:"mt-10",children:[(0,I.jsx)(h.Z,{sm:6,className:" pl-30",children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.partNumberDescription"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:e.productDesc})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.unitPrice"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:e.poPrice})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.quantityShipped"),children:(0,I.jsx)(f.Z,{className:"normal-text qty-center",children:e.quantityShipped})})}),(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.packageID.label"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:e.packageIds?e.packageIds.toString():""})})}),(0,I.jsx)(h.Z,{sm:6,children:(0,I.jsx)(x.Z,{title:c("translation:default.fields.newShipDate"),children:(0,I.jsx)(f.Z,{className:"normal-text",children:(0,w.Xu)(e.expShipDate)})})})]})]})}),(0,I.jsx)("hr",{className:"mb-15",style:{borderTop:"1px dashed #CCC",marginLeft:"-25px",marginRight:"-25px"}})]}))))]})})}))})})),Oe=l.memo((e=>{let{data:t,dataLength:a,shipmentKey:r,shipmentValidation:s,validationMessage:o}=e;const[c,m]=(0,l.useState)(!1),[x]=n.Z.useForm(),f=(0,d.I0)(),{selectedCompany:g}=(0,d.v9)((e=>e.auth)),[v,j]=(0,l.useState)([]),[Z,C]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),{pathname:N}=(0,i.TH)(),w=(0,l.useMemo)((()=>(0,D.F)(N)),[N]),{t:S}=(0,k.$G)([w,"translation"]),{purchaseOrderFilters:O}=((0,d.v9)((e=>e.common.notificationAPI)),(0,d.v9)((e=>e.purchaseOrder)));let{saveShipment:V}=(0,d.v9)((e=>e.poVendor));const{userInfo:T}=(0,q.PL)();let M=(0,i.s0)();const F=P()(t).groupBy((e=>e.expShipDate+e.consigneeCountry+e.consigneeZip)).mapValues((e=>({date:e[0].expShipDate,releaseOrders:e}))).values().value();(0,l.useEffect)((()=>{const e=new AbortController;return(async()=>{j(F)})(),()=>e.abort()}),[t]),(0,l.useEffect)((()=>{V.success?(C(!1),r?M(Le.QY.CREATE_SHIPMENT+"/"+parseInt(r)):(M(Le.QY.CREATE_SHIPMENT),f((0,E.KT)([]))),f((0,L.vh)([])),f((0,L.qQ)({data:[]})),f((0,E.fj)([])),f((0,L.v9)(!1))):V.error&&C(!1)}),[V]);const H={padding:"4px 0"},B=(e,t,a,r)=>{let l;const s=[];l=!!a.target.checked,v.forEach(((e,a)=>{let n=[],i=0;e.releaseOrders.forEach(((e,s)=>{s===t&&r===a?e.checkBoxStatus=l:e.checkBoxStatus||(e.checkBoxStatus=!1),e.checkBoxStatus&&i++,n.push(e)})),n.length===i?e.status=!0:e.status=!1,e.releaseOrders=n,s.push(e)})),j(s)};return(0,I.jsxs)(n.Z,{form:x,initialValues:{},children:[Z?(0,I.jsx)(Ze.Z,{}):"",v&&v.length>0&&v.map(((e,t)=>(0,I.jsx)(p.Z,{className:"border-muted  shadow-muted mb-20",children:(0,I.jsxs)(De.Z,{className:"mb-16 card-border",title:"".concat(S("translation:default.fields.newShipDate"),": ").concat(e.date?xe()(e.date).format("MM/DD/YYYY"):"","\n                     "),headStyle:{backgroundColor:"#006697",color:"#FFF",border:"0px"},children:[(0,I.jsxs)(u.Z,{gutter:16,children:[(0,I.jsx)(h.Z,{className:"gutter-row",span:13}),(0,I.jsx)(h.Z,{className:"gutter-row",span:3,children:(0,I.jsx)("div",{style:H,className:"text-right mt-6",children:(0,I.jsx)(he.Z,{children:"".concat(S("translation:default.fields.newShipDate")," :")})})}),(0,I.jsx)(h.Z,{className:"gutter-row",span:4,children:(0,I.jsx)("div",{style:H,children:(0,I.jsx)(pe.Z,{name:"mainShipDate"+t,placeholder:S("translation:default.date"),margin:"mb-0",previousDateDisable:!0,rules:[{required:!0,message:S("translation:purchase-order-view.error.emtyDate")}]})})}),(0,I.jsx)(h.Z,{className:"gutter-row",span:4,children:(0,I.jsx)("div",{style:H,className:"text-right",children:(0,I.jsx)(A.ZP,{onClick:(e,a)=>(async(e,t)=>{let a="";const l=xe()().startOf("day");let n=x.getFieldValue("mainShipDate"+t);if(""==n||"undefined"==typeof n)a=S("translation:purchase-order-view.error.emtyDate");else{let e=xe()(n).startOf("day");e.diff(l,"days")<-365?a=S("translation:purchase-order-view.error.shipdateYear"):e.isBefore(l)&&(a=S("translation:purchase-order-view.error.shipmentPastDate"))}if(""!=a)return await x.validateFields(["mainShipDate"+t]),x.setFields([{name:"mainShipDate"+t,errors:[a]}]),!1;s(!1);let i=v[t].releaseOrders;f((0,L.dv)(i));const d=[];let c=!1,u=!1;if(i.map((e=>{let a=x.getFieldValue("mainShipDate"+t);""==a&&"undefined"==typeof a&&(a=e.expShipDate);const r=xe()(a).startOf("day");if(r.diff(l,"days")<-365&&!1===c)c=!0;else if(r.isBefore(l)&&!1===u)u=!0;else{let a={status:1};a.rowId=e.rowID?parseInt(e.rowID):0,a.poNumber=e.poNumber,a.productCode=e.productCode,a.productDesc=e.productDesc,a.unitPrice=e.unitPrice?e.unitPrice:0,a.poQuantity=e.poQuantity,a.poQuantityLeft=e.poQuantityLeft,a.quantityShipped=e.quantityShipped?parseInt(e.quantityShipped):0,a.poPaymentTerm=e.poPaymentTerm,a.shipmentTerms=e.shipmentTerms,a.orderLineStatus=e.orderLineStatus,a.lineNumber=e.lineNum,a.poItemSequenceKey=e.poItemSequenceKey,a.isOverwriteExpShipDate=!0,a.crateNo=e.packageIds?e.packageIds:"",a.expShipDate=x.getFieldValue("mainShipDate"+t)?x.getFieldValue("mainShipDate"+t):e.expShipDate,a.orderShipDate=e.orderShipDate,a.orderShipDateNew=x.getFieldValue("mainShipDate"+t)?x.getFieldValue("mainShipDate"+t):e.expShipDate,d.push(a)}})),!0===c||!0===u)o(S(!0===c?"translation:purchase-order-view.error.shipdateYear":"translation:purchase-order-view.error.shipmentPastDate")),s(!0);else{let e={};e.listPoItems=d,e.vendorKey=null===g||void 0===g?void 0:g.companyId,e.customerKey=null===O||void 0===O?void 0:O.customerKey,e.vendorLogonID=null===T||void 0===T?void 0:T.email,e.userGuid=T.userGuid,e.shipmentKey=r,f((0,E.$x)(e))}})(0,t),className:"ant-btn-primary",style:{backgroundColor:"#006697"},children:S(r?"translation:purchase-order-view.updateShipment":"translation:purchase-order-view.createShipment")})})})]}),(0,I.jsx)("hr",{className:"mb-25",style:{borderTop:"1px dashed #CCC",marginLeft:"-25px",marginRight:"-25px"}}),e.releaseOrders.length>0?(0,I.jsx)(Ie,{releaseOrdersData:e.releaseOrders,mainKey:t,mainRow:e,shipmentKey:r,onChangeIndividualReleaseData:B}):""]})},t)))]})})),Ee=l.memo((e=>{let{orderNumber:t,data:a}=e;const[r,s]=(0,l.useState)(!1),[o]=n.Z.useForm(),c=(0,d.I0)(),{selectedCompany:m}=(0,d.v9)((e=>e.auth)),{selectedPurchaseOrders:v}=(0,d.v9)((e=>e.purchaseOrder)),{pathname:j}=(0,i.TH)(),Z=(0,l.useMemo)((()=>(0,D.F)(j)),[j]),{t:C}=(0,k.$G)([Z,"translation"]),y=e=>{if(v){const t=v.filter((t=>t.poNumber===e));if(t.length>0)return t[0].poStatus}};return(0,I.jsx)(n.Z,{onFinish:e=>(e=>{const t=[];e.customerKey=m.companyId,e.poNumber=a.poNumber,e.rowId=a.rowID,t.push(e),c((0,L.Su)(t)),s(!1)})(e),form:o,initialValues:{},children:(0,I.jsxs)(p.Z,{className:"border-muted mb-16",children:[(0,I.jsx)("div",{className:"border-bottom-muted pt-8 pb-10 px-16",children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(h.Z,{sm:5,children:(0,I.jsxs)("div",{className:"field-card-container mt-0",children:[(0,I.jsx)(B.Z.Text,{className:"field-card-title",children:"".concat(C("translation:default.fields.newShipDate")," : ")}),(0,I.jsx)(B.Z.Text,{className:"text-dark mx-5 normal-text",children:t})]})}),(0,I.jsxs)(h.Z,{sm:4,children:[(0,I.jsx)(B.Z.Text,{className:"field-card-title",children:"".concat(C("translation:default.fields.status.label")," : ")}),(0,I.jsx)(B.Z.Text,{className:"text-dark mx-5 normal-text",children:(0,I.jsx)(g.Z,{type:y(t),children:y(t)})})]})]})}),a&&a.length>0?a.map(((e,t)=>((e,t)=>(0,I.jsx)(u.Z,{className:"px-15 py-14 ".concat(t===a.length?"":"border-bottom-dash-muted"),onClick:()=>{},gutter:15,children:(0,I.jsx)(h.Z,{className:"flex-1",children:(0,I.jsxs)(u.Z,{className:"mb-15",gutter:15,children:[(0,I.jsx)(h.Z,{sm:2,children:(0,I.jsx)(x.Z,{title:C("translation:default.fields.lineNumber.label"),children:(0,I.jsx)(f.Z,{normal:!0,children:e.lineNum})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:C("translation:default.fields.partNumber"),children:(0,I.jsx)(f.Z,{normal:!0,children:e.productCode})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:C("translation:default.fields.description"),children:(0,I.jsx)(f.Z,{normal:!0,children:e.productDesc})})}),(0,I.jsx)(h.Z,{sm:2,children:(0,I.jsx)(x.Z,{title:C("translation:default.fields.itemQuantity"),textClass:"text-end",children:(0,I.jsx)(f.Z,{normal:!0,children:e.poQuantity})})}),(0,I.jsx)(h.Z,{sm:2,children:(0,I.jsx)(x.Z,{title:C("translation:default.fields.quantityLeft"),textClass:"text-end",children:(0,I.jsx)(f.Z,{normal:!0,children:e.poQuantityLeft})})}),(0,I.jsx)(h.Z,{sm:3,children:(0,I.jsx)(x.Z,{title:C("translation:default.fields.quantityShipped"),textClass:"text-end",children:(0,I.jsx)(f.Z,{normal:!0,children:e.quantityShipped?e.quantityShipped:0})})}),(0,I.jsx)(h.Z,{sm:3,className:"text-center",children:(0,I.jsx)(x.Z,{title:C("translation:default.fields.paymentTerms"),children:(0,I.jsx)(f.Z,{normal:!0,children:e.poPaymentTerm})})}),(0,I.jsx)(h.Z,{sm:3,className:"text-center",children:(0,I.jsx)(x.Z,{title:C("translation:purchase-order-view.itemShipDate"),children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(e.orderShipDate)})})}),(0,I.jsx)(h.Z,{sm:6,className:"text-center",children:(0,I.jsx)(x.Z,{title:C("translation:default.fields.newShipDate"),children:(0,I.jsx)(f.Z,{normal:!0,children:(0,w.BZ)(e.expShipDate)})})})]})})}))(e,t+1))):""]})})}));const Ve=function(){var e,t,a,r,s;const{pathname:o}=(0,i.TH)(),[c,p]=(0,l.useState)("REGULAR"),m=(0,l.useMemo)((()=>(0,D.F)(o)),[o]),{t:x}=(0,k.$G)([m,"translation"]),{shipmentKey:f}=(0,i.UO)(),g=(0,d.I0)(),[v]=n.Z.useForm(),[j]=n.Z.useForm(),[Z,C]=(0,l.useState)(!1),[y,b]=(0,l.useState)("ASC"),[N,w]=(0,l.useState)("poNumber"),[O,V]=(0,l.useState)([]),[F,P]=(0,l.useState)(""),[q,H]=(0,l.useState)([]),[B,K]=(0,l.useState)([]),A=(0,d.v9)((e=>e.common.notificationAPI),d.wU),U=(0,d.v9)((e=>e.purchaseOrder.selectedRegularOrders),d.wU),R=(0,d.v9)((e=>e.purchaseOrder.releaseOrderInfo),d.wU),Q=(0,d.v9)((e=>e.purchaseOrder.selectedPurchaseOrders),d.wU);let G=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderFilters),d.wU),Y=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderDetails),d.wU),$=(0,d.v9)((e=>e.poVendor.PODetails),d.wU),W=(0,d.v9)((e=>e.poVendor.packageModalVisible),d.wU),X=(0,d.v9)((e=>e.poVendor.POItemInfo),d.wU),ee=(0,d.v9)((e=>e.poVendor.regularOrderInfo),d.wU);const ae=(0,d.v9)((e=>{var t,a;return(null===e||void 0===e||null===(t=e.auth)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.data)||{}}),d.wU);let re=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderList),d.wU),le=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderTotalCount),d.wU);"VEND"===(null===ae||void 0===ae?void 0:ae.userType)&&(re=(0,d.v9)((e=>e.poVendor.purchaseOrderListVendor),d.wU),Y=(0,d.v9)((e=>e.poVendor.PODetails),d.wU),le=(0,d.v9)((e=>e.poVendor.purchaseOrderVendorTotalCount)));const se=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderSidebarVisible),d.wU);(0,l.useEffect)((()=>{var e,t;let a;if(a=null===(e=Y)||void 0===e?void 0:e.data,V(fe(a)),g((0,E.b3)({showModal:!1,packageKey:""})),j.resetFields(),null!==(t=Y)&&void 0!==t&&t.data){var r=B.map((e=>({poNumber:e.poNumber,lineNum:e.lineNum})));let e=me(a,r);e=me(e,R),H(e)}}),[Y]),(0,l.useEffect)((()=>{if(null!==ee&&void 0!==ee&&ee.success){var e,t;j.resetFields(),(0,E.b3)({showModal:!1,data:[],packageKey:""}),g((0,L.qQ)({data:[],releaseOrders:null===U||void 0===U?void 0:U.data}));let r=null===U||void 0===U?void 0:U.data,l=[...B,...r],s=l.filter(((e,t,a)=>a.findIndex((t=>t.lineNum===e.lineNum&&t.poNumber===e.poNumber&&t.uniqueId===e.uniqueId))===t));if((null===R||void 0===R?void 0:R.length)<=0)g((0,L.dD)(JSON.parse(JSON.stringify(s))));else{let e=R;e.push(...s),g((0,L.dD)(JSON.parse(JSON.stringify(e))))}let n=null===(e=Y)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>!e.expShipDate&&!e.quantityShipped));var a=l.map((e=>({poNumber:e.poNumber,lineNum:e.lineNum})));let i=me(n,a);i=me(i,R),H(i),p("RELEASE")}}),[ee]);const ne=e=>{if(ae&&(null===ae||void 0===ae?void 0:ae.userType)===M.yC.CUST){let a=v.getFieldValue("search");if(e){const t={orderByColumn:e.filterColumn,orderBySort:e.sortingOrderType,listPoNumber:Q,customerKey:Q[0].customerKey};g((0,L.M$)(t))}else{let r,l;if(r=e?e.filterColumn:"poNumber",r){var t;let s;l=e?e.sortingOrderType:M.qQ.ASC,b(l),a=a?a.toLowerCase():"",w(r),s=(null===(t=Y)||void 0===t?void 0:t.data).filter((e=>{if(!e.expShipDate&&!e.quantityShipped&&(e.productDesc.toLowerCase().includes(a)||e.lineNum.toLowerCase().includes(a)||e.productCode.toLowerCase().includes(a)||e.poNumber.toLowerCase().includes(a)))return!0})),V(fe(s))}}}else{let t,r,l=v.getFieldValue("search");if(e){t=e.filterColumn;const a={orderByColumn:e.filterColumn,orderBySort:e.sortingOrderType,listPoNumber:Q,customerKey:Q[0].customerKey};g((0,L.M$)(a))}else t="poNumber";if(t){let s;var a;if(r=e?e.sortingOrderType:M.qQ.ASC,b(r),l=l?l.toLowerCase():"",w(t),"REGULAR"===c)s=Ce(l,B);else s=null===U||void 0===U||null===(a=U.releaseOrders)||void 0===a?void 0:a.filter((e=>{if(e.productDesc.toLowerCase().includes(l)||e.lineNum.toLowerCase().includes(l)||e.productCode.toLowerCase().includes(l)||e.poNumber.toLowerCase().includes(l))return!0}));let n=r.toLowerCase(),i=_.orderBy(s,(e=>+e.columnName),[n]);"REGULAR"===c?H(i):K(i)}}},me=(e,t)=>e.filter((e=>!t.some((t=>e.poNumber===t.poNumber&&e.lineNum===t.lineNum)))),xe=async()=>{try{if(0==(null===U||void 0===U?void 0:U.data.length))return triggerNotification(A,{type:NOTIFICATION_TYPES.ERROR,title:x("translation:default.notification.leastOneItem")}),!1;if(await j.validateFields()&&(null===U||void 0===U?void 0:U.data.length)>0){const e=U.data.map((e=>{const t={customerKey:e.customerKey,expShipDate:e.expShipDate||e.orderDeliveryDate,orderShipDate:e.orderShipDate,poItemSequenceKey:e.poItemSequenceKey,poNumber:e.poNumber,lineNumber:e.lineNum,poQuantity:e.poQuantity,poQuantityLeft:e.poQuantityLeft,quantityShipped:e.quantityShipped||0,status:1};return e.packageIds&&e.packageIds.length>0?t.packageIds=e.packageIds.toString():t.packageIds="",t}));e.length>0&&g((0,E.av)(e))}}catch(e){return!1}},fe=e=>_.chain(e).groupBy("poNumber").map(((e,t)=>({poNumber:t,poInfoDetails:e}))).value(),ge=()=>{C(!1)},Ce=(e,t)=>{var a;const r=new Set(t.map((e=>({poNumber:e.poNumber,lineNum:e.lineNum}))));let l;l=null===(a=Y)||void 0===a?void 0:a.data;let s,n=l.filter((t=>{if(t.productDesc.toLowerCase().includes(e)||t.lineNum.toLowerCase().includes(e)||t.productCode.toLowerCase().includes(e)||t.poNumber.toLowerCase().includes(e))return!0}));return s=r.length>0?me(n,r):n,s};return(0,I.jsxs)(l.Fragment,{children:[(0,I.jsx)(ce.Z,{visible:se,onClose:()=>{g((0,L.v9)(!1)),ae&&(null===ae||void 0===ae?void 0:ae.userType)===M.yC.CUST?g((0,L.pC)({data:[]})):g((0,E.BD)({data:[]}))},contentClassName:"py-16",headerContents:(0,I.jsx)("h2",{className:"header-text m-0",children:x("translation:purchase-order-view.purchaseItemInformation")}),width:"75%",children:(0,I.jsxs)("div",{className:"d-flex h-100",style:{flexDirection:"column"},children:[null!==(e=Y)&&void 0!==e&&e.data&&(null===(t=Y)||void 0===t?void 0:t.data.length)>0?(0,I.jsx)(n.Z,{form:v,children:(0,I.jsxs)(u.Z,{className:"px-30 align-items-center",gutter:16,children:[(0,I.jsx)(h.Z,{className:"gutter-row",span:6,children:(0,I.jsx)("div",{children:(0,I.jsx)(ue.Z,{editMode:!0,name:"search",placeholder:x("translation:default.buttons.search"),margin:"m-0",icon:(0,I.jsx)(S.Z,{Icon:we.r,color:"black",width:20,height:20,onClick:()=>ne()}),onChange:()=>ne(),type:"text",enableSuffix:!0})})}),(0,I.jsx)(h.Z,{className:"gutter-row",span:"REGULAR"===c&&q.length>0?"8":"10",children:(0,I.jsx)("div",{children:(0,I.jsx)(Ne,{name:"filterField",handleChange:ne})})}),ae&&(null===ae||void 0===ae?void 0:ae.userType)===M.yC.VEND&&(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(h.Z,{className:"gutter-row pr-20 text-right",span:8,children:[(0,I.jsx)("span",{className:"REGULAR"===c?"text-dark-footer-2":"text-muted",children:(0,I.jsx)("b",{className:"pr-20",children:x("translation:purchase-order-view.regularOrders")})}),(0,I.jsx)(ie.Z,{checked:"REGULAR"!==c,className:"ant-switch-toggle background-dark-footer-2",onChange:()=>(async()=>{p("REGULAR"===c?"RELEASE":"REGULAR")})()}),(0,I.jsx)("span",{className:"RELEASE"===c?"text-dark-footer-2":"text-muted",children:(0,I.jsx)("b",{className:"pl-20",children:x("translation:purchase-order-view.releaseOrders")})})]})})]})}):(0,I.jsx)(u.Z,{gutter:16,className:"px-30 align-items-center",justify:"end",children:(null===(a=Y)||void 0===a?void 0:a.data)&&1===(null===(r=Y)||void 0===r?void 0:r.data.length)&&ae&&(null===ae||void 0===ae?void 0:ae.userType)===M.yC.VEND&&(0,I.jsxs)(u.Z,{style:{justifyContent:"right"},children:[(0,I.jsx)(h.Z,{className:"text-right purhcase-order-date-title",children:(0,I.jsx)(he.Z,{children:"".concat(x("translation:default.fields.newShipDate")," : ")})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(pe.Z,{name:"NewShipDate",placeholder:x("translation:purchase-order-view.date"),margin:"mb-0"})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(oe.rU,{to:Le.QY.CREATE_SHIPMENT,children:(0,I.jsx)(J.Z,{children:x("translation:purchase-order-view.createShipment")})})})]})}),(0,I.jsx)(de.Z,{className:"mt-0 my-16 ml-n16 vw-100 "}),(0,I.jsxs)("div",{className:"px-30 mb-16 custom-scroll-bar",style:{flex:1},children:[(null===ae||void 0===ae?void 0:ae.userType)===M.yC.VEND&&"REGULAR"===c&&q.length>0?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(h.Z,{className:"text-right mb-16",children:(0,I.jsx)(J.Z,{className:"primary",onClick:()=>xe(),htmlType:"submit",id:"confirmOrder",disabled:0===(null===U||void 0===U?void 0:U.data.length),children:x("translation:purchase-order-view.confirmPurchaseOrder")})}),(0,I.jsx)("hr",{className:"mb-20",style:{borderTop:"1px solid #CCC",marginLeft:"-30px",marginRight:"-30px"}})]}):"RELEASE"===c&&R.length>0?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(h.Z,{className:"text-right mb-16",children:(0,I.jsx)(z.Z,{title:"Sure to reset?",onConfirm:()=>(async()=>{var e;j.resetFields(),g((0,L.dD)([])),g((0,E.b3)(!1));const t={...R.map((e=>({poNumber:null===e||void 0===e?void 0:e.poNumber,lineNumber:null===e||void 0===e?void 0:e.lineNum}))),userGuid:null===R||void 0===R||null===(e=R[0])||void 0===e?void 0:e.userGuid};g((0,L.qQ)({data:[]})),g((0,E.aR)(t));let a=await Ce("",[]);a.length>0&&a&&(null===a||void 0===a||a.map(((e,t)=>{e.checkBoxStatus=!1,e.quantityShipped=""}))),H(a)})(),children:(0,I.jsx)(J.Z,{className:"primary",children:x("translation:purchase-order-view.resetReleaseOrder")})})})}):"",!$.progressing&&null!==X&&void 0!==X&&X.progressing||null!==(s=Y)&&void 0!==s&&s.progressing?(0,I.jsx)("div",{className:"p-30 ",children:(0,I.jsx)(Ze.Z,{})}):(null===ae||void 0===ae?void 0:ae.userType)===M.yC.VEND?"REGULAR"===c&&q.length>0?(0,I.jsx)(ke,{regularOrders:q,orderType:c,dataLength:null===q||void 0===q?void 0:q.length,isSelectedArray:U,onSelectOrders:(e,t)=>{let a=[...U.data];if(t)e.customerKey=G.customerKey,a.push(e);else{const t=a.findIndex((t=>t.lineNum===e.lineNum&&t.poNumber===e.poNumber));a.splice(t,1)}g((0,L.qQ)({data:a}))},totalShipCount:null===W||void 0===W?void 0:W.totalshipped,totalSippedId:null===W||void 0===W?void 0:W.shippedId,onsubmitdata:xe,form:j}):"RELEASE"===c&&R.length>0?(0,I.jsx)(Oe,{data:R,orderType:c,dataLength:null===R||void 0===R?void 0:R.length,packageKey:W.packageKey,purchaseOrderDetails:Y,sortingColumnName:N,sortingTypeMethod:y,shipmentKey:f,shipmentValidation:e=>{C(e)},validationMessage:e=>{P(e)}}):"":O&&O.length>0?O.map(((e,t)=>(0,I.jsx)(Ee,{orderNumber:e.poNumber,data:e.poInfoDetails},t))):(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(T.Z,{})}),$.progressing||X.progressing||Y.progressing||"REGULAR"!==c||0!==(null===q||void 0===q?void 0:q.length)?"RELEASE"===c&&0===R.length?(0,I.jsx)(T.Z,{}):"":(0,I.jsx)(T.Z,{})]}),(null===ae||void 0===ae?void 0:ae.userType)===M.yC.VEND?(0,I.jsx)(ve,{purchaseOrderDetailsData:Y.data,releaseOrders:R,searchTxt:v.getFieldValue("search"),orderType:c}):(0,I.jsx)(je,{purchaseOrderDetails:Y.data})]})}),(0,I.jsx)(te.Z,{onOk:ge,onCancel:()=>ge,onClose:()=>C(!1),open:Z,cancelButton:!0,description:F,title:x("translation:default.fields.alert"),okText:x("translation:purchase-order-view.confirmationModal.okText")})]})},Te=()=>{var e,t,a,r,s,c,u,h,p,m,x;const{pathname:f}=(0,i.TH)(),g=(0,l.useMemo)((()=>(0,D.F)(f)),[f]),{t:v}=(0,k.$G)([g,"translation"]),j=(0,d.I0)(),[Z]=n.Z.useForm(),[C]=n.Z.useForm(),[y,b]=(0,l.useState)(0),[N,S]=(0,l.useState)(!1),[F,P]=(0,l.useState)([]),[B,K]=(0,l.useState)(!1),A=(0,d.v9)((e=>e.auth.selectedCompany),d.wU);let U=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderFilters)),R=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderDetails),d.wU),G=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderTotalCount),d.wU),_=(0,d.v9)((e=>e.purchaseOrder.isCardView),d.wU);const Y=(0,d.v9)((e=>{var t,a;return(null===e||void 0===e||null===(t=e.auth)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.data)||{}}),d.wU),z=(0,d.v9)((e=>e.purchaseOrder.selectedPurchaseOrders),d.wU),W=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderSidebarVisible),d.wU),J=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderSidebarExportVisible),d.wU);let X=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderList),d.wU),ae=(0,d.v9)((e=>e.poVendor.vendorSearchList),d.wU),re=(0,d.v9)((e=>e.poVendor.packageModalVisible),d.wU),le=JSON.parse(localStorage.getItem("userInfo"));const ie=z.map((e=>{let{rowId:t}=e;return t}));"VEND"===(null===Y||void 0===Y?void 0:Y.userType)&&(X=(0,d.v9)((e=>e.poVendor.purchaseOrderListVendor),d.wU),R=(0,d.v9)((e=>e.poVendor.PODetails),d.wU),G=(0,d.v9)((e=>e.poVendor.purchaseOrderVendorTotalCount),d.wU)),(0,l.useEffect)((()=>{A&&A.companyId&&(U.pageLoading||S(!1),de(U))}),[U]),(0,l.useEffect)((()=>{(null===Y||void 0===Y?void 0:Y.userType)===M.yC.CUST?j((0,L.un)({data:[]})):(j((0,L.vh)([])),j((0,L.qQ)({data:[]})),j((0,E.qr)({data:[]})));let e={...U,pageIndex:1};(null===Y||void 0===Y?void 0:Y.userType)===M.yC.CUST&&(e.customerKey=null===A||void 0===A?void 0:A.companyId),"VEND"!==(null===Y||void 0===Y?void 0:Y.userType)&&j((0,L.h0)(e)),j((0,L.v9)(!1))}),[A]),(0,l.useEffect)((()=>{X.success&&b(Math.floor((G.totalCount+(U.pageSize-1))/U.pageSize))}),[G]),(0,l.useEffect)((()=>{if(z&&z.length>0){let e="consigneeZip",t=[...new Map(z.map((t=>[t[e],t]))).values()];P(t)}}),[z]);const de=()=>{const e={...U,povStatusCode:(0,q.kx)(U.povStatusCode),branchKey:(0,q.Ih)(U.branchKey),vendorKey:(0,q.Ih)(U.vendorKey),povStatus:(0,q.kx)(U.povStatus)};"VEND"===(null===Y||void 0===Y?void 0:Y.userType)?(e.vendorKey=A.companyId,e.orderShipDateFrom=(0,q.Fx)((0,w.hi)(U.orderShipDateFrom)),e.orderShipDateTo=(0,q.Fx)((0,w.hi)(U.orderShipDateTo)),e.userGuid=null===le||void 0===le?void 0:le.userGuid,delete e.orderCreatedDateFrom,delete e.orderCreatedDateTo,delete e.receiptNumber,delete e.povStatus,j((0,E._7)(e))):(e.orderCreatedDateFrom=(0,q.Fx)((0,w.hi)(U.orderCreatedDateFrom)),e.orderCreatedDateTo=(0,q.Fx)((0,w.hi)(U.orderCreatedDateTo)),delete e.povStatus,j((0,L.aZ)(e)))},oe=()=>{var e,t;(null===(e=X)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0&&j((0,L.h0)({...U,pageIndex:U.pageIndex+1}))},ce=(e,t,a)=>{S(!0);const r=[...z];if(he(e.consigneeZip,e.consigneeCountry)||t||K(!0),"CUST"===(null===Y||void 0===Y?void 0:Y.userType)||"VEND"===(null===Y||void 0===Y?void 0:Y.userType)||0===r.length){if(t){const t=r.findIndex((t=>t.poNumber===e.poNumber));r.splice(t,1)}else r.push(e);j((0,L.vh)(r)),j((0,L.v9)(!1))}},ue=(e,t)=>{const a=he(t.consigneeZip,t.consigneeCountry);if(!a&&"VEND"===(null===Y||void 0===Y?void 0:Y.userType))return K(!0),!1;e.stopPropagation(),S(!1);const r=z.map((e=>{let{rowId:t}=e;return t}));let l=[...z];if("VEND"===(null===Y||void 0===Y?void 0:Y.userType)?(t.vendorKey=null===A||void 0===A?void 0:A.companyId,t.customerKey=null===U||void 0===U?void 0:U.customerKey,t.userGuid=null===le||void 0===le?void 0:le.userGuid):t.customerKey=null===A||void 0===A?void 0:A.companyId,0===l.length||a){r.includes(t.rowId)||l.push(t),W||j((0,V.Rb)(!1));const e=l.map((e=>({poNumber:e.poNumber})));if("VEND"===(null===Y||void 0===Y?void 0:Y.userType)){const t={listPoNumber:e,vendorKey:A.companyId,customerKey:U.customerKey,userGuid:null===le||void 0===le?void 0:le.userGuid};j((0,E.S0)(t))}else{const t={listPoNumber:e,customerKey:null===A||void 0===A?void 0:A.companyId};j((0,L.M$)(t))}j((0,L.vh)(l)),j((0,L.v9)(!0))}},he=(e,t)=>{if(0===z.length)return!0;if(new Set(z.map((e=>e.consigneeCountry+e.consigneeZip))).size>1)return!1;const a=z.find((a=>a.consigneeZip===e&&a.consigneeCountry===t));return!!a&&a.consigneeZip},pe=()=>!X.progressing&&(null===U||void 0===U?void 0:U.pageIndex)<y;return(0,I.jsxs)("div",{className:"h-100 pt-15 d-flex flex-direction-column",children:[_&&(0,I.jsxs)(o.Z,{className:"".concat((null===(e=X)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0?"mb-15":"pb-15"," h-100 "),loadMore:oe,hasMore:pe(),isLoading:null===(a=X)||void 0===a?void 0:a.progressing,loadingText:N?v("translation:purchase-order-view.error.similarConsigneelocationOrders"):"",scrollOffset:100,children:[(null===(r=X)||void 0===r?void 0:r.data)&&(null===(s=X)||void 0===s?void 0:s.data.length)>0&&(null===(c=X)||void 0===c?void 0:c.data.map(((e,t)=>(0,I.jsx)("div",{className:"mb-15",children:Y&&(null===Y||void 0===Y?void 0:Y.userType)===M.yC.VEND?(0,I.jsx)(Q,{data:e,id:e.rowID,onSelect:ce,isSelected:ie.includes(e.rowID),handleClick:ue}):(0,I.jsx)(O,{data:e,id:e.rowID,onSelect:ce,isSelected:ie.includes(e.rowID),handleClick:ue})},t)))),!X.progressing&&0===(null===(u=X)||void 0===u?void 0:u.data.length)&&(0,I.jsx)(T.Z,{})]}),!_&&(0,I.jsx)(l.Fragment,{children:Y&&(null===Y||void 0===Y?void 0:Y.userType)===M.yC.VEND?(0,I.jsx)(se,{loadMore:oe,hasMore:pe(),isLoading:null===(h=X)||void 0===h?void 0:h.progressing,data:(null===(p=X)||void 0===p?void 0:p.data)||[],onSelect:ce,isSelected:ie,handleClick:ue}):(0,I.jsx)(ne,{loadMore:oe,hasMore:pe(),isLoading:(null===(m=X)||void 0===m?void 0:m.progressing)||(null===ae||void 0===ae?void 0:ae.progressing),data:(null===(x=X)||void 0===x?void 0:x.data)||[],onSelect:ce,isSelected:ie,handleClick:ue})}),(0,I.jsx)(Ve,{}),(0,I.jsx)(H.Z,{className:"vw-80",open:J,title:v("translation:purchase-order-view.purchaseOrderExport"),okText:v("translation:default.buttons.export"),cancelText:v("translation:default.buttons.close"),onClose:()=>{j((0,L.TC)(!1))},onCancel:()=>{j((0,L.TC)(!1))},onOk:()=>{Z.submit()},children:(0,I.jsx)($,{form:Z,exportdata:X.data.filter((e=>!0===e.isChecked))})}),(0,I.jsx)(H.Z,{title:v("translation:purchase-order-view.addNewPackageId"),open:re.showModal,okText:v("translation:default.buttons.save"),cancelText:v("translation:default.buttons.cancel"),className:"overflowScroll",onClose:()=>{j((0,E.b3)({showModal:!1,packageKey:re.packageKey,mainKey:re.mainKey,shippedId:re.shippedId,totalshipped:re.totalshipped,isPackLoading:!1}))},onOk:()=>C.submit(),onCancel:()=>{j((0,E.b3)({...re,showModal:!1,packageKey:re.packageKey,mainKey:re.mainKey,shippedId:re.shippedId,totalshipped:re.totalshipped,isPackLoading:!1}))},children:(0,I.jsx)(ee,{form:C})}),(0,I.jsx)(te.Z,{onOk:()=>K(!1),onCancel:()=>K(!1),onClose:()=>K(!1),open:B,cancelButton:!0,description:v("translation:purchase-order-view.confirmationModal.description"),title:v("translation:default.fields.alert"),okText:v("translation:purchase-order-view.confirmationModal.okText")})]})};var Me=a(84123),Fe=a(23709),Pe=a(68825);const qe=e=>{let{placeholder:t=Pe.ZP.t("translation:default.fields.poStatus.placeholder"),label:a=Pe.ZP.t("translation:default.fields.poStatus.label"),rules:r=[{required:!0,message:"Please choose the PO Status."}],name:s,editMode:n,margin:i,readOnly:d,disabled:o}=e;const[c,u]=(0,l.useState)([]),[h,p]=(0,l.useState)(!1);(0,l.useEffect)((()=>{m()}),[]);const m=async()=>{try{p(!0);const{data:e}=await(0,Fe.M3)();let t=e.map((e=>({label:e.text,value:e.value})));u(t),p(!1)}catch(e){console.log(e),u([]),p(!1)}};return(0,I.jsx)(Ce.Z,{loading:h,options:c,placeholder:t,label:a,rules:r,name:s,editMode:n,margin:i,readOnly:d,disabled:o})};var He=a(96942),Be=a(76174),Ke=a(58),Ae=a(47970);const Ue=e=>{let{userType:t,form:a,onChangeContent:r}=e,s=n.Z.useWatch("orderShipDateFrom",a),o=n.Z.useWatch("orderShipDateTo",a);const c=n.Z.useWatch("orderCreatedDateFrom",a),p=n.Z.useWatch("orderCreatedDateTo",a);let m=n.Z.useWatch("customerKey",a);const[x,f]=(0,l.useState)(!1),g=(0,d.I0)(),{pathname:v}=(0,i.TH)(),j=(0,l.useMemo)((()=>(0,D.F)(v)),[v]),{t:Z}=(0,k.$G)([j,"translation"]),{user:{data:C},selectedCompany:y}=(0,d.v9)((e=>null===e||void 0===e?void 0:e.auth));(0,l.useEffect)((()=>{C.userType===M.yC.CUST&&null!==y&&void 0!==y&&y.companyId&&a.setFieldsValue({customerKey:null===y||void 0===y?void 0:y.companyId})}),[y]),"undefined"==typeof s&&(s=xe()(new Date).subtract(6,"months")),"undefined"==typeof o&&(o=xe()(new Date).add(6,"month"));const b=(e,t)=>{let a={};a[e]=t.target.value,r(a)};return(0,I.jsxs)(u.Z,{className:"",children:[C.userType!==M.yC.CUST&&(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(He.Z,{name:"customerKey",form:a,id:"poCustomerName",setDetafuleValue:!0,callbackSetValue:e=>{let t={orderShipDateFrom:s,orderShipDateTo:o,pageLoading:!1,partDescription:"",customerKey:e,pageIndex:1};r(t),g((0,L.h0)({...t}))},rules:[{required:!0,message:Z("translation:purchase-order-view.pleaseChooseTheCustomer")}]})}),C.userType===M.yC.CUST&&(0,I.jsx)(Ae.Z,{name:"customerKey"}),(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(Ke.Z,{form:a,customerKey:m,name:"branchKey",label:Z("translation:default.fields.shipmentBranch.label")})}),"CUST"===t&&(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(Me.Z,{name:"vendorKey",vendorType:"PO"})}),(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(Be.Z,{editMode:!0,label:Z("translation:default.fields.purchaseOrderNumber"),placeholder:Z("translation:default.fields.purchaseOrderNumber"),name:"poNumber",rows:2,onChange:e=>b("poNumber",e),onBlur:()=>{""!=a.getFieldValue("poNumber")?(a.setFieldsValue({povStatusCode:"",orderShipDateTo:"",orderShipDateFrom:""}),f(!0)):f(!1)}})}),(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(Be.Z,{editMode:!0,label:"Item Number",placeholder:"Item Number",name:"lineNum",rows:2,onChange:e=>b("lineNum",e)})}),(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(Be.Z,{editMode:!0,label:Z("translation:purchase-order-view.fields.purchasePartNumber.label"),placeholder:Z("translation:purchase-order-view.fields.purchasePartNumber.label"),name:"partNumber",rows:2,onChange:e=>b("partNumber",e)})}),(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(Be.Z,{editMode:!0,label:Z("translation:purchase-order-view.fields.purchasePartDescription.label"),placeholder:Z("translation:purchase-order-view.fields.purchasePartDescription.label"),name:"partDescription",rows:2,onChange:e=>b("partDescription",e)})}),"CUST"===t&&(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(X.Z,{editMode:!0,label:Z("translation:default.fields.receiptNumber.label"),placeholder:Z("translation:default.fields.receiptNumber.placeholder"),name:"receiptNumber"})}),(0,I.jsx)(h.Z,{sm:24,children:(0,I.jsx)(qe,{name:"povStatusCode",rules:x?[{required:!1,message:""}]:[{required:!0,message:"Please choose the PO Status."}]})}),"CUST"===t&&(0,I.jsxs)(h.Z,{sm:24,children:[(0,I.jsx)(he.Z,{children:Z("translation:purchase-order-view.fields.date.createdDate")}),(0,I.jsxs)(u.Z,{className:"mt-3 align-items-center",gutter:5,children:[(0,I.jsx)(h.Z,{sm:4,className:"text-right",children:(0,I.jsx)(he.Z,{children:"".concat(Z("translation:default.fields.from.label")," :")})}),(0,I.jsx)(h.Z,{sm:20,children:(0,I.jsx)(pe.Z,{name:"orderCreatedDateFrom",placeholder:Z("translation:purchase-order-view.fields.date.placeholder"),margin:"mb-0",disableFuture:!0,disabledTargetDate:p,rules:[p&&{required:!0,message:Z("translation:purchase-order-view.fields.date.messageFromCreateOnDate")}]})})]}),(0,I.jsxs)(u.Z,{className:"mt-6 align-items-center",gutter:5,children:[(0,I.jsx)(h.Z,{sm:4,className:"text-right",children:(0,I.jsx)(he.Z,{children:"".concat(Z("translation:default.fields.to.label")," :")})}),(0,I.jsx)(h.Z,{sm:20,children:(0,I.jsx)(pe.Z,{name:"orderCreatedDateTo",placeholder:"".concat(Z("translation:default.fields.to.label")," :"),margin:"mb-0",disableFuture:!1,disabledTargetDate:c,rules:[c&&{required:!0,message:Z("translation:purchase-order-view.fields.date.messageToCreateOnDate")}]})})]})]}),(0,I.jsxs)(h.Z,{sm:24,className:"my-16",children:[(0,I.jsx)(he.Z,{children:Z("translation:default.fields.shipDate.label")}),(0,I.jsxs)(u.Z,{className:"mt-3 align-items-center",gutter:5,children:[(0,I.jsx)(h.Z,{sm:4,className:"text-right",children:(0,I.jsx)(he.Z,{children:"".concat(Z("translation:default.fields.from.label")," :")})}),(0,I.jsx)(h.Z,{sm:20,children:(0,I.jsx)(pe.Z,{name:"orderShipDateFrom",placeholder:Z("translation:purchase-order-view.fields.date.placeholder"),margin:"mb-0",disableFuture:!0,disabledTargetDate:o,rules:[o&&{required:!0,message:Z("translation:purchase-order-view.fields.date.messageFromShipnDate")}]})})]}),(0,I.jsxs)(u.Z,{className:"mt-6 align-items-center",gutter:5,children:[(0,I.jsx)(h.Z,{sm:4,className:"text-right",children:(0,I.jsx)(he.Z,{children:"".concat(Z("translation:default.fields.to.label")," :")})}),(0,I.jsx)(h.Z,{sm:20,children:(0,I.jsx)(pe.Z,{name:"orderShipDateTo",placeholder:Z("translation:purchase-order-view.fields.date.placeholder"),margin:"mb-0",disableFuture:!1,disabledTargetDate:s,rules:[s&&{required:!0,message:Z("translation:purchase-order-view.fields.date.messageToShipDate")}]})})]})]})]})},Re=e=>{let{userType:t,form:a,onChangeContent:r}=e;return(0,I.jsx)("div",{className:"filter-collapse-container px-16",children:(0,I.jsx)(Ue,{userType:t,form:a,onChangeContent:r})})};var Qe=a(88073);const Ge=()=>{const[e]=n.Z.useForm(),t=(0,d.I0)(),{user:{data:a}}=(0,d.v9)((e=>null===e||void 0===e?void 0:e.auth)),{pathname:r}=(0,i.TH)(),s=(0,l.useMemo)((()=>(0,D.F)(r)),[r]),{t:o}=(0,k.$G)([s,"translation"]);return(0,I.jsxs)("div",{className:"d-flex flex-direction-column overflow-hidden h-100 br-4",children:[(0,I.jsx)("div",{className:"custom-scroll-bar overflow-x-hidden mb-15 flex-1",children:(0,I.jsx)(n.Z,{onFinish:e=>{t((0,E.fj)([]));for(const t in e)Qe._o.includes(t)&&e[t]&&(e[t]=e[t].format(M.qI));e.partDescription=e.partDescription?e.partDescription:"",e.partNumber=e.partNumber?e.partNumber:"",t((0,L.v9)(!1)),"CUST"===(null===a||void 0===a?void 0:a.userType)?t((0,L.un)({data:[]})):t((0,E.qr)({data:[]})),e.poNumber=((null===e||void 0===e?void 0:e.poNumber)||"").replace(/\n+/g,","),t((0,L.h0)({...e,pageIndex:1,pageSize:10,pageLoading:!1}))},form:e,initialValues:{createdByType:1,povStatusCode:"O",povStatus:"O",shipmentType:"Draft",orderShipDateFrom:xe()(new Date).subtract(6,"months"),orderShipDateTo:xe()(new Date).add(6,"month")},children:(0,I.jsx)(Re,{form:e,userType:null===a||void 0===a?void 0:a.userType,onChangeContent:t=>{e.setFieldsValue(t)}})})}),(0,I.jsxs)(u.Z,{className:"px-15",gutter:15,children:[(0,I.jsx)(h.Z,{sm:24,md:12,children:(0,I.jsx)(J.Z,{fullWidth:!0,type:"default",onClick:()=>{let t=e.getFieldValue("customerKey");e.resetFields(),e.setFieldsValue({customerKey:t,orderShipDateFrom:xe()(new Date).subtract(6,"months"),orderShipDateTo:xe()(new Date).add(6,"month")})},buttonType:"button",children:o("translation:default.buttons.clear")})}),(0,I.jsx)(h.Z,{sm:24,md:12,children:(0,I.jsx)(J.Z,{fullWidth:!0,type:"primary",onClick:()=>e.submit(),buttonType:"submit",children:o("translation:default.buttons.search")})})]})]})};var _e=a(35762),Ye=a(80182);const $e=e=>{let{userType:t}=e;const a=(0,d.I0)(),[r,s]=(0,l.useState)(M.qQ.ASC),[o,c]=(0,l.useState)([]),{pathname:p}=(0,i.TH)(),m=(0,l.useMemo)((()=>(0,D.F)(p)),[p]),{t:x}=(0,k.$G)([m,"translation"]),[f]=n.Z.useForm(),g=n.Z.useWatch("orderByColumn",f),v=(0,d.v9)((e=>{var t,a;return(null===e||void 0===e||null===(t=e.auth)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.data)||{}}),d.wU),Z=e=>{let t;return e===M.qQ.ASC?t=M.qQ.DESC:e===M.qQ.DESC&&(t=M.qQ.ASC),t};return(0,l.useEffect)((()=>{c("CUST"===t?(0,M.eb)():M.IL),f.setFieldValue("orderByColumn",null)}),[]),(0,l.useEffect)((()=>{a((0,L.h0)({orderByColumn:g,orderBySort:r,pageIndex:1})),"CUST"===(null===v||void 0===v?void 0:v.userType)?a((0,L.un)({data:[]})):a((0,E.qr)({data:[]}))}),[g,r]),(0,I.jsx)(n.Z,{className:"w-100",form:f,children:(0,I.jsxs)(u.Z,{align:"middle",gutter:15,children:[(0,I.jsx)(h.Z,{sm:15,lg:10,children:(0,I.jsx)(Ce.Z,{className:"w-100",margin:"m-0",placeholder:"".concat(x("translation:default.fields.sortBy.label"),"..."),name:"orderByColumn",options:o})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(j.Z,{onClick:()=>s(Z),children:(0,I.jsx)(S.Z,{className:"mr-5",Icon:r===M.qQ.ASC?ye.r:be.r,height:18,width:18})})})]})})};var ze=a(35650),We=a(41651),Je=a(50509),Xe=a(19279),et=a(84446),tt=a(37989);const at=function(e){let{onClose:t=(()=>{})}=e;const{pathname:a}=(0,i.TH)(),r=(0,l.useMemo)((()=>(0,D.F)(a)),[a]),{t:s}=(0,k.$G)([r,"translation"]),n=(0,d.I0)(),{notificationAPI:o}=(0,d.v9)((e=>e.common)),[c,p]=(0,l.useState)([]),[m,x]=(0,l.useState)([]),[f,g]=(0,l.useState)(!0);(0,l.useEffect)((()=>{y()}),[]);let v=(0,l.useMemo)((()=>m.filter((e=>""!=e.value)).map((e=>({fieldReferenceName:e.label,fieldReferenceValue:e.value})))),[m]);const Z=async()=>{let{data:e}=await(0,Je.zj)();return e},C=async()=>{let{data:e}=await(0,re.WX)("PurchaseOrder");return e},y=async()=>{try{const[e,t]=await Promise.all([Z(),C()]);let a=t.map((e=>({uniqueId:"id-".concat((0,F.uniqueId)()),label:e.fieldReferenceName,value:e.fieldReferenceValue}))),r=e.map((e=>({id:e.id,label:e.columnName,value:e.columnValue})));x(a),p(r),g(!1)}catch(e){g(!1)}},b=e=>c.filter((t=>t.value===e||!m.some((e=>e.value===t.value))));return(0,I.jsxs)(u.Z,{className:"h-100 overflow-hidden flex-direction-column",children:[0===c.length&&!0===f&&(0,I.jsx)(ae.Z,{className:"d-flex justify-content-center align-items-center h-100",size:"large",tip:s("translation:default.loading"),spinning:!0}),c.length>0&&(0,I.jsxs)(l.Fragment,{children:[(0,I.jsx)(h.Z,{className:"flex-1 py-15 overflow-hidden",children:(0,I.jsxs)("div",{className:"px-15 h-100 custom-scroll-bar",children:[(0,I.jsx)(Xe.Z5,{onDragEnd:e=>{if(!e.destination)return;let t=[...m];const[a]=t.splice(e.source.index,1);t.splice(e.destination.index,0,a),x(t)},children:(0,I.jsx)(Xe.bK,{droppableId:"poColums",children:e=>(0,I.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[m.map(((e,t)=>(0,I.jsx)(Xe._l,{draggableId:e.uniqueId,index:t,children:a=>(0,I.jsx)("div",{ref:a.innerRef,...a.draggableProps,children:(0,I.jsx)(tt.Z,{dragHandleProps:a.dragHandleProps,availableColumns:b(e),isColumnsLoading:!1,handleRemoveColumn:e=>(e=>{let t=[...m];t.splice(e,1),x(t)})(e),index:t,data:e,handleSelectValueChange:(e,t)=>((e,t)=>{let a=[...m];a[t]={...a[t],...e},x(a)})(e,t)})})},e.uniqueId))),e.placeholder]})})}),c.length!==m.length&&(0,I.jsx)(j.Z,{onClick:()=>{let e=[...m];e.push({label:"",value:"",uniqueId:"id-".concat((0,F.uniqueId)())}),x(e)},children:(0,I.jsxs)(u.Z,{align:"middle",gutter:5,children:[(0,I.jsx)(h.Z,{children:(0,I.jsx)(S.Z,{Icon:Se.r,className:"d-flex",color:"header"})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(et.Z,{className:"text-header f-16 fw-600",children:"Add a column"})})]})})]})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(de.Z,{className:"my-15 border-bottom-border"})}),(0,I.jsx)(h.Z,{className:"px-15 pb-15",children:(0,I.jsxs)(u.Z,{justify:"end",gutter:15,children:[(0,I.jsx)(h.Z,{children:(0,I.jsx)(J.Z,{variant:"danger",type:"default",onClick:t,children:"Cancel"})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(J.Z,{onClick:()=>(async()=>{n((0,V.ef)(!0));try{let e=await(0,re.WN)({gridName:"PurchaseOrder",columnOptions:v});n((0,V.ef)(!1)),200===(null===e||void 0===e?void 0:e.status)&&((0,q.Nh)(o,{type:M.GT.SUCCESS,title:"Updated Successfully"}),n((0,le.AX3)(m)),t())}catch(e){n((0,V.ef)(!1))}})(),disabled:0===v.length,children:"Save"})})]})})]})]})};var rt=a(66202);const lt=function(){const[e,t]=(0,l.useState)(!1);return(0,I.jsxs)(l.Fragment,{children:[(0,I.jsx)(_e.Z,{onClick:()=>t(!0),icon:(0,I.jsx)(S.Z,{Icon:rt.r,height:22,width:22}),children:(0,I.jsx)("label",{className:"ml-0",children:"Column Options"})}),e&&(0,I.jsx)(ce.Z,{visible:!0,onClose:()=>t(!1),headerContents:(0,I.jsx)(f.Z,{className:"text-white f-16",children:"Column Options"}),width:"400px",children:(0,I.jsx)(at,{onClose:()=>t(!1)})})]})},st=()=>{const[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)([]),s=(0,d.I0)(),{pathname:n}=(0,i.TH)(),o=(0,l.useMemo)((()=>(0,D.F)(n)),[n]),{t:c}=(0,k.$G)([o,"translation"]),p=(0,d.v9)((e=>e.purchaseOrder.selectedPurchaseOrders),d.wU),x=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderFilters),d.wU),f=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderSidebarVisible),d.wU),g=(0,d.v9)((e=>e.auth.selectedCompany),d.wU),v=(0,d.v9)((e=>{var t;return(null===e||void 0===e||null===(t=e.auth.user)||void 0===t?void 0:t.data)||{}}),d.wU);let Z=(0,d.v9)((e=>e.purchaseOrder.purchaseOrderList),d.wU),C=(0,d.v9)((e=>e.purchaseOrder.checkedAll),d.wU),y=(0,d.v9)((e=>e.purchaseOrder.isCardView),d.wU),b=(0,d.v9)((e=>e.poVendor.purchaseOrderListVendor),d.wU),N=(0,d.v9)((e=>e.poVendor.checkedAllPOV),d.wU);"VEND"===(null===v||void 0===v?void 0:v.userType)&&(Z=b);let w=JSON.parse(localStorage.getItem("userInfo"));const O=e=>{if(e)if("VEND"===(null===v||void 0===v?void 0:v.userType)?s((0,E.cu)({checked:e.target.checked})):s((0,L.Ek)({checked:e.target.checked})),e.target.checked){const e=Z.data.map((e=>{let t={rowId:e.rowID,poNumber:e.poNumber,customerKey:"VEND"===(null===v||void 0===v?void 0:v.userType)?x.customerKey:g.companyId,consigneeZip:e.consigneeZip,consigneeCountry:e.consigneeCountry};return"VEND"===(null===v||void 0===v?void 0:v.userType)&&(t={...t,vendorKey:g.companyId,userGuid:w.userGuid,povStatus:e.povStatus}),t}));s((0,L.vh)(e))}else s((0,L.vh)([]))};(0,l.useEffect)((()=>{(N||C)&&Z.data.length!==p.length&&O({target:{checked:!0}})}),[Z,C,N]),(0,l.useEffect)((()=>{if(p&&p.length>0){const e="consigneeZip",t=[...new Map(p.map((t=>[t[e],t]))).values()];r(t)}}),[p]);const T=()=>{t(!1)};let F=Z.data.filter((e=>!0===e.isChecked));return(0,I.jsxs)(u.Z,{justify:"space-between",className:"py-15 px-14",align:"middle",children:[(0,I.jsx)(h.Z,{className:"flex-1",children:(0,I.jsxs)(u.Z,{align:"middle",gutter:20,children:[(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(m.Z,{onClick:O,checked:Z.data.length>0&&F.length===Z.data.length,id:"POHeaderCB"}),(0,I.jsx)("label",{className:"ml-5 f-14 text-black",children:Z.data.length>0&&Z.data.length===p.length?c("translation:purchase-order-view.unSelectAll"):c("translation:default.fields.selectAll")})]}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(J.Z,{type:"default",onClick:()=>O({target:{checked:!1}}),className:"clear-selection-button p-0 ml-n5",children:c("translation:default.buttons.clearSelection")})}),(0,I.jsx)(h.Z,{sm:11,className:"flex-1",children:(0,I.jsx)($e,{userType:null===v||void 0===v?void 0:v.userType})})]})}),(0,I.jsx)(h.Z,{children:(0,I.jsxs)(u.Z,{gutter:6,children:[(0,I.jsx)(h.Z,{className:"mr-5",children:0!==p.length?(0,I.jsx)(J.Z,{onClick:()=>{if(f||s((0,V.Rb)(!1)),"VEND"===(null===v||void 0===v?void 0:v.userType)){if(1!==a.length)return t(!0),!1;{const e=[];s((0,L.qQ)({data:[]})),p.forEach((t=>{let a={};a.poNumber=t.poNumber,e.push(a)}));let t={};t.listPoNumber=e,t.vendorKey=g.companyId,t.customerKey=x.customerKey,t.userGuid=w.userGuid,s((0,E.S0)(t))}}else{const e=[];p.forEach((t=>{let a={};a.poNumber=t.poNumber,e.push(a)}));let t={listPoNumber:e,customerKey:null===g||void 0===g?void 0:g.companyId};s((0,L.M$)(t))}1===a.length||"CUST"===(null===v||void 0===v?void 0:v.userType)||"VEND"===(null===v||void 0===v?void 0:v.userType)?s((0,L.v9)(!0)):t(!0)},children:c("translation:default.buttons.viewOrderInformation")}):(0,I.jsx)(I.Fragment,{children:" "})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(_e.Z,{icon:(0,I.jsx)(Ye.r,{}),onClick:()=>{s((0,L.TC)(!0))},disabled:!(Z.data.length>0&&Z.data.filter((e=>!0===e.isChecked)).length>0),children:(0,I.jsx)("label",{className:"ml-5",children:c("translation:default.buttons.export")})})}),(null===v||void 0===v?void 0:v.userType)===M.yC.VEND&&(0,I.jsxs)(l.Fragment,{children:[(0,I.jsx)(h.Z,{children:(0,I.jsx)(j.Z,{onClick:()=>s((0,L.Y4)(!y)),children:(0,I.jsx)(S.Z,{Icon:y?ze.r:We.r,color:"header",width:22,height:22})})}),!y&&(0,I.jsx)(h.Z,{children:(0,I.jsx)(lt,{})})]})]})}),(0,I.jsx)(te.Z,{onOk:T,onCancel:()=>T,onClose:()=>t(!1),open:e,cancelButton:!0,description:c("translation:purchase-order-view.confirmationModal.description"),title:c("translation:default.fields.alert"),okText:c("translation:purchase-order-view.confirmationModal.okText")})]})};var nt=a(29663),it=a(34409),dt=a(22954),ot=a(86681),ct=a(50346),ut=a(46174),ht=a(5814),pt=a(68309),mt=a(60591),xt=a(64303),ft=a(63521);const gt=()=>(0,I.jsxs)(u.Z,{gutter:16,children:[(0,I.jsx)(h.Z,{children:(0,I.jsx)(j.Z,{children:(0,I.jsx)(xt.r,{})})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(j.Z,{children:(0,I.jsx)(ft.r,{})})})]});var vt=a(74407);const jt=e=>{let{onClose:t}=e;const{poDashBoard:a}=(0,d.v9)((e=>e.purchaseOrder)),{user:{data:r},selectedCompany:s}=(0,d.v9)((e=>e.auth)),n=(0,d.I0)(),[o,c]=(0,l.useState)([]),[m,x]=(0,l.useState)([]),[f,g]=(0,l.useState)([]),[v,j]=(0,l.useState)([]),[Z,C]=(0,l.useState)([]),{pathname:y}=(0,i.TH)(),b=(0,l.useMemo)((()=>(0,D.F)(y)),[y]),{t:N}=(0,k.$G)([b,"translation"]);(0,l.useEffect)((()=>{console.log(P().isEmpty(null===a||void 0===a?void 0:a.data)," empty?")})),(0,l.useEffect)((()=>{"VEND"===(null===r||void 0===r?void 0:r.userType)?w(null===s||void 0===s?void 0:s.companyId,"VEND"):w(null===s||void 0===s?void 0:s.companyId,"CUST")}),[s]);const w=(e,t)=>{let a={companyId:e,userType:t};n((0,L.uW)(a))};(0,l.useEffect)((()=>{if(null!==a&&void 0!==a&&a.data){const{orderStatusData:e,shipmentStatusData:t,topCompanyData:r,topLocationsData:l,topProductsData:s}=null===a||void 0===a?void 0:a.data;c(S(e)),x(S(t)),g(O(s,"productCode","percentage")),j(O(l,"originCity","overAllPercentage")),C(O(r,"name","overAllPercentage"))}}),[null===a||void 0===a?void 0:a.success]),(0,l.useEffect)((()=>{null!==a&&void 0!==a&&a.progressing&&n((0,L.Xr)({data:{}}))}),[null===a||void 0===a?void 0:a.progressing]);const S=e=>{if(e){return e.reduce(((e,t)=>e.concat(Object.entries(t).map((e=>{let[t,a]=e;return{label:t,value:a}})))),[])}return[]},O=(e,t,a)=>{if(e){return null===e||void 0===e?void 0:e.map((e=>({value:e[a],label:e[t]})))}return[]},E=(0,l.useRef)(),[V,T]=(0,l.useState)(0);return(0,l.useEffect)((()=>{var e,t,a;null!==E&&void 0!==E&&null!==(e=E.current)&&void 0!==e&&e.offsetHeight&&T((null===E||void 0===E||null===(t=E.current)||void 0===t?void 0:t.offsetHeight)-18*(null===E||void 0===E||null===(a=E.current)||void 0===a?void 0:a.offsetHeight)/100)}),[E]),(0,I.jsxs)("div",{className:"h-100 p-16 ",children:[(0,I.jsxs)(u.Z,{gutter:16,className:"h-45",children:[(0,I.jsx)(h.Z,{md:24,lg:8,className:"h-100",ref:E,children:(0,I.jsxs)(p.Z,{border:!0,children:[(0,I.jsx)(pt.Z,{title:N("translation:purchase-order-view.orderStatus"),buttonContainer:(0,I.jsx)(gt,{})}),(0,I.jsx)("div",{className:"p-16 flex-1",children:(0,I.jsx)(vt.Z,{chartHeight:V,data:o.length>0?o:null})})]})}),(0,I.jsx)(h.Z,{md:24,lg:16,className:"h-100",children:(0,I.jsxs)(p.Z,{border:!0,children:[(0,I.jsx)(pt.Z,{title:"CUST"===(null===r||void 0===r?void 0:r.userType)?N("translation:purchase-order-view.topVendors"):N("translation:purchase-order-view.topCustomers"),buttonContainer:(0,I.jsx)(gt,{})}),(0,I.jsx)("div",{className:"p-16 flex-1",children:(0,I.jsx)(mt.Z,{chartHeight:V,data:Z.length>0?Z:null})})]})})]}),(0,I.jsxs)(u.Z,{gutter:16,className:"h-45 mt-40",children:[(0,I.jsx)(h.Z,{md:24,lg:8,className:"h-100",children:(0,I.jsxs)(p.Z,{border:!0,children:[(0,I.jsx)(pt.Z,{title:N("translation:purchase-order-view.shipmentsStatus"),buttonContainer:(0,I.jsx)(gt,{})}),(0,I.jsx)("div",{className:"p-16 flex-1",children:(0,I.jsx)(vt.Z,{chartHeight:V,data:m.length>0?m:null})})]})}),(0,I.jsx)(h.Z,{md:24,lg:8,className:"h-100",children:(0,I.jsxs)(p.Z,{border:!0,children:[(0,I.jsx)(pt.Z,{title:N("translation:purchase-order-view.topProducts"),buttonContainer:(0,I.jsx)(gt,{})}),(0,I.jsx)("div",{className:"p-16 flex-1",children:(0,I.jsx)(mt.Z,{chartHeight:V,data:f.length>0?f:null})})]})}),(0,I.jsx)(h.Z,{md:24,lg:8,className:"h-100",children:(0,I.jsxs)(p.Z,{border:!0,children:[(0,I.jsx)(pt.Z,{title:N("translation:purchase-order-view.topLocationsOrderWise"),buttonContainer:(0,I.jsx)(gt,{})}),(0,I.jsx)("div",{className:"p-16 flex-1",children:(0,I.jsx)(vt.Z,{chartHeight:V,data:v.length>0?v:null,chartType:"doughnut"})})]})})]})]})},Zt=()=>{const[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)({}),{user:{data:s},selectedCompany:n}=(0,d.v9)((e=>null===e||void 0===e?void 0:e.auth)),{purchaseOrderFilters:o}=(0,d.v9)((e=>e.purchaseOrder));let c=JSON.parse(localStorage.getItem("userInfo"));const{draftOrderFilters:p}=(0,d.v9)((e=>e.poVendor)),{pathname:m}=(0,i.TH)(),x=(0,l.useMemo)((()=>(0,D.F)(m)),[m]),{t:g}=(0,k.$G)([x,"translation"]);(0,l.useEffect)((()=>{n&&n.companyId&&v(n.companyId)}),[n,o,p]);const v=async e=>{try{const t={...o,branchKey:(0,q.Ih)(o.branchKey),vendorKey:(0,q.Ih)(o.vendorKey),customerKey:o.customerKey,orderShipDateFrom:Z(o.orderShipDateFrom),orderShipDateTo:Z(o.orderShipDateTo),partNumber:o.partNumber||"",partDesription:o.partDesription||"",povStatusCode:o.povStatusCode||"O"};"VEND"===(null===s||void 0===s?void 0:s.userType)?(t.vendorKey=e,t.userGuid=c.userGuid):(t.orderCreatedDateFrom=Z(o.orderCreatedDateFrom),t.orderCreatedDateTo=Z(o.orderCreatedDateTo)),delete t.povStatus;const{data:a}="VEND"===(null===s||void 0===s?void 0:s.userType)?await(0,ht.sW)(t):await(0,Fe.gq)(t);r(a[0]||{})}catch(t){console.log(t),r({})}},Z=e=>(0,q.Fx)((0,w.hi)(e));return(0,I.jsxs)("div",{children:[(0,I.jsxs)(u.Z,{justify:"space-around",className:" footer-container background-header px-20  py-12",children:[(0,I.jsx)(h.Z,{children:(0,I.jsx)(ge.Z,{count:null===a||void 0===a?void 0:a.totalOrders,label:g("translation:purchase-order-view.totalOrders"),Icon:nt.r})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(ge.Z,{count:null===a||void 0===a?void 0:a.openOrders,label:g("translation:purchase-order-view.openOrders"),Icon:it.r})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(ge.Z,{count:null===a||void 0===a?void 0:a.dueIn7Days,label:g("translation:purchase-order-view.dueinNext7Days"),Icon:ot.r})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(ge.Z,{count:null===a||void 0===a?void 0:a.delayedOrders,label:g("translation:purchase-order-view.delayedOrders"),Icon:ct.r})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(ge.Z,{count:null===a||void 0===a?void 0:a.completedOrders,label:g("translation:purchase-order-view.closedOrders"),Icon:dt.r})}),(0,I.jsx)(h.Z,{children:(0,I.jsx)(fe.Z,{})}),(0,I.jsx)(h.Z,{className:"d-flex",children:(0,I.jsx)(j.Z,{onClick:()=>t(!0),children:(0,I.jsx)(ut.r,{})})})]}),(0,I.jsx)(ce.Z,{visible:e,headerContents:(0,I.jsx)(f.Z,{className:"text-white",children:g("translation:default.navMenu.dashboard")}),onClose:()=>t(!1),children:(0,I.jsx)(jt,{onClose:!e})})]})},Ct=()=>{const{pathname:e}=(0,i.TH)(),t=(0,l.useMemo)((()=>(0,D.F)(e)),[e]),{t:a}=(0,k.$G)([t,"translation"]);return(0,I.jsx)(s.Z,{filterElement:(0,I.jsx)(Ge,{}),contentElement:(0,I.jsx)(Te,{}),filterTitle:a("translation:purchase-order-view.filterTitle"),pageTitle:a("translation:purchase-order-view.pageTitle"),headerContent:(0,I.jsx)(st,{}),footerContent:(0,I.jsx)(Zt,{})})},yt=(0,l.memo)(Ct)},37989:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(66106),l=a(30914),s=(a(72791),a(10089)),n=a(99361),i=a(28478),d=a(88858),o=a(10686),c=a(80184);const u=e=>{let{dragHandleProps:t={},availableColumns:a=[],isColumnsLoading:u=!1,handleRemoveColumn:h,index:p,handleSelectValueChange:m,data:x}=e;return(0,c.jsx)("div",{className:"shipment-column-options-card-dnd",children:(0,c.jsx)("div",{className:"shipment-column-container",children:(0,c.jsxs)(r.Z,{gutter:10,align:"middle",children:[(0,c.jsx)(l.Z,{children:(0,c.jsxs)(r.Z,{gutter:2,...t,children:[(0,c.jsx)(l.Z,{children:(0,c.jsx)(i.Z,{Icon:s.r,color:"header",className:"d-flex",height:15})}),(0,c.jsx)(l.Z,{children:(0,c.jsx)(i.Z,{Icon:s.r,color:"header",className:"d-flex",height:15})}),(0,c.jsx)(l.Z,{children:(0,c.jsx)(i.Z,{Icon:s.r,color:"header",className:"d-flex",height:15})})]})}),(0,c.jsx)(l.Z,{className:"flex-1",children:(0,c.jsx)(d.Z,{margin:"m-0",placeholder:"Select A column",defaultValue:(null===x||void 0===x?void 0:x.columnValue)||(null===x||void 0===x?void 0:x.label),options:a,loading:u,onChange:e=>m(e,p)})}),(0,c.jsx)(l.Z,{children:(0,c.jsx)(r.Z,{className:"flex-direction-column ",justify:"center",children:(0,c.jsx)(o.Z,{onClick:()=>h(p),children:(0,c.jsx)(i.Z,{Icon:n.r,color:"danger",className:"d-flex",height:20,width:20})})})})]})})})}}}]);
//# sourceMappingURL=1395.9ae122ee.chunk.js.map