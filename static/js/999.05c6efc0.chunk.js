"use strict";(self.webpackChunknvision_TMS=self.webpackChunknvision_TMS||[]).push([[999],{66202:(e,t,l)=>{l.d(t,{r:()=>r});var a,s,i=l(72791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},n.apply(this,arguments)}function d(e,t){let{title:l,titleId:d,...r}=e;return i.createElement("svg",n({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},r),l?i.createElement("title",{id:d},l):null,a||(a=i.createElement("path",{d:"M8.50206 16H7.49791C6.68575 16 6.02497 15.3393 6.02497 14.5271V14.1874C5.67969 14.0771 5.34422 13.9378 5.02194 13.771L4.78119 14.0118C4.19809 14.5956 3.26406 14.5785 2.69791 14.0116L1.98819 13.3019C1.42103 12.7353 1.40472 11.8016 1.98837 11.2186L2.22894 10.978C2.06216 10.6558 1.92294 10.3203 1.81259 9.975H1.47291C0.660781 9.975 0 9.31425 0 8.50209V7.49791C0 6.68575 0.660781 6.025 1.47294 6.025H1.81263C1.92297 5.67969 2.06219 5.34425 2.22897 5.02197L1.98822 4.78125C1.40491 4.19856 1.421 3.26475 1.98841 2.69797L2.69819 1.98822C3.26566 1.41997 4.19947 1.40578 4.78144 1.98841L5.02197 2.22894C5.34425 2.06219 5.67972 1.92294 6.025 1.81259V1.47291C6.025 0.66075 6.68575 0 7.49794 0H8.50209C9.31425 0 9.975 0.66075 9.975 1.47291V1.81263C10.3203 1.92294 10.6558 2.06219 10.978 2.22897L11.2188 1.98822C11.8019 1.40441 12.7359 1.42153 13.3021 1.98844L14.0118 2.69812C14.5789 3.26466 14.5953 4.19838 14.0116 4.78141L13.771 5.02197C13.9378 5.34425 14.077 5.67966 14.1874 6.025H14.5271C15.3392 6.025 16 6.68575 16 7.49791V8.50209C16 9.31425 15.3392 9.975 14.5271 9.975H14.1874C14.077 10.3203 13.9378 10.6558 13.771 10.978L14.0118 11.2188C14.5951 11.8015 14.579 12.7353 14.0116 13.3021L13.3018 14.0118C12.7343 14.5801 11.8005 14.5943 11.2186 14.0116L10.978 13.7711C10.6558 13.9378 10.3203 14.0771 9.975 14.1874V14.5272C9.975 15.3392 9.31425 16 8.50206 16ZM5.17866 12.7866C5.62637 13.0513 6.10825 13.2514 6.61088 13.3811C6.81787 13.4345 6.9625 13.6212 6.9625 13.835V14.5271C6.9625 14.8223 7.20272 15.0625 7.49794 15.0625H8.50209C8.79731 15.0625 9.03753 14.8223 9.03753 14.5271V13.835C9.03753 13.6212 9.18216 13.4345 9.38916 13.3811C9.89178 13.2514 10.3737 13.0513 10.8214 12.7866C11.0056 12.6776 11.2401 12.7073 11.3915 12.8586L11.8817 13.3489C12.0931 13.5605 12.4325 13.5556 12.6387 13.3491L13.3489 12.6389C13.5546 12.4335 13.5615 12.094 13.3491 11.8819L12.8587 11.3914C12.7073 11.2401 12.6777 11.0055 12.7866 10.8213C13.0514 10.3737 13.2514 9.89178 13.3811 9.38912C13.4346 9.18213 13.6213 9.03753 13.835 9.03753H14.5271C14.8223 9.03753 15.0625 8.79734 15.0625 8.50212V7.49794C15.0625 7.20272 14.8223 6.96253 14.5271 6.96253H13.835C13.6212 6.96253 13.4346 6.81791 13.3811 6.61094C13.2514 6.10828 13.0514 5.62641 12.7866 5.17872C12.6777 4.99453 12.7073 4.75997 12.8587 4.60866L13.3489 4.11837C13.5609 3.90669 13.5553 3.56731 13.3491 3.36134L12.639 2.65119C12.4331 2.44506 12.0936 2.43903 11.8819 2.651L11.3915 3.14147C11.2402 3.29281 11.0056 3.32244 10.8214 3.2135C10.3737 2.94872 9.89181 2.74869 9.38919 2.61897C9.18219 2.56556 9.03756 2.37888 9.03756 2.16509V1.47291C9.03756 1.17769 8.79734 0.9375 8.50212 0.9375H7.49797C7.20275 0.9375 6.96253 1.17769 6.96253 1.47291V2.16503C6.96253 2.37881 6.81791 2.5655 6.61091 2.61891C6.10828 2.74863 5.62641 2.94866 5.17869 3.21344C4.99444 3.32234 4.75991 3.29272 4.60859 3.14141L4.11834 2.65112C3.90697 2.4395 3.5675 2.44441 3.36134 2.65091L2.65112 3.36109C2.44544 3.56653 2.43856 3.906 2.65094 4.11812L3.14141 4.60859C3.29272 4.75991 3.32234 4.99447 3.21344 5.17866C2.94866 5.62634 2.74866 6.10822 2.61894 6.61088C2.5655 6.81787 2.37881 6.96247 2.16506 6.96247H1.47294C1.17772 6.9625 0.9375 7.20269 0.9375 7.49791V8.50209C0.9375 8.79731 1.17772 9.0375 1.47294 9.0375H2.16503C2.37881 9.0375 2.56547 9.18213 2.61891 9.38909C2.74863 9.89175 2.94866 10.3736 3.21341 10.8213C3.32231 11.0055 3.29269 11.2401 3.14138 11.3914L2.65109 11.8817C2.43916 12.0933 2.44469 12.4327 2.65091 12.6387L3.36106 13.3488C3.56691 13.555 3.90641 13.561 4.11809 13.349L4.60853 12.8586C4.72003 12.7471 4.952 12.6525 5.17866 12.7866Z",fill:"white"})),s||(s=i.createElement("path",{d:"M8.00005 11.4813C6.08045 11.4813 4.5188 9.91961 4.5188 8.00005C4.5188 6.08049 6.08045 4.5188 8.00005 4.5188C9.91964 4.5188 11.4813 6.08049 11.4813 8.00005C11.4813 9.91961 9.91964 11.4813 8.00005 11.4813ZM8.00005 5.4563C6.59739 5.4563 5.4563 6.59742 5.4563 8.00005C5.4563 9.40267 6.59742 10.5438 8.00005 10.5438C9.40267 10.5438 10.5438 9.40267 10.5438 8.00005C10.5438 6.59742 9.4027 5.4563 8.00005 5.4563Z",fill:"white"})))}const r=i.forwardRef(d);l.p},41651:(e,t,l)=>{l.d(t,{r:()=>c});var a,s,i,n,d=l(72791);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},r.apply(this,arguments)}function o(e,t){let{title:l,titleId:o,...c}=e;return d.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},c),l?d.createElement("title",{id:o},l):null,a||(a=d.createElement("rect",{x:.5,y:.5,width:6,height:6,stroke:"white"})),s||(s=d.createElement("rect",{x:.5,y:9.5,width:6,height:6,stroke:"white"})),i||(i=d.createElement("rect",{x:9.5,y:.5,width:6,height:6,stroke:"white"})),n||(n=d.createElement("rect",{x:9.5,y:9.5,width:6,height:6,stroke:"white"})))}const c=d.forwardRef(o);l.p},79010:(e,t,l)=>{l.d(t,{r:()=>d});var a,s=l(72791);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},i.apply(this,arguments)}function n(e,t){let{title:l,titleId:n,...d}=e;return s.createElement("svg",i({width:4,height:4,viewBox:"0 0 4 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},d),l?s.createElement("title",{id:n},l):null,a||(a=s.createElement("circle",{cx:2,cy:2,r:1.5,fill:"#131432",stroke:"#131432"})))}const d=s.forwardRef(n);l.p},54071:(e,t,l)=>{l.d(t,{r:()=>d});var a,s=l(72791);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},i.apply(this,arguments)}function n(e,t){let{title:l,titleId:n,...d}=e;return s.createElement("svg",i({width:12,height:15,viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},d),l?s.createElement("title",{id:n},l):null,a||(a=s.createElement("path",{d:"M9.83594 4.8335L11.5359 2.56683C11.61 2.46774 11.6551 2.34999 11.6662 2.22674C11.6772 2.1035 11.6537 1.97962 11.5984 1.86894C11.543 1.75827 11.458 1.66517 11.3528 1.60004C11.2476 1.53492 11.1263 1.50034 11.0026 1.50016H3.0026C3.0026 1.32335 2.93237 1.15378 2.80734 1.02876C2.68232 0.903734 2.51275 0.833496 2.33594 0.833496C2.15913 0.833496 1.98956 0.903734 1.86453 1.02876C1.73951 1.15378 1.66927 1.32335 1.66927 1.50016V12.8335H1.0026C0.825793 12.8335 0.656224 12.9037 0.5312 13.0288C0.406176 13.1538 0.335938 13.3234 0.335938 13.5002C0.335938 13.677 0.406176 13.8465 0.5312 13.9716C0.656224 14.0966 0.825793 14.1668 1.0026 14.1668H3.66927C3.84608 14.1668 4.01565 14.0966 4.14068 13.9716C4.2657 13.8465 4.33594 13.677 4.33594 13.5002C4.33594 13.3234 4.2657 13.1538 4.14068 13.0288C4.01565 12.9037 3.84608 12.8335 3.66927 12.8335H3.0026V8.16683H11.0026C11.1263 8.16666 11.2476 8.13207 11.3528 8.06695C11.458 8.00182 11.543 7.90872 11.5984 7.79805C11.6537 7.68738 11.6772 7.56349 11.6662 7.44025C11.6551 7.317 11.61 7.19926 11.5359 7.10016L9.83594 4.8335Z",fill:"#E9523F"})))}const d=s.forwardRef(n);l.p},35650:(e,t,l)=>{l.d(t,{r:()=>u});var a,s,i,n,d,r,o,c=l(72791);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},h.apply(this,arguments)}function m(e,t){let{title:l,titleId:m,...u}=e;return c.createElement("svg",h({width:22,height:24,viewBox:"0 0 22 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":m},u),l?c.createElement("title",{id:m},l):null,a||(a=c.createElement("path",{d:"M18.2125 0H2.9375C1.31835 0 0 1.31718 0 2.9375V20.5625C0 22.1828 1.31835 23.5 2.9375 23.5H18.2125C19.8316 23.5 21.15 22.1828 21.15 20.5625V2.9375C21.15 1.31718 19.8316 0 18.2125 0ZM19.975 20.5625C19.975 21.5342 19.1842 22.325 18.2125 22.325H2.9375C1.96577 22.325 1.175 21.5342 1.175 20.5625V2.9375C1.175 1.96577 1.96577 1.175 2.9375 1.175H18.2125C19.1842 1.175 19.975 1.96577 19.975 2.9375V20.5625Z",fill:"black"})),s||(s=c.createElement("path",{d:"M6.46221 5.875H5.28721C4.96291 5.875 4.69971 6.1382 4.69971 6.4625C4.69971 6.7868 4.96291 7.05 5.28721 7.05H6.46221C6.78651 7.05 7.04971 6.7868 7.04971 6.4625C7.04971 6.1382 6.78651 5.875 6.46221 5.875Z",fill:"black"})),i||(i=c.createElement("path",{d:"M15.8631 5.875H8.81309C8.48879 5.875 8.22559 6.1382 8.22559 6.4625C8.22559 6.7868 8.48879 7.05 8.81309 7.05H15.8631C16.1874 7.05 16.4506 6.7868 16.4506 6.4625C16.4506 6.1382 16.1874 5.875 15.8631 5.875Z",fill:"black"})),n||(n=c.createElement("path",{d:"M6.46221 10.5747H5.28721C4.96291 10.5747 4.69971 10.8379 4.69971 11.1622C4.69971 11.4865 4.96291 11.7497 5.28721 11.7497H6.46221C6.78651 11.7497 7.04971 11.4865 7.04971 11.1622C7.04971 10.8379 6.78651 10.5747 6.46221 10.5747Z",fill:"black"})),d||(d=c.createElement("path",{d:"M15.8631 10.5747H8.81309C8.48879 10.5747 8.22559 10.8379 8.22559 11.1622C8.22559 11.4865 8.48879 11.7497 8.81309 11.7497H15.8631C16.1874 11.7497 16.4506 11.4865 16.4506 11.1622C16.4506 10.8379 16.1874 10.5747 15.8631 10.5747Z",fill:"black"})),r||(r=c.createElement("path",{d:"M6.46221 15.2751H5.28721C4.96291 15.2751 4.69971 15.5383 4.69971 15.8626C4.69971 16.1869 4.96291 16.4501 5.28721 16.4501H6.46221C6.78651 16.4501 7.04971 16.1869 7.04971 15.8626C7.04971 15.5383 6.78651 15.2751 6.46221 15.2751Z",fill:"black"})),o||(o=c.createElement("path",{d:"M15.8631 15.2751H8.81309C8.48879 15.2751 8.22559 15.5383 8.22559 15.8626C8.22559 16.1869 8.48879 16.4501 8.81309 16.4501H15.8631C16.1874 16.4501 16.4506 16.1869 16.4506 15.8626C16.4506 15.5383 16.1874 15.2751 15.8631 15.2751Z",fill:"black"})))}const u=c.forwardRef(m);l.p},16452:(e,t,l)=>{l.d(t,{r:()=>r});var a,s,i=l(72791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},n.apply(this,arguments)}function d(e,t){let{title:l,titleId:d,...r}=e;return i.createElement("svg",n({width:24,height:25,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":d},r),l?i.createElement("title",{id:d},l):null,a||(a=i.createElement("g",{clipPath:"url(#clip0_5528_86321)"},i.createElement("path",{d:"M23.2493 10.9994C22.8353 10.9994 22.4993 11.3353 22.4993 11.7493V20.2418L16.4997 22.6416V14.7491C16.4997 14.3351 16.1637 13.9992 15.7497 13.9992C15.3358 13.9992 14.9998 14.3351 14.9998 14.7491V22.6401L9.00017 20.2403V8.35802L12.4755 9.74843C12.8549 9.90142 13.2959 9.71543 13.4504 9.32996C13.6049 8.94598 13.4174 8.50951 13.0319 8.35502L8.5427 6.55813C8.5427 6.55813 8.5427 6.55813 8.5412 6.55813L8.5292 6.55363C8.35071 6.48163 8.15122 6.48163 7.97273 6.55363L7.95923 6.55813C7.95923 6.55813 7.95924 6.55813 7.95774 6.55813L0.471703 9.55344C0.188221 9.66744 0.000732422 9.94192 0.000732422 10.2494V23.7486C0.000732422 23.9975 0.125225 24.23 0.330712 24.3695C0.456704 24.455 0.602195 24.4985 0.750686 24.4985C0.84518 24.4985 0.939674 24.4805 1.02967 24.4445L8.25022 21.5572L15.4573 24.44C15.4573 24.44 15.4573 24.44 15.4588 24.44L15.4723 24.446C15.6508 24.518 15.8502 24.518 16.0287 24.446L16.0422 24.44C16.0422 24.44 16.0422 24.44 16.0437 24.44L23.5298 21.4462C23.8117 21.3307 23.9992 21.0562 23.9992 20.7487V11.7493C23.9992 11.3353 23.6633 10.9994 23.2493 10.9994ZM7.50026 20.2403L1.50064 22.6401V10.7564L7.50026 8.35652V20.2403Z",fill:"black"}),i.createElement("path",{d:"M18.7496 3.49982C17.5091 3.49982 16.4997 4.50925 16.4997 5.74968C16.4997 6.9901 17.5091 7.99954 18.7496 7.99954C19.99 7.99954 20.9994 6.9901 20.9994 5.74968C20.9994 4.50925 19.99 3.49982 18.7496 3.49982ZM18.7496 6.49963C18.3356 6.49963 17.9996 6.16365 17.9996 5.74968C17.9996 5.3357 18.3356 4.99972 18.7496 4.99972C19.1635 4.99972 19.4995 5.3357 19.4995 5.74968C19.4995 6.16365 19.1635 6.49963 18.7496 6.49963Z",fill:"black"}),i.createElement("path",{d:"M18.7495 0.5C15.8547 0.5 13.4999 2.85485 13.4999 5.74967C13.4999 8.4435 17.7116 13.2147 18.1916 13.7502C18.3341 13.9077 18.5366 13.9992 18.7495 13.9992C18.9625 13.9992 19.165 13.9077 19.3075 13.7502C19.7875 13.2147 23.9992 8.4435 23.9992 5.74967C23.9992 2.85485 21.6444 0.5 18.7495 0.5ZM18.7495 12.1048C17.1117 10.1624 14.9998 7.18058 14.9998 5.74967C14.9998 3.6828 16.6827 1.99991 18.7495 1.99991C20.8164 1.99991 22.4993 3.6828 22.4993 5.74967C22.4993 7.17908 20.3874 10.1624 18.7495 12.1048Z",fill:"black"}))),s||(s=i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_5528_86321"},i.createElement("rect",{width:24,height:24,fill:"white",transform:"translate(0 0.5)"})))))}const r=i.forwardRef(d);l.p},75652:(e,t,l)=>{l.d(t,{r:()=>d});var a,s=l(72791);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},i.apply(this,arguments)}function n(e,t){let{title:l,titleId:n,...d}=e;return s.createElement("svg",i({fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",fillRule:"evenodd",ref:t,"aria-labelledby":n},d),l?s.createElement("title",{id:n},l):null,a||(a=s.createElement("path",{fillRule:"evenodd",d:"M 11 2 L 11 11 L 2 11 L 2 13 L 11 13 L 11 22 L 13 22 L 13 13 L 22 13 L 22 11 L 13 11 L 13 2 Z"})))}const d=s.forwardRef(n);l.p},2197:(e,t,l)=>{l.d(t,{Z:()=>x});var a,s,i=l(66106),n=l(30914),d=l(72791),r=l(28478),o=l(79010);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},c.apply(this,arguments)}function h(e,t){let{title:l,titleId:i,...n}=e;return d.createElement("svg",c({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 5.3 7",style:{enableBackground:"new 0 0 5.3 7"},xmlSpace:"preserve",ref:t,"aria-labelledby":i},n),l?d.createElement("title",{id:i},l):null,a||(a=d.createElement("style",{type:"text/css"},"\n\t.st0{fill:#C5C5C5;}\n")),s||(s=d.createElement("polygon",{className:"st0",points:"5.3,3.5 0.4,0.6 0.3,6.4 "})))}const m=d.forwardRef(h);l.p;var u=l(80184);const x=e=>{let{size:t=10,dotIcon:l=!0,rightArrow:a=!0}=e;return(0,u.jsxs)(i.Z,{className:"horizontal-bar-container",align:"middle",children:[!0===l&&(0,u.jsx)(n.Z,{className:"icon-container lh-".concat(t),style:{height:t},children:(0,u.jsx)(r.Z,{Icon:o.r,color:"distanceColor",width:t,height:t})}),(0,u.jsx)(n.Z,{className:"flex-1",style:{height:1},children:(0,u.jsx)("div",{className:"line"})}),!0===a&&(0,u.jsx)(n.Z,{className:"icon-container lh-".concat(t),style:{height:t},children:(0,u.jsx)(r.Z,{Icon:m,color:"",width:t,height:t})})]})}},60591:(e,t,l)=>{l.d(t,{Z:()=>d});l(72791);var a=l(25017),s=l(14692),i=l(67766),n=l(80184);const d=e=>{let{data:t=null,chartHeight:l,barWidth:d=null}=e;return(0,n.jsx)(s.Z,{spinning:!t,id:(0,i.Uz)(),children:t&&(0,n.jsxs)(a.Chart,{dataSource:t,id:(0,i.Uz)(),className:"chart-container ",children:[(0,n.jsx)(a.Tooltip,{enabled:!0,id:(0,i.Uz)()}),(0,n.jsx)(a.CommonSeriesSettings,{id:(0,i.Uz)(),argumentField:"label",valueField:"value",type:"bar",ignoreEmptyPoints:!0,showInLegend:!1,barWidth:d||20,barPadding:.5}),(0,n.jsx)(a.SeriesTemplate,{id:(0,i.Uz)(),nameField:"label"}),(0,n.jsx)(a.ArgumentAxis,{id:(0,i.Uz)(),maxValueMargin:.01,children:(0,n.jsx)(a.Label,{id:(0,i.Uz)(),visible:!0,customizeText:e=>e.valueText})}),(0,n.jsx)(a.Tooltip,{id:(0,i.Uz)(),enabled:!0,contentRender:r,color:(0,i.eb)("--dark"),border:0,paddingLeftRight:0,paddingTopBottom:0,cornerRadius:3}),(0,n.jsx)(a.Size,{id:(0,i.Uz)(),height:l})]})})};function r(e){return(0,n.jsx)("div",{id:(0,i.Uz)(),className:"state-tooltip px-16 py-10",style:{zIndex:999999999999},children:(0,n.jsxs)("h4",{id:(0,i.Uz)(),className:"text-white",children:[e.argument," : ",e.value]})})}},74407:(e,t,l)=>{l.d(t,{Z:()=>o});l(72791);var a=l(41853),s=l.n(a),i=l(14692),n=l(67766),d=l(80184);function r(e){return"".concat(e.argumentText,": ").concat(e.percentText)}const o=e=>{let{data:t=null,chartHeight:l,chartType:o="pie"}=e;return(0,d.jsx)(i.Z,{id:(0,n.Uz)(),spinning:!t,children:t&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(s(),{id:"pie",type:o,dataSource:t,palette:"Bright",resolveLabelOverlapping:"shift",paletteExtensionMode:"Blend",children:[(0,d.jsxs)(a.Series,{id:(0,n.Uz)(),argumentField:"label",valueField:"value",children:[(0,d.jsx)(a.Label,{id:(0,n.Uz)(),visible:!0,customizeText:r,format:"fixedPoint",children:(0,d.jsx)(a.Connector,{id:(0,n.Uz)(),visible:!0,width:1})}),(0,d.jsx)(a.SmallValuesGrouping,{id:(0,n.Uz)(),mode:"smallValueThreshold"})]}),(0,d.jsx)(a.Legend,{id:(0,n.Uz)(),visible:!1}),(0,d.jsx)(a.Size,{id:(0,n.Uz)(),height:l})]})})})}},53272:(e,t,l)=>{l.d(t,{Z:()=>s});l(72791);var a=l(80184);const s=e=>{let{companyName:t=!1,city:l=!1,state:s=!1,zip:n=!1,country:d=!1}=e;return(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("br",{})]}):(0,a.jsx)(a.Fragment,{}),(0,a.jsxs)("span",{children:[i(l),i(s),i(n),i(d,".",!1)]})]})},i=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?"".concat(e).concat(t).concat(l?" ":""):""}},6533:(e,t,l)=>{l.d(t,{Z:()=>n});var a=l(65273),s=(l(72791),l(67766)),i=l(80184);const n=e=>{let{value:t=0,showInfo:l=!0}=e;return(0,i.jsx)(a.Z,{strokeLinecap:"butt",percent:(0,s.xe)(t),showInfo:l,strokeColor:(0,s.eb)("--distanceColor"),status:"active",className:"utilization-progress"})}},95223:(e,t,l)=>{l.d(t,{Z:()=>f});var a=l(48490),s=l(44322),i=l(72791),n=l(95048),d=l(5045),r=l(46413),o=l(88858),c=l(61341),h=l(16871),m=l(60914),u=l(39230),x=l(68825),p=l(80184);const f=e=>{let{placeholder:t=x.ZP.t("translation:default.fields.transportationProvider.label"),label:l=x.ZP.t("translation:default.fields.transportationProvider.label"),rules:f=[],name:v,form:j={},onChange:g=(()=>{}),customerKey:b,userType:Z,tooltip:y=!1}=e;const{selectedCompany:N}=(0,n.v9)((e=>e.auth)),[C,S]=(0,i.useState)(""),[w,D]=(0,i.useState)({}),{pathname:k}=(0,h.TH)(),M=(0,i.useMemo)((()=>(0,m.F)(k)),[k]),{t:T}=(0,u.$G)([M,"translation"]);(0,i.useEffect)((()=>{b&&S(b),D("CARR"===Z?{customerKey:C,pageSize:10,pageIndex:1,shipperFlag:"Y",carrierKey:null===N||void 0===N?void 0:N.companyId}:{customerKey:C||(null===N||void 0===N?void 0:N.companyId),pageSize:10,pageIndex:1})}),[b]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Z,{placeholder:t,label:l,margin:"mb-0",rules:f,asyncFetchMode:!0,asynchFuntion:"CARR"===Z?r.rk:d.$I,defaultParams:w,onChange:e=>{g(e||{}),j.setFieldsValue({[v]:null===e||void 0===e?void 0:e.name})},value:j.getFieldValue(v),accessors:{label:"name",value:"shipRecKey"},CustomOptionsComponent:c.Z,onClear:()=>j.setFieldsValue({[v]:void 0}),userType:Z,tooltip:y}),(0,p.jsx)(a.Z.Item,{name:v,className:"d-none",children:(0,p.jsx)(s.Z,{})})]})}},10999:(e,t,l)=>{l.r(t),l.d(t,{default:()=>qs});var a=l(51379),s=l(72791),i=l(16871),n=l(99660),d=l(3341),r=l(66106),o=l(30914),c=l(95048),h=l(77839);const m=()=>{const e=(0,c.I0)(),{shipmentLocationTypes:t}=(0,c.v9)((e=>e.lookups));return(0,s.useEffect)((()=>{t.isFetched||e((0,h.WK)())}),[null===t||void 0===t?void 0:t.isFetched]),(null===t||void 0===t||!t.progressing)&&(null===t||void 0===t?void 0:t.data)},u=()=>{const e=(0,c.I0)(),{shipmentRoutingTypes:t}=(0,c.v9)((e=>e.lookups));return(0,s.useEffect)((()=>{t.isFetched||e((0,h.Ak)())}),[null===t||void 0===t?void 0:t.isFetched]),(null===t||void 0===t||!t.progressing)&&(null===t||void 0===t?void 0:t.data)};var x=l(89017),p=l(763),f=l.n(p),v=l(9835),j=l(72246),g=l(46130),b=l(65605),Z=l(56521),y=l(75880),N=l(89041),C=l(48490),S=l(75450),w=l(98580),D=l(88858),k=l(76174),M=l(47970),T=l(93835),I=l(38111),F=l(39230),E=l(60914),A=l(80184);const L=e=>{let{index:t,distributorDetails:l,defaultDistributorDetails:a={},handleDataChange:n,handleSave:d,handleRemove:c,handleSelect:h=(()=>{}),isSelected:m=!1}=e;const[u]=C.Z.useForm();let x=C.Z.useWatch("editMode",u);x=Boolean(x);const[p,f]=(0,s.useState)(!1);(0,s.useEffect)((()=>{l&&u.setFieldsValue(l)}),[l]);const{pathname:j}=(0,i.TH)(),Z=(0,s.useMemo)((()=>(0,E.F)(j)),[j]),{t:y}=(0,F.$G)([Z,"translation"]);return(0,A.jsxs)(C.Z,{form:u,initialValues:{editMode:!1},onFinish:e=>{f(!1),d(e,t)},onFieldsChange:()=>f(!0),children:[(0,A.jsx)(b.Z,{className:"mb-15 ".concat(m&&"background-grey-3"),headerClassName:m&&"background-grey-3",showBorder:!0,shadow:!1,customHeader:(0,A.jsxs)(r.Z,{className:"w-100",align:"middle",justify:"space-between",children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{align:"middle",gutter:5,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsxs)(T.Z,{className:"white-space-nowrap f-12 fw-400",children:[y("translation:notificationSettings.distributorContainer.recordNo")," ",":"]})}),(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(T.Z,{className:"white-space-nowrap f-16 fw-600",children:String(t+1).padStart(2,"0")})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)("div",{children:(0,A.jsxs)(r.Z,{gutter:15,align:"middle",children:[(null===l||void 0===l?void 0:l.distributionId)>0&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{buttonType:"button",onClick:()=>h(null===l||void 0===l?void 0:l.distributionId),variant:m?"success":"primary",children:"".concat(y("translation:default.buttons.select")).concat(m?"ed":"")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(I.Z,{editMode:x,setEditMode:e=>{u.setFieldValue("editMode",e),n({...l,editMode:e},t)},onCancel:()=>{f(!1);let e=u.getFieldsValue();0===(null===a||void 0===a?void 0:a.distributionId)?c(t,!0):(e={...a,editMode:!1},n({...l,editMode:!1},t)),u.setFieldsValue(e)},handleRemove:()=>c(t,!1),isNew:0===(null===l||void 0===l?void 0:l.distributionId),isModified:p})})]})})})]}),children:(0,A.jsxs)(r.Z,{className:"px-15 pt-10 pb-15 flex-direction-column",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(w.Z,{name:"distributionName",label:y("translation:notificationSettings.distributorContainer.distributionName.label"),editMode:x,margin:"mb-10",rules:[{required:!0,message:y("translation:notificationSettings.distributorContainer.distributionName.message")}]})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(D.Z,{options:v.pd,name:"status",editMode:x,label:y("translation:default.fields.status.label"),margin:"mb-10",placeholder:y("translation:default.fields.status.placeholder"),rules:[{required:!0,message:y("translation:default.fields.status.message")}]})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(k.Z,{name:"description",label:y("translation:default.fields.description"),editMode:x,margin:"m-0",enableAutoFocus:!1})})]})}),(0,A.jsx)(M.Z,{name:"editMode"}),(0,A.jsx)(M.Z,{name:"selected"}),(0,A.jsx)(M.Z,{name:"distributionId"})]})};var B=l(91082),P=l(10686),O=l(28478),R=l(65081),K=l(20424),V=l(99361),U=l(80182),G=l(84446);const H=e=>{let{sortingContainerClassName:t="flex-1",deleteEnabled:l,isSelectedAll:a,handleSelectAllCheckBox:n,handleDelete:d,sortingSettings:c,setSortingSettings:h,sortingOptions:m=[],handleExport:u=(()=>{}),showSelectAll:x=!0,showBulkDelete:p=!0,selectedDistributionName:f=!1}=e;const{pathname:j}=(0,i.TH)(),g=(0,s.useMemo)((()=>(0,E.F)(j)),[j]),{t:b}=(0,F.$G)([g,"translation"]);return(0,A.jsxs)(r.Z,{gutter:15,align:"middle",className:"flex-nowrap",children:[(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsxs)(r.Z,{className:"w-100 flex-nowrap",align:"middle",children:[x&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",checked:a,label:(0,A.jsx)(T.Z,{className:"white-space-nowrap",children:b("translation:default.fields.selectAll")}),className:"m-0",onChange:n})}),(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsxs)(r.Z,{className:"flex-nowrap",gutter:10,align:"middle",children:[(0,A.jsx)(o.Z,{className:t,...!1===t?{sm:6}:{},children:(0,A.jsx)(D.Z,{defaultValue:null===c||void 0===c?void 0:c.fieldName,value:null===c||void 0===c?void 0:c.fieldName,editMode:!0,label:!1,margin:"m-0",options:m,onChange:e=>h((t=>({...t,fieldName:null===e||void 0===e?void 0:e.value}))),allowClear:!1})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{onClick:()=>(e=>{let t=!1;e===v.qQ.ASC?t=v.qQ.DESC:e===v.qQ.DESC&&(t=v.qQ.ASC),t&&h((e=>({...e,sortType:t})))})(null===c||void 0===c?void 0:c.sortType),children:(0,A.jsx)(O.Z,{className:"mr-5",Icon:(null===c||void 0===c?void 0:c.sortType)===v.qQ.ASC?R.r:K.r,height:18,width:18})})}),f&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"f-18",children:f})})]})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{className:"flex-nowrap",gutter:15,children:[p&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(B.Z,{placement:"topRight",title:b("translation:default.popConfirm.title"),onConfirm:d,okText:b("translation:default.buttons.delete"),cancelText:b("translation:default.options.no"),overlayClassName:"delete-popup-container",okType:"danger",children:(0,A.jsx)(P.Z,{disabled:!l,children:(0,A.jsxs)(r.Z,{className:"flex-nowrap",gutter:5,align:"middle",children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:V.r,color:l?"black":"disabled-text"})}),(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(G.Z,{className:"f-14 ".concat(l?"text-black":"text-disabled-text"),children:b("translation:default.buttons.delete")})})]})})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{onClick:u,children:(0,A.jsxs)(r.Z,{className:"flex-nowrap",gutter:5,align:"middle",children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:U.r,color:"black"})}),(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(G.Z,{className:"f-14",children:b("translation:default.buttons.export")})})]})})})]})})]})};var q=l(40440);const Y=e=>{let{selectedDistribution:t,setSelectedDistribution:l}=e;const a=(0,c.I0)(),{notificationDistributors:n}=(0,c.v9)((e=>e.shipment)),{user:d,selectedCompany:h}=(0,c.v9)((e=>e.auth)),[m,u]=(0,s.useState)([]),[f,C]=(0,s.useState)({fieldName:"distributionName",sortType:v.qQ.ASC}),{pathname:S}=(0,i.TH)(),w=(0,s.useMemo)((()=>(0,E.F)(S)),[S]),{t:D}=(0,F.$G)([w,"translation"]);(0,s.useEffect)((()=>{null!==n&&void 0!==n&&n.success&&null!==f&&void 0!==f&&f.fieldName&&u((0,p.orderBy)(null===n||void 0===n?void 0:n.data,(e=>{if("status"===f.fieldName)return e.status?"a":"b";let t=String(e[f.fieldName]).toLocaleLowerCase();return t=""!=t&&t,t}),[String(f.sortType).toLocaleLowerCase()]))}),[n,f]),(0,s.useEffect)((()=>{var e;(null===m||void 0===m?void 0:m.length)>0&&!1===t&&l(null===m||void 0===m||null===(e=m[0])||void 0===e?void 0:e.distributionId)}),[m]);const k=(e,t)=>{const l=(0,p.cloneDeep)(m);l[t]={...l[t],...e},u(l)},M=(0,s.useMemo)((()=>m.map((e=>{let{editMode:t}=e;return Boolean(t)})).includes(!0)),[m]),T=(0,s.useMemo)((()=>m.map((e=>{let{selected:t}=e;return Boolean(t)})).includes(!0)),[m]),I=(0,s.useMemo)((()=>(0,p.filter)(m,(e=>{let{selected:t}=e;return Boolean(t)})).length===m.length),[m]),B=(e,t)=>{var l;const s={distributionName:null===e||void 0===e?void 0:e.distributionName,description:null===e||void 0===e?void 0:e.description,distributionId:null===e||void 0===e?void 0:e.distributionId,userId:null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.id,status:null===e||void 0===e?void 0:e.status,customerKey:null===h||void 0===h?void 0:h.companyId,callBackSuccess:O,index:t};a((0,x.wT2)(s))},P=(e,l)=>{let a=(0,p.cloneDeep)(m);l?a.splice(e,1):R([{distributionId:a[e].distributionId}],a[e].distributionId===t),u(a)},O=e=>{let t=(0,p.cloneDeep)(m);t[e].editMode=!1,u(t)},R=(e,t)=>{let s={items:e,callBackSuccess:e=>{const t=e.map((e=>{let{distributionId:t}=e;return t})),l=(0,p.filter)(m,(e=>{let{distributionId:l}=e;return!t.includes(l)}));a((0,x._rZ)({data:l}))}};a((0,x.DBC)(s)),t&&l(!1)};return(0,A.jsx)(b.Z,{className:"h-100 d-flex flex-direction-column overflow-hidden background-white",headerClassName:"p-15",customHeader:(0,A.jsxs)(r.Z,{className:"w-100",align:"middle",children:[(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(y.Z,{className:"f-18",children:D("translation:notificationSettings.distributorContainer.title")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{onClick:()=>{let e=(0,p.cloneDeep)(m);e=[{editMode:!0,isNew:!0,distributionId:0,status:!1,description:""},...e],u(e)},disabled:M,children:D("translation:notificationSettings.distributorContainer.button")})})]}),children:(0,A.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,A.jsxs)(r.Z,{className:"flex-direction-column h-100",children:[(0,A.jsx)("div",{className:"border-bottom-border p-15",children:(0,A.jsx)(H,{deleteEnabled:T,isSelectedAll:I&&m.length>0,handleSelectAllCheckBox:e=>{var t;const l=Boolean(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.checked);let a=(0,p.cloneDeep)(m);a=a.map((e=>({...e,selected:l}))),u(a)},handleDelete:()=>{let e=(0,p.filter)(m,(e=>{let{selected:t}=e;return t}));e=e.map((e=>({distributionId:e.distributionId}))),R(e)},sortingSettings:f,setSortingSettings:C,sortingOptions:j.Hw,handleExport:()=>{const e=m.map((e=>[e.distributionId,e.distributionName,e.description,e.status]));(0,q.Ld)([{name:"DistributionId"},{name:"Distribution Name"},{name:"Description"},{name:"Status"}],e,null===h||void 0===h?void 0:h.companyName)},showSelectAll:!1,showBulkDelete:!1,sortingContainerClassName:"w-55"})}),(0,A.jsx)("div",{className:"flex-1 py-15 overflow-hidden ",children:(0,A.jsx)("div",{className:"px-15  custom-scroll-bar h-100",children:null!==n&&void 0!==n&&n.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(A.Fragment,{children:(null===m||void 0===m?void 0:m.length)>0?(0,A.jsx)(A.Fragment,{children:null===m||void 0===m?void 0:m.map(((e,a)=>{var s;return(0,A.jsx)(L,{index:a,distributorDetails:e,defaultDistributorDetails:null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s[a],handleDataChange:k,handleSave:B,handleRemove:P,handleSelect:e=>l(e),isSelected:t===(null===e||void 0===e?void 0:e.distributionId)},null===e||void 0===e?void 0:e.distributionId)}))}):(0,A.jsx)(Z.Z,{descriptionOne:"",descriptionTwo:"",padding:"px-10"})})})})]})})})};var z=l(67766),_=l(46942),W=l(2083),$=l(57101),Q=l(85757),X=l(44259),J=l(68825);const ee=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.locationType.placeholder"),label:l=J.ZP.t("translation:default.fields.locationType.label"),rules:a=[],name:i,editMode:n,value:d,tooltip:r,margin:o="mb-0"}=e;const[c,h]=(0,s.useState)([]),u=m();return(0,s.useEffect)((()=>{if((null===u||void 0===u?void 0:u.length)>=0){let e=u.map((e=>({label:e.codeDesc,value:e.codeId})));h(e)}else h([])}),[u]),(0,A.jsx)(D.Z,{loading:!1===u,options:c,placeholder:t,label:l,margin:o,rules:a,name:i,editMode:n,value:d,tooltip:r})},te=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.routingType.placeholder"),label:l=J.ZP.t("translation:default.fields.routingType.label"),rules:a=[],name:i,editMode:n,value:d,tooltip:r,margin:o="mb-0"}=e;const[c,h]=(0,s.useState)([]),m=u();return(0,s.useEffect)((()=>{if((null===m||void 0===m?void 0:m.length)>=0){let e=m.map((e=>({label:e.codeDesc,value:e.codeId})));h(e)}else h([])}),[m]),(0,A.jsx)(D.Z,{loading:!1===m,options:c,placeholder:t,label:l,margin:o,rules:a,name:i,editMode:n,value:d,tooltip:r})};var le=l(99740);const ae=e=>{const t=(0,c.I0)(),{usersByCustomer:l}=(0,c.v9)((e=>e.lookups));return(0,s.useEffect)((l=>{e&&l!==e&&t((0,h.Ch)({Carrierkey:e}))}),[null===l||void 0===l?void 0:l.isFetched,e]),(null===l||void 0===l||!l.progressing)&&(null===l||void 0===l?void 0:l.data)},se=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.routingType.placeholder"),label:l=J.ZP.t("translation:default.fields.routingType.label"),rules:a=[],name:i,editMode:n,value:d,tooltip:r,margin:o="mb-0",carrierKey:c}=e;const[h,m]=(0,s.useState)([]),u=ae(c);return(0,s.useEffect)((()=>{if((null===u||void 0===u?void 0:u.length)>=0){let e=u.map((e=>({label:e.text,value:Number(e.value)})));m(e)}else m([])}),[u]),(0,A.jsx)(D.Z,{loading:!1===u,options:h,placeholder:t,label:l,margin:o,rules:a,name:i,editMode:n,value:d,tooltip:r})};var ie=l(5045);const ne=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.shipmentBranch.label"),label:l=J.ZP.t("translation:default.fields.shipmentBranch.label"),rules:a=[],name:i,editMode:n,margin:d,disabled:r,onChange:o}=e;const[h,m]=(0,s.useState)([]),[u,x]=(0,s.useState)(!1),{selectedCompany:p}=(0,c.v9)((e=>e.auth));(0,s.useEffect)((()=>{p&&p.companyId&&f(p.companyId)}),[p]);const f=async e=>{try{x(!0);const{data:t}=await(0,ie.wW)({customerKey:e});let l=t.map((e=>({label:e.carrierName,value:e.carrierKey})));m(l),x(!1)}catch(t){console.log(t),m([]),x(!1)}};return(0,A.jsx)(D.Z,{loading:u,options:h,placeholder:t,label:l,rules:a,name:i,editMode:n,margin:d,disabled:r,onChange:o})},de=e=>{let{index:t,routingDetails:l,defaultRoutingDetails:a={},distributorsList:n=[],customerKey:d,handleFormSubmit:h,handleRemove:m,handleDataChange:u}=e;const[x]=C.Z.useForm(),{selectedCompany:p}=(0,c.v9)((e=>e.auth));let f=C.Z.useWatch("editMode",x);f=Boolean(f);const[j,Z]=(0,s.useState)(!1),{pathname:y}=(0,i.TH)(),N=(0,s.useMemo)((()=>(0,E.F)(y)),[y]),{t:S}=(0,F.$G)([N,"translation"]),k=e=>{const t=x.getFieldsValue();x.setFieldsValue({...t,...e})},L=C.Z.useWatch("carrierKey",x),B=C.Z.useWatch("userId",x),P=C.Z.useWatch("countryCode",x);return(0,s.useEffect)((()=>{l&&x.setFieldsValue(l)}),[]),(0,A.jsxs)(C.Z,{form:x,initialValues:{editMode:!1,...(0,z.RZ)(l)},onFinish:e=>{Z(!1),h(e,t)},onFieldsChange:()=>Z(!0),children:[(0,A.jsx)(b.Z,{className:"mb-15 ".concat((null===l||void 0===l?void 0:l.selected)&&"background-grey-3"),headerClassName:(null===l||void 0===l?void 0:l.selected)&&"background-grey-3",showBorder:!0,shadow:!1,customHeader:(0,A.jsxs)(r.Z,{className:"w-100",align:"middle",justify:"space-between",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)("div",{children:(0,A.jsxs)(r.Z,{align:"middle",gutter:5,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(T.Z,{className:"white-space-nowrap f-12 fw-400",children:"".concat(S("translation:default.fields.customerName.label")," : ")})}),(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(T.Z,{className:"white-space-nowrap f-16 fw-600",children:null===p||void 0===p?void 0:p.companyName})})]})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)("div",{children:(0,A.jsxs)(r.Z,{gutter:30,align:"middle",children:[(0,A.jsxs)(o.Z,{children:[(0,A.jsx)(g.Z,{buttonType:"button",onClick:e=>{u({...l,selected:!(null!==l&&void 0!==l&&l.selected)},t)},variant:null!==l&&void 0!==l&&l.selected?"success":"primary",children:"Select".concat(null!==l&&void 0!==l&&l.selected?"ed":"")}),(0,A.jsx)(M.Z,{name:"selected"})]}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(I.Z,{editMode:f,setEditMode:e=>{k({editMode:e}),u({...l,editMode:e},t)},onCancel:()=>{Z(!1),0===(null===l||void 0===l?void 0:l.routingDetailId)?m(t,!0):(k({...a,editMode:!1}),u({...a,editMode:!1},t))},handleRemove:()=>m(t,!1),isNew:0===(null===l||void 0===l?void 0:l.routingDetailId),isModified:j})})]})})})]}),children:(0,A.jsx)("div",{className:"px-15 pt-10 pb-15 ",children:(0,A.jsxs)(r.Z,{gutter:15,className:"flex-nowrap",children:[(0,A.jsxs)(o.Z,{sm:5,children:[(0,A.jsx)(te,{editMode:f,name:"routingType",label:S("translation:default.fields.routingType.label"),margin:"mb-10"}),(0,A.jsx)(D.Z,{options:v.pd,name:"status",editMode:f,label:S("translation:default.fields.status.label"),margin:"mb-10",placeholder:S("translation:default.fields.status.placeholder")}),(0,A.jsx)(ne,{label:S("translation:default.fields.transportationProvider.label"),margin:"m-0",name:"carrierKey",placeholder:S("translation:default.fields.transportationProvider.selectPlaceholder"),editMode:f,onChange:e=>{k({carrierKey:null===e||void 0===e?void 0:e.value,carrierName:null===e||void 0===e?void 0:e.label,userId:void 0})},rules:[{required:!0,message:S("translation:default.fields.transportationProvider.select")}]}),(0,A.jsx)(M.Z,{name:"carrierName"})]}),(0,A.jsxs)(o.Z,{className:"flex-1",children:[(0,A.jsx)(se,{editMode:f,name:"userId",label:S("translation:default.fields.userName.label"),margin:"mb-10",carrierKey:L,rules:[{required:!0,message:S("translation:default.fields.userName.message")}]}),(0,A.jsx)(w.Z,{editMode:f&&999===B,name:"emailList",label:S("translation:notificationSettings.routingContainer.emailList.label"),margin:"mb-10",rules:[{pattern:v.X0,message:S("translation:notificationSettings.routingContainer.emailList.message")}]}),(0,A.jsx)(D.Z,{options:n,editMode:!1,name:"distributionId",label:S("translation:notificationSettings.routingContainer.distributionName.label"),margin:"m-0",rules:[{required:!0,message:S("translation:notificationSettings.routingContainer.distributionName.message")}]})]}),(0,A.jsxs)(o.Z,{className:"flex-1",children:[(0,A.jsx)($.Z,{editMode:f,name:"equipmentID",label:S("translation:default.fields.serviceLevel.label"),margin:"mb-8"}),(0,A.jsx)(_.Z,{editMode:f,name:"cargoTypeId",label:S("translation:default.fields.cargoType.label"),margin:"mb-8"}),(0,A.jsx)(X.Z,{editMode:f,name:"branchId",label:S("translation:default.fields.branch.label"),margin:"mb-0",customerId:d})]}),(0,A.jsxs)(o.Z,{className:"flex-1",children:[(0,A.jsx)(W.Z,{editMode:f,name:"countryCode",label:S("translation:default.fields.country.label"),margin:"mb-8",onChange:()=>{x.setFieldsValue({state:void 0,city:void 0,postalCode:void 0})}}),(0,A.jsx)(Q.Z,{editMode:f,name:"postalCode",label:S("translation:default.fields.postalCode.label"),margin:"mb-8",placeholder:S("translation:default.fields.postalCode.zip"),countryCode:P,handleZipDetails:e=>{k({state:null===e||void 0===e?void 0:e.state,city:null===e||void 0===e?void 0:e.city})},maxLength:10}),(0,A.jsx)(le.Z,{editMode:f,name:"state",label:S("translation:default.fields.state.label"),margin:"mb-8",placeholder:S("translation:default.fields.state.placeholder"),countryCode:P,onChange:()=>{x.setFieldsValue({city:void 0})}})]}),(0,A.jsxs)(o.Z,{className:"flex-1",children:[(0,A.jsx)(w.Z,{editMode:f,name:"city",label:S("translation:default.fields.city.label"),margin:"mb-8",placeholder:S("translation:default.fields.city.enter"),maxLength:"50"}),(0,A.jsx)(ee,{editMode:f,name:"locationType",margin:"mb-10"}),(0,A.jsxs)(r.Z,{gutter:15,children:[(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(w.Z,{editMode:f,name:"weight",label:S("translation:notificationSettings.routingContainer.chargeableWeight.label"),margin:"m-0",placeholder:S("translation:notificationSettings.routingContainer.chargeableWeight.placeholder"),maxLength:"9"})}),(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(w.Z,{editMode:f,name:"quantity",label:S("translation:default.fields.quantity.label"),margin:"m-0",placeholder:S("translation:default.fields.quantity.placeholder"),maxLength:"9"})})]})]})]})})}),(0,A.jsx)(M.Z,{name:"editMode"}),(0,A.jsx)(M.Z,{name:"routingDetailId"}),(0,A.jsx)(M.Z,{name:"createdBy"}),(0,A.jsx)(M.Z,{name:"modifiedBy"}),(0,A.jsx)(M.Z,{name:"customerKey"})]})},re=(0,s.memo)(de),oe=e=>{let{selectedDistribution:t}=e;const{pathname:l}=(0,i.TH)(),a=(0,s.useMemo)((()=>(0,E.F)(l)),[l]),{t:n}=(0,F.$G)([a,"translation"]),d=(0,c.I0)(),{notificationRouting:h,notificationDistributors:m}=(0,c.v9)((e=>e.shipment)),{user:u}=(0,c.v9)((e=>e.auth)),[f,C]=(0,s.useState)([]),[S,w]=(0,s.useState)({fieldName:"routingTypeName",sortType:v.qQ.ASC});(0,s.useEffect)((()=>{if(null!==h&&void 0!==h&&h.success&&null!==S&&void 0!==S&&S.fieldName&&t){let e=(0,p.orderBy)(null===h||void 0===h?void 0:h.data,(e=>{if("status"===S.fieldName)return e.status?"a":"b";let t=String(e[S.fieldName]).toLocaleLowerCase();return t=""!=t&&t,t}),[String(S.sortType).toLocaleLowerCase()]);C((0,p.filter)(e,{distributionId:t}))}}),[h,S,t]);const{selectedCompany:D}=(0,c.v9)((e=>e.auth)),k=(0,s.useMemo)((()=>{var e;return null!==m&&void 0!==m&&m.data?null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.map((e=>{let{distributionName:t,distributionId:l}=e;return{label:t,value:l}})):[]}),[m]),M=(e,t)=>{var l,a;let s={routingDetailId:(0,z.xe)(null===e||void 0===e?void 0:e.routingDetailId),userId:(0,z.xe)(null===e||void 0===e?void 0:e.userId),carrierKey:(0,z.xe)(null===e||void 0===e?void 0:e.carrierKey),customerKey:(0,z.xe)(null===e||void 0===e?void 0:e.customerKey),routingType:(0,z.Fx)(null===e||void 0===e?void 0:e.routingType),distributionId:(0,z.xe)(null===e||void 0===e?void 0:e.distributionId),equipmentID:(0,z.xe)(null===e||void 0===e?void 0:e.equipmentID),cargoTypeId:(0,z.Fx)(null===e||void 0===e?void 0:e.cargoTypeId),branchId:(0,z.xe)(null===e||void 0===e?void 0:e.branchId),locationType:(0,z.Fx)(null===e||void 0===e?void 0:e.locationType),countryCode:(0,z.Fx)(null===e||void 0===e?void 0:e.countryCode),state:(0,z.Fx)(null===e||void 0===e?void 0:e.state),city:(0,z.Fx)(null===e||void 0===e?void 0:e.city),postalCode:(0,z.Fx)(null===e||void 0===e?void 0:e.postalCode),createdBy:0===(null===e||void 0===e?void 0:e.routingDetailId)?null===u||void 0===u||null===(l=u.data)||void 0===l?void 0:l.id:(0,z.xe)(null===e||void 0===e?void 0:e.createdBy),modifiedBy:null===u||void 0===u||null===(a=u.data)||void 0===a?void 0:a.id,status:null===e||void 0===e?void 0:e.status,weight:(0,z.xe)(null===e||void 0===e?void 0:e.weight),quantity:(0,z.xe)(null===e||void 0===e?void 0:e.quantity),emailList:(0,z.Fx)(null===e||void 0===e?void 0:e.emailList),callBackSuccess:T,index:t};d((0,x._fX)(s))},T=e=>{let t=(0,p.cloneDeep)(f);t[e].editMode=!1,C(t)},I=(e,t)=>{let l=(0,p.cloneDeep)(f);var a;t?l.splice(e,1):L([{routingDetailId:(0,z.xe)(null===l||void 0===l||null===(a=l[e])||void 0===a?void 0:a.routingDetailId)}]);C(l)},L=e=>{let t={items:e,callBackSuccess:e=>{const t=e.map((e=>{let{routingDetailId:t}=e;return t})),l=(0,p.filter)(f,(e=>{let{routingDetailId:l}=e;return!t.includes(l)}));d((0,x.bmL)({data:l}))}};d((0,x.h_q)(t))},B=(0,s.useMemo)((()=>f.map((e=>{let{selected:t}=e;return Boolean(t)})).includes(!0)),[f]),P=(0,s.useMemo)((()=>(0,p.filter)(f,(e=>{let{selected:t}=e;return Boolean(t)})).length===f.length),[f]),O=(e,t)=>{const l=(0,p.cloneDeep)(f);l[t]={...l[t],...e},C(l)},R=(0,s.useMemo)((()=>f.map((e=>{let{editMode:t}=e;return Boolean(t)})).includes(!0)),[f]),K=(0,s.useMemo)((()=>{var e;return null===(e=(0,p.find)(null!==m&&void 0!==m&&m.data?null===m||void 0===m?void 0:m.data:[],{distributionId:t}))||void 0===e?void 0:e.distributionName}),[m,t]);return(0,A.jsx)(b.Z,{className:"h-100 d-flex flex-direction-column overflow-hidden background-white",headerClassName:"p-15",customHeader:(0,A.jsxs)(r.Z,{className:"w-100",align:"middle",children:[(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(y.Z,{className:"f-18",children:n("translation:notificationSettings.routingContainer.title")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{onClick:()=>{let e=(0,p.cloneDeep)(f);e=[{editMode:!0,customerKey:null===D||void 0===D?void 0:D.companyId,status:!1,routingDetailId:0,distributionId:t},...e],C(e)},disabled:R,children:n("translation:notificationSettings.routingContainer.addNewNotificationRouting")})})]}),children:(0,A.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,A.jsxs)(r.Z,{className:"flex-direction-column h-100",children:[(0,A.jsx)("div",{className:"border-bottom-border p-15",children:(0,A.jsx)(H,{sortingContainerClassName:!1,deleteEnabled:B,isSelectedAll:P&&f.length>0,handleSelectAllCheckBox:e=>{var t;const l=Boolean(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.checked);let a=(0,p.cloneDeep)(f);a=a.map((e=>({...e,selected:l}))),C(a)},handleDelete:()=>{let e=(0,p.filter)(f,(e=>{let{selected:t}=e;return t}));e=e.map((e=>({routingDetailId:e.routingDetailId}))),L(e)},sortingSettings:S,setSortingSettings:w,sortingOptions:(0,j.Yh)(),handleExport:()=>{const e=f.map((e=>[e.routingDetailId,e.routingTypeName,e.status?"Enable":"Disable",e.customerName,e.carrierName,e.userName,e.emailList,e.distributionName,e.equipmentName,e.cargoName,e.branchName,e.countryName,e.stateName,e.city,e.postalCode,e.locationTypeName,e.weight,e.quantity]));(0,q.eU)([{name:"RoutingDetailId"},{name:"Routing Type"},{name:"Status"},{name:"Customer Name"},{name:"Transportation Provider"},{name:"User Name"},{name:"Email List"},{name:"Distribution Name"},{name:"Service Level"},{name:"Cargo Type"},{name:"Branch"},{name:"Country"},{name:"State/ Province"},{name:"City"},{name:"Postal Code"},{name:"Location Type"},{name:"Chargeable Weight"},{name:"Quantity"}],e,null===D||void 0===D?void 0:D.companyName)},selectedDistributionName:K})}),(0,A.jsx)("div",{className:"flex-1 py-15 overflow-hidden ",children:(0,A.jsx)("div",{className:"px-15  custom-scroll-bar h-100",children:null!==h&&void 0!==h&&h.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(A.Fragment,{children:f.length>0?null===f||void 0===f?void 0:f.map(((e,t)=>{var l;return(0,A.jsx)(re,{index:t,routingDetails:e,customerKey:null===D||void 0===D?void 0:D.companyId,distributorsList:k,defaultRoutingDetails:null===h||void 0===h||null===(l=h.data)||void 0===l?void 0:l[t],handleFormSubmit:M,handleRemove:I,handleDataChange:O},null===e||void 0===e?void 0:e.routingDetailId)})):(0,A.jsx)(Z.Z,{})})})})]})})})},ce=()=>{m(),u();const e=(0,c.I0)(),{selectedCompany:t}=(0,c.v9)((e=>e.auth)),[l,a]=(0,s.useState)(!1),{pathname:n}=(0,i.TH)(),d=(0,s.useMemo)((()=>(0,E.F)(n)),[n]),{t:h}=(0,F.$G)([d,"translation"]);return(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.companyId&&(e((0,x.Vfz)({CustomerKey:null===t||void 0===t?void 0:t.companyId})),e((0,x._Tm)({customerKey:null===t||void 0===t?void 0:t.companyId})))}),[t]),(0,A.jsxs)(r.Z,{gutter:15,className:"h-100 ",children:[(0,A.jsx)(o.Z,{sm:7,className:"h-100",children:(0,A.jsx)(Y,{selectedDistribution:l,setSelectedDistribution:a})}),(0,A.jsx)(o.Z,{sm:17,className:"h-100",children:(0,A.jsx)(oe,{selectedDistribution:l})})]})},he=()=>(0,A.jsx)("div",{className:"h-100 pb-15",children:(0,A.jsx)(ce,{})});var me=l(29352),ue=l(29128),xe=l(47766),pe=l(8870),fe=l(43769),ve=l(68309),je=l(60591),ge=l(66319),be=l(64303),Ze=l(63521);const ye=()=>(0,A.jsxs)(r.Z,{gutter:16,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{children:(0,A.jsx)(be.r,{})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{children:(0,A.jsx)(Ze.r,{})})})]});var Ne=l(74407),Ce=l(35765);const Se=()=>{const e=(0,Ce.Z)(),{shipmentDashboard:t,shipmentFilters:l}=(0,c.v9)((e=>e.shipment)),{companyId:a}=(0,c.v9)((e=>e.auth.selectedCompany)),n=(0,c.I0)(),{pathname:d}=(0,i.TH)(),h=(0,s.useMemo)((()=>(0,E.F)(d)),[d]),{t:m}=(0,F.$G)([h,"translation"]),[u,p]=(0,s.useState)(null),[f,v]=(0,s.useState)(null),[j,g]=(0,s.useState)(null),[b,Z]=(0,s.useState)(null),[y,N]=(0,s.useState)(null);(0,s.useEffect)((()=>{a&&(C("transportationProvider","TransportationProvider"),C("orderStatusData","ShipmentStatus"),C("shipmentsByMonth","DateRange"),C("shipmentsCargoType","CargoType"),C("shipmentsByType","ShipmentType"))}),[a,null===l||void 0===l?void 0:l.CreatedDateFrom,null===l||void 0===l?void 0:l.CreatedDateTo]);const C=(e,t)=>{let s={fieldType:e,ResultType:t,CustomerKey:a,StartDate:null===l||void 0===l?void 0:l.CreatedDateFrom,EndDate:null===l||void 0===l?void 0:l.CreatedDateTo};n((0,x.WNm)(s))};(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.transportationProvider&&p(S(null===t||void 0===t?void 0:t.transportationProvider,"transportationProviderName","totalNumberOfShipments"))}),[null===t||void 0===t?void 0:t.transportationProvider]),(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.orderStatusData&&v(S(null===t||void 0===t?void 0:t.orderStatusData,"shipmentStatus","totalNumberOfShipments"))}),[null===t||void 0===t?void 0:t.orderStatusData]),(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.shipmentsByMonth&&g(S(null===t||void 0===t?void 0:t.shipmentsByMonth,"month","totalNumberOfShipments"))}),[null===t||void 0===t?void 0:t.shipmentsByMonth]),(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.shipmentsCargoType&&Z(S(null===t||void 0===t?void 0:t.shipmentsCargoType,"cargoType","totalNumberOfShipments"))}),[null===t||void 0===t?void 0:t.shipmentsCargoType]),(0,s.useEffect)((()=>{null!==t&&void 0!==t&&t.shipmentsByType&&N(S(null===t||void 0===t?void 0:t.shipmentsByType,"shipmentType","totalNumberOfShipments"))}),[null===t||void 0===t?void 0:t.shipmentsByType]);const S=(e,t,l)=>{if(e){if(null!==e&&void 0!==e&&e.success){if(null!==e&&void 0!==e&&e.data){let a=null===e||void 0===e?void 0:e.data.map((e=>({value:e[l],label:e[t]})));return a}return[]}if(null!==e&&void 0!==e&&e.error)return[]}},w=(0,s.useRef)(),D=(0,s.useRef)(),[k,M]=(0,s.useState)(0);return(0,s.useEffect)((()=>{var e,t;if(null!==w&&void 0!==w&&null!==(e=w.current)&&void 0!==e&&e.offsetHeight&&null!==D&&void 0!==D&&null!==(t=D.current)&&void 0!==t&&t.offsetHeight){var l,a;let e=(null===w||void 0===w||null===(l=w.current)||void 0===l?void 0:l.offsetHeight)-20-(null===D||void 0===D||null===(a=D.current)||void 0===a?void 0:a.offsetHeight);M(e)}}),[w,e,D]),(0,A.jsxs)("div",{className:"h-100 d-flex flex-direction-column p-16 justify-content-between ",children:[(0,A.jsxs)(r.Z,{gutter:15,className:"h-49 ",children:[(0,A.jsx)(o.Z,{md:24,lg:8,className:"h-100",ref:w,children:(0,A.jsxs)(ge.Z,{className:"h-100 d-flex flex-direction-column ",border:!0,children:[(0,A.jsx)("div",{ref:D,children:(0,A.jsx)(ve.Z,{title:m("translation:shipment.dashboard.topTransportation"),buttonContainer:(0,A.jsx)(ye,{})})}),(0,A.jsx)("div",{className:"p-10 flex-1 d-flex flex-direction-column justify-content-center ",children:(0,A.jsx)(je.Z,{chartHeight:k,data:u})})]})}),(0,A.jsx)(o.Z,{md:24,lg:16,className:"h-100",children:(0,A.jsxs)(ge.Z,{className:"h-100 d-flex flex-direction-column ",border:!0,children:[(0,A.jsx)(ve.Z,{title:m("translation:shipment.dashboard.orderStatistics"),buttonContainer:(0,A.jsx)(ye,{})}),(0,A.jsx)("div",{className:"p-10 flex-1 d-flex flex-direction-column justify-content-center ",children:(0,A.jsx)(Ne.Z,{data:f,chartHeight:k})})]})})]}),(0,A.jsxs)(r.Z,{gutter:15,className:"h-49",children:[(0,A.jsx)(o.Z,{md:24,lg:8,className:"h-100",children:(0,A.jsxs)(ge.Z,{className:"h-100 d-flex flex-direction-column ",border:!0,children:[(0,A.jsx)(ve.Z,{title:"".concat(m("translation:shipment.dashboard.total"),"."),buttonContainer:(0,A.jsx)(ye,{})}),(0,A.jsx)("div",{className:"p-10 flex-1 d-flex flex-direction-column justify-content-center ",children:(0,A.jsx)(je.Z,{chartHeight:k,data:j})})]})}),(0,A.jsx)(o.Z,{md:24,lg:8,className:"h-100",children:(0,A.jsxs)(ge.Z,{className:"h-100 d-flex flex-direction-column ",border:!0,children:[(0,A.jsx)(ve.Z,{title:m("translation:shipment.dashboard.shipmentByMode"),buttonContainer:(0,A.jsx)(ye,{})}),(0,A.jsx)("div",{className:"p-10 flex-1 d-flex flex-direction-column justify-content-center ",children:(0,A.jsx)(je.Z,{chartHeight:k,data:b})})]})}),(0,A.jsx)(o.Z,{md:24,lg:8,className:"h-100",children:(0,A.jsxs)(ge.Z,{className:"h-100 d-flex flex-direction-column ",border:!0,children:[(0,A.jsx)(ve.Z,{title:m("translation:shipment.dashboard.shipmentByBound"),buttonContainer:(0,A.jsx)(ye,{})}),(0,A.jsx)("div",{className:"p-10 flex-1 d-flex flex-direction-column justify-content-center ",children:(0,A.jsx)(je.Z,{chartHeight:k,data:y})})]})})]})]})};var we=l(42656),De=l(21137),ke=l(93201),Me=l(6093),Te=l(76710),Ie=l(69216),Fe=l(46174),Ee=l(30948);const Ae=()=>{const[e,t]=(0,s.useState)(!1),{pathname:l}=(0,i.TH)(),a=(0,s.useMemo)((()=>(0,E.F)(l)),[l]),{t:n}=(0,F.$G)([a,"translation"]),d=(0,c.I0)(),h=(0,c.v9)((e=>e.shipment.shipmentFilters.SelectedValue),c.wU),{totalRecords:m,latepickup:u,latedelivery:f,trackingfailures:v,missingDocument:g,pickupFailed:b}=(0,c.v9)((e=>e.shipment.shipmentList),((e,t)=>(0,p.isEqual)(e.totalRecords,t.totalRecords))),Z=e=>{d((0,x.cFm)({SelectedValue:e,PageNumber:1})),d((0,x.tQ1)({data:[]})),d((0,x.$oe)())};return(0,A.jsxs)("div",{className:"",children:[(0,A.jsxs)(r.Z,{justify:"space-around",className:" footer-container background-header px-20  py-12",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{count:(0,A.jsx)(Ee.h3,{thousandsGroupStyle:"lakh",displayType:"text",value:String(m),thousandSeparator:!0}),label:n("translation:shipment.footer.totalRecords"),Icon:we.r,onClick:()=>Z(""),active:""===h})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{count:(0,A.jsx)(Ee.h3,{thousandsGroupStyle:"lakh",displayType:"text",value:String(u),thousandSeparator:!0}),label:n("translation:shipment.footer.latePickup"),Icon:De.r,onClick:()=>Z(j.Te.LATE_PICKUP),active:j.Te.LATE_PICKUP===h})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{count:(0,A.jsx)(Ee.h3,{thousandsGroupStyle:"lakh",displayType:"text",value:String(f),thousandSeparator:!0}),label:n("translation:shipment.footer.lateDelivery"),Icon:ke.r,onClick:()=>Z(j.Te.LATE_DELIVERY),active:j.Te.LATE_DELIVERY===h})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{count:(0,A.jsx)(Ee.h3,{thousandsGroupStyle:"lakh",displayType:"text",value:String(v),thousandSeparator:!0}),label:n("translation:shipment.footer.trackingFailure"),Icon:Me.r,onClick:()=>Z(j.Te.TRACKING_FAILURES),active:j.Te.TRACKING_FAILURES===h})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{count:(0,A.jsx)(Ee.h3,{thousandsGroupStyle:"lakh",displayType:"text",value:String(g),thousandSeparator:!0}),label:n("translation:shipment.footer.missingDocuments"),Icon:Te.r,onClick:()=>Z(j.Te.MISSING_DOCUMENTS),active:j.Te.MISSING_DOCUMENTS===h})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{count:(0,A.jsx)(Ee.h3,{thousandsGroupStyle:"lakh",displayType:"text",value:String(b),thousandSeparator:!0}),label:n("translation:shipment.footer.pickupFailed"),Icon:Ie.r,onClick:()=>Z(j.Te.PICKUP_FAILED),active:j.Te.PICKUP_FAILED===h})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{className:"d-flex",children:(0,A.jsx)(P.Z,{onClick:()=>t(!0),children:(0,A.jsx)(Fe.r,{})})})]}),(0,A.jsx)(fe.Z,{visible:e,headerContents:(0,A.jsx)(y.Z,{className:"text-white",children:n("translation:default.navMenu.dashboard")}),onClose:()=>t(!1),children:(0,A.jsx)(Se,{})})]})},Le=(0,s.memo)(Ae);var Be=l(41583),Pe=l(87309),Oe=l(77128),Re=l(2197),Ke=l(68329),Ve=l(63301),Ue=l(30822),Ge=l(15610),He=l(14626),qe=l(72426),Ye=l.n(qe),ze=(l(73528),l(6533)),_e=l(10089),We=l(97114),$e=l(54071),Qe=l(98193),Xe=l(53272),Je=l(92702);const et=e=>{let{data:{shipmentKey:t,expBidTime:l,isMasterShipment:a,isChildShipment:n,approvalNumber:d,shipmentNo:c,status:h,quoteNo:m,carrierName:u,totalMileage:x,shipperName:p,shipperCity:f,shipperState:j,shipperZip:g,shipperCountryCode:b,consigneeName:Z,consigneeCity:y,consigneeState:N,consigneeZip:C,countryCode:S,rateShopCost:w,convertedCurrency:D,multiStop:k,expShipDate:M,expDeliveryDate:I,totalUnits:L,weightUom:B,totalWeight:P,weightUtilization:R,proNo:K,shipmentTermsDesc:V,cargoType:U,bolPrinted:H,masterBolNumber:q,volumeUtilization:Y},handleShipmentClick:_,onSelect:W=(()=>{}),isSelected:$,getTooltipMenu:Q}=e;const{pathname:X}=(0,i.TH)(),J=(0,s.useMemo)((()=>(0,E.F)(X)),[X]),{t:ee}=(0,F.$G)([J,"translation"]);let te=d?d.trim():"";const le="Y"===a||"Y"===n;return(0,A.jsx)(ge.Z,{className:"shipment-card border-muted ".concat($?"selected":""," mb-15"),children:(0,A.jsxs)("div",{className:"py-10",onClick:()=>_(t),children:[(0,A.jsxs)(r.Z,{className:"px-15",justify:"space-between",align:"middle",children:[(0,A.jsx)(o.Z,{className:"pt-3",children:(0,A.jsxs)(r.Z,{gutter:30,align:"middle",children:[(0,A.jsx)(o.Z,{className:"mt-n10",children:(0,A.jsx)("div",{className:"text-center",children:(0,A.jsx)(Ke.Z,{onClick:e=>{e.stopPropagation(),W(t,$)},checked:$})})}),(0,A.jsx)(o.Z,{children:"Quote"===h?(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.quoteNumber"),containerClass:"d-flex align-items-center",children:(0,A.jsx)("p",{className:"ml-5 text-highlight",children:m})}):(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.shipmentNumber.label"),containerClass:"d-flex align-items-center",children:(0,A.jsx)("p",{className:"ml-5 fw-800 f-16",children:(0,z.I3)(d,h)?"":c})})}),te&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.approvalNo"),containerClass:"d-flex align-items-center",children:(0,A.jsx)("p",{className:"ml-5 text-highlight",children:d})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.transportationProvider.label"),containerClass:"d-flex align-items-center",children:(0,A.jsx)("p",{className:"ml-5 text-highlight",children:u})})})]})}),(0,A.jsx)(o.Z,{onClick:e=>e.stopPropagation(),children:(0,A.jsx)(Be.Z,{overlay:Q(t),placement:"bottomLeft",children:(0,A.jsx)(Pe.ZP,{ghost:!0,className:"bg-none border-none w-0 p-0 shadow-none",size:"small",shape:"circle",type:"ghost",children:(0,A.jsx)(_e.r,{})})})})]}),(0,A.jsx)(r.Z,{children:(0,A.jsx)(Oe.Z,{className:"mt-10 mb-15"})}),(0,A.jsxs)(r.Z,{className:"mb-15 px-15",gutter:15,children:[(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.status.label"),children:(0,A.jsx)(Ve.Z,{className:"background-statusColor",children:h})})}),(0,A.jsxs)(o.Z,{sm:18,children:[(0,A.jsxs)(r.Z,{gutter:15,className:"mb-5 mt-n5 flex-nowrap",children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)(T.Z,{children:[(0,A.jsx)(O.Z,{Icon:Ge.r,color:"success"}),(0,A.jsx)("span",{className:"ml-5",children:ee("translation:default.fields.origin")})]})}),(0,A.jsxs)(o.Z,{className:"flex-1 shipment-card-distance-container",children:[(0,A.jsx)(Re.Z,{}),(0,A.jsx)(r.Z,{justify:"center",className:"distance-section",children:(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{containerClass:"text-center mt-0",title:ee("translation:shipment.card.totalMiles"),labelClass:"text-distanceColor fw-800",children:(0,A.jsx)("p",{className:"text-black f-14",children:(0,A.jsx)("span",{className:"text-distanceColor fw-800",children:x})})})})})]}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(T.Z,{children:[(0,A.jsx)(O.Z,{Icon:Ge.r,color:"danger"}),(0,A.jsx)("span",{className:"ml-5",children:ee("translation:default.fields.destination")})]})})]}),(0,A.jsxs)(r.Z,{gutter:15,className:"flex-nowrap",children:[(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(Ue.Z,{title:(0,A.jsx)(A.Fragment,{}),children:(0,A.jsx)(G.Z,{className:"f-14 fw-600",children:(0,A.jsx)(Xe.Z,{companyName:p,city:f,state:j,zip:g,country:b})})})}),(0,A.jsx)(o.Z,{sm:6}),(0,A.jsx)(o.Z,{className:"text-right flex-1",children:(0,A.jsx)(Ue.Z,{title:(0,A.jsx)(A.Fragment,{}),children:(0,A.jsx)(G.Z,{className:"f-14 fw-600 ",children:(0,A.jsx)(Xe.Z,{companyName:Z,city:y,state:N,zip:C,country:S})})})})]})]}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.cost"),children:(0,A.jsxs)("p",{className:"f-16 text-black fw-800",children:[(0,A.jsx)(Qe.Z,{value:w}),(0,A.jsx)("span",{className:"currency-label",children:D})]})})})]}),(0,A.jsxs)(r.Z,{className:"mb-15 px-15",gutter:15,children:[(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.transportationProvider.label"),children:(0,A.jsx)(O.Z,{Icon:$e.r,color:k?"iconSuccess":"iconDanger",width:22,height:22,className:"ml-n2"})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.expectedShipDate.label"),children:(0,A.jsx)("p",{className:"text-black f-14",children:(0,He.BZ)(M)})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.expectedDeliveryDate"),children:(0,A.jsx)("p",{className:"text-black f-14",children:(0,He.BZ)(I)})})}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.quantity.label"),children:(0,A.jsx)("p",{className:"text-black f-14",children:L})})}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:"".concat(ee("translation:shipment.card.weight")," ").concat(B?"("+B+")":""),children:(0,A.jsx)("p",{className:"text-black f-14",children:P})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:ee("translation:shipment.card.weightUtilization"),children:(0,A.jsx)("p",{className:"text-black f-14",children:(0,A.jsx)(ze.Z,{value:R})})})}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.freightBillNumber"),children:(0,A.jsx)("p",{className:"text-highlight",children:K})})})]}),(0,A.jsxs)(r.Z,{className:"px-15",gutter:15,children:[(0,A.jsx)(o.Z,{sm:3,children:le&&(0,A.jsx)(Ue.Z,{title:ee("translation:shipment.card.masterChild"),children:(0,A.jsx)(Ve.Z,{className:"background-highlight mt-2",children:"Y"===a?"Master":"Y"===n?"Child":""})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.shipmentTerms.label"),children:(0,A.jsx)("p",{className:"text-black f-14",children:V})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:ee("translation:default.fields.cargoType.label"),children:(0,A.jsx)("p",{className:"text-black f-14",children:"**"===U?"All":U})})}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:ee("translation:shipment.card.printedBolFlag"),children:(0,A.jsx)(Ve.Z,{className:"mt-4 background-statusColor ",children:v.Vg[null===H||void 0===H?void 0:H.toUpperCase()]})})}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:ee("translation:shipment.card.masterBol"),children:(0,A.jsx)("p",{className:"text-black f-14",children:q})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:ee("translation:shipment.card.volumeUtilization"),children:(0,A.jsx)("p",{className:"text-black f-14",children:(0,A.jsx)(ze.Z,{value:Y})})})}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:ee("translation:shipment.card.bidExpiry"),children:(0,A.jsx)("p",{className:"f-16 text-black fw-800",children:l?(0,A.jsx)(Je.ZP,{date:new Date(Ye().utc(l,"MM/DD/YYYY h:mm A").local().toDate()),daysInHours:!0}):"00:00:00"})})})]})]})})},tt=(0,s.memo)(et);var lt=l(48740),at=l(32311),st=l(9682),it=l(25786),nt=l(14692);const dt=(0,s.memo)((e=>{let{fieldName:t,value:l}=e;return(0,A.jsx)(A.Fragment,{children:((e,t)=>{switch(e){case"status":return(0,A.jsx)("td",{children:(0,A.jsx)(Ve.Z,{className:"background-statusColor f-15",children:t})},e);case"multiStop":return(0,A.jsx)("td",{className:"text-center",children:(0,A.jsx)(O.Z,{Icon:$e.r,color:t?"iconSuccess":"iconDanger",width:22,height:22,className:"ml-n2"})},e);case"createdOn":case"expShipDate":case"expDeliveryDate":case"shipmentDate":return(0,A.jsx)("td",{children:(0,A.jsx)(y.Z,{normal:!0,children:(0,He.BZ)(t)})},e);case"expBidTime":return(0,A.jsx)("td",{children:(0,A.jsx)(ot,{expBidTime:t})},e);case"cargoType":return(0,A.jsx)("td",{children:"**"===t?"All":t},e);default:return(0,A.jsx)("td",{children:(0,A.jsx)(G.Z,{className:"f-15 fw-600 text-black",children:t})},e)}})(t,l)})})),rt=e=>{var t;let{handleLoadMore:l,isLoading:a,hasMore:n,shipmentList:d,handleShipmentClick:r,onClickStatusUpdate:o,handleDelete:h,handleCopy:m,onSelect:u,selectedShipments:p}=e;const f=(0,c.I0)(),[v,j]=(0,s.useState)(!1),{pathname:b}=(0,i.TH)(),Z=(0,s.useMemo)((()=>(0,E.F)(b)),[b]),{t:C}=(0,F.$G)([Z,"translation"]),{tableViewColumns:w}=(0,c.v9)((e=>e.shipment));(0,s.useEffect)((()=>{f((0,x.fP)())}),[]);const D=e=>{m(v,e),j(!1)},k=(0,s.useMemo)((()=>{var e,t;return(null!==w&&void 0!==w&&null!==(e=w.data)&&void 0!==e&&e.length?null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.length:0)+3}),[null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.length]);return(0,A.jsxs)("div",{className:"h-100 overflow-hidden pb-15",children:[w.progressing?(0,A.jsx)("div",{className:"h-100 background-white br-4",children:(0,A.jsx)(N.Z,{})}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(at.Z,{className:"background-white br-4 w-100 h-100 scrollable-table-container horizontal",loadMore:l,hasMore:n,isLoading:a,scrollOffset:50,hideSpinner:!0,children:(0,A.jsxs)("table",{className:"w-100 background-white br-4",children:[(0,A.jsx)("thead",{className:" ",children:(0,A.jsxs)("tr",{children:[(0,A.jsx)("th",{style:{width:47},className:"background-header text-white fixed fixed-top fixed-left shadow-none"}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top fixed-left",style:{left:47,whiteSpace:"pre-wrap !important"},children:"Shipment No"}),(null!==w&&void 0!==w&&w.data?w.data:[]).map((e=>{let{columnName:t,columnValue:l}=e;return(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:t},l)})),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top fixed-right"})]})}),(0,A.jsxs)("tbody",{children:[d.map((e=>{return(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{width:47},className:"fixed fixed-left shadow-none",children:(0,A.jsx)(S.Z,{className:"m-0",checkBoxClass:"normal-checkbox",checked:p.includes(e.shipmentKey),onChange:t=>((e,t,l)=>{e.stopPropagation(),u(t.shipmentKey,l)})(t,e,p.includes(e.shipmentKey))})}),(0,A.jsx)("td",{className:"fixed fixed-left",style:{left:47},children:(0,A.jsx)("span",{className:"cursor-pointer f-18 fw-700 text-header ",onClick:()=>r(e.shipmentKey),children:e.shipmentNo?e.shipmentNo:e.quoteNo})}),(null!==w&&void 0!==w&&w.data?w.data:[]).map((t=>{let{columnValue:l}=t;return(0,A.jsx)(dt,{fieldName:l,value:e[l]},l)})),(0,A.jsx)("td",{className:"pl-5 pr-8 fixed fixed-right text-center",children:(0,A.jsx)(Be.Z,{overlay:(t=e,(0,A.jsx)(it.Z,{items:[{key:"2",label:(0,A.jsx)(B.Z,{placement:"topRight",title:C("translation:default.fields.deleteConfirm.title"),onConfirm:()=>h(t.shipmentKey),okText:C("translation:default.options.yes"),cancelText:C("translation:default.buttons.cancel"),overlayClassName:"",children:(0,A.jsx)("a",{href:!1,children:C("translation:default.buttons.delete")})})},{key:"1",label:(0,A.jsx)("a",{onClick:()=>j(t.shipmentKey),children:C("translation:default.buttons.copy")})},{key:"5",label:(0,A.jsx)("a",{className:"single-line",onClick:()=>o(t.shipmentKey),children:C("translation:shipment.header.updateShipmentStatus")})}]})),placement:"bottomLeft",children:(0,A.jsx)(g.Z,{ghost:!0,className:"px-5 min-width-auto bg-none border-none w-0 p-0 shadow-none",size:"small",shape:"circle",type:"ghost",children:(0,A.jsx)(_e.r,{})})})})]},e.shipmentKey);var t})),a?(0,A.jsx)("tr",{children:(0,A.jsx)("td",{colSpan:k,className:"background-white text-center ",children:(0,A.jsx)(nt.Z,{spinning:!0})})}):(0,A.jsx)(A.Fragment,{}),a||0!==(null===d||void 0===d?void 0:d.length)?(0,A.jsx)(A.Fragment,{}):(0,A.jsx)("tr",{children:(0,A.jsx)("td",{colSpan:k,className:"background-white text-center ",children:(0,A.jsxs)(y.Z,{className:"text-danger",children:[C("translation:default.notification.emptyList"),".","  ",C("translation:default.emptyRecords.title"),"."]})})})]})]})})}),(0,A.jsx)(We.Z,{onOk:()=>D(1),onCancel:()=>D(0),onClose:()=>j(!1),open:Boolean(v),description:C("translation:shipment.card.description"),title:C("translation:shipment.card.title")})]})},ot=e=>{let{expBidTime:t}=e;const[l,a]=(0,s.useState)("00:00");return(0,s.useEffect)((()=>{let e=!1;try{if(t){const l=(0,He.Bq)(t);l&&(e=setInterval((()=>{var t=Ye().duration(Ye()(l).diff(Ye().tz("America/New_York").format("MM/DD/YYYY hh:mm:ss A")));if(t._milliseconds>0){var s=parseInt(t.asHours()),i=parseInt(t.asMinutes())%60,n=parseInt(t.asSeconds())%60;a("".concat((0,z.O2)(s),":").concat((0,z.O2)(i),":").concat((0,z.O2)(n)))}else e&&clearInterval(e),a("00:00:00")}),1e3))}}catch(l){console.log(l)}return()=>{e&&clearInterval(e)}}),[t]),(0,A.jsx)(y.Z,{children:l})};var ct=l(88073),ht=l(27726);const mt=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.reason.select"),label:l=J.ZP.t("translation:default.fields.reason.label"),rules:a=[],name:i,editMode:n,onChange:d=!1}=e;const[r,o]=(0,s.useState)([]),[c,h]=(0,s.useState)(!1);(0,s.useEffect)((()=>{m()}),[]);const m=async()=>{try{h(!0);const{data:e}=await(0,ie.Fr)();let t=e.map((e=>({label:e.codeDesc,value:e.codeId})));o(t),h(!1)}catch(e){console.log(e),o([]),h(!1)}};return(0,A.jsx)(D.Z,{loading:c,options:r,placeholder:t,label:l,margin:"mb-0",rules:a,name:i,editMode:n,...d?{onChange:d}:{}})},ut=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.status.placeholder"),label:l=J.ZP.t("translation:default.fields.status.label"),rules:a=[],name:i,editMode:n,margin:d,readOnly:r,disabled:o,mode:c}=e;const[h,m]=(0,s.useState)([]),[u,x]=(0,s.useState)(!1);(0,s.useEffect)((()=>{p()}),[]);const p=async()=>{try{x(!0);const{data:e}=await(0,ie.No)();let t=e.map((e=>({label:e.status,value:e.status})));m(t),x(!1)}catch(e){console.log(e),m([]),x(!1)}};return(0,A.jsx)(D.Z,{loading:u,options:h,placeholder:t,label:l,rules:a,name:i,editMode:n,margin:d,readOnly:r,disabled:o,mode:c})};var xt=l(46091);const pt=e=>{let{columns:t=[],data:l=[],pagination:a=!1,border:s=!0}=e;return(0,A.jsx)(xt.Z,{columns:t,dataSource:l,pagination:a,className:"simple-table",bordered:s})},ft=e=>{let{parentFormRef:t,handleUpdateStatus:l=(()=>{}),selectedShipments:a=[]}=e;const{pathname:n}=(0,i.TH)(),d=(0,s.useMemo)((()=>(0,E.F)(n)),[n]),{t:r}=(0,F.$G)([d,"translation"]),[o,h]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[g,b]=(0,s.useState)(""),[Z]=t?[t]:C.Z.useForm,N=(0,c.I0)(),S=e=>{const t=Z.getFieldsValue();h(!1);let l=a.map((l=>({...l,isDelivered:e?1:0,...t})));w(l)},w=async e=>{let t=[];N((0,lt.ef)(!0));for await(const l of e)try{const{data:e}=await(0,ie.wm)(l);0==e?t.push({shipmentNo:l.shipmentNumber,status:!1,message:r("translation:default.notification.failed")}):1==e&&t.push({shipmentNo:l.shipmentNumber,status:!0,message:r("translation:default.notification.success")})}catch(s){var a;const e=null===s||void 0===s||null===(a=s.response)||void 0===a?void 0:a.data;t.push({shipmentNo:l.shipmentNumber,status:!1,message:e||r("translation:default.notification.failed")})}b(D(t)),u(!0),f().filter(t,{status:!0}).length===t.length?(l(!0),N((0,x.lPN)([])),N((0,x.tQ1)({data:[],progressing:!0})),N((0,x.$oe)())):l(!1),N((0,lt.ef)(!1))},D=e=>{const t=[{title:r("translation:shipmentAdd.vendorDetails.statusMessage"),dataIndex:"shipmentNo",key:"shipmentNo",render:(e,t)=>(0,A.jsx)(y.Z,{className:"".concat(t.status?"text-success":"text-danger"),children:e})},{title:r("translation:default.fields.shipmentNo"),dataIndex:"message",key:"message",render:(e,t)=>(0,A.jsx)("p",{className:"m-0 ".concat(t.status?"text-success":"text-danger"),children:e})}];return(0,A.jsx)(pt,{columns:t,data:e})},k=e=>{j(!1);let t=[];a.forEach((e=>{let{fromShipmentStatus:l,shipmentNumber:a}=e;ct.FM.includes(l)||t.push(a)})),t.length>0?(b("".concat(t.join(", ")," ").concat(r("translation:default.notification.failed"))),u(!0)):S(e)},T=C.Z.useWatch("shipmentStatus",Z);return(0,A.jsxs)(C.Z,{form:Z,onFinish:e=>{if("Closed"===e.shipmentStatus){const e=[...(0,p.uniq)((0,p.map)(a,"fromShipmentStatus")),...ct.TU];if((0,z.bs)(e))return h(!0),!1}else if("Hold"===e.shipmentStatus){const e=[...(0,p.uniq)((0,p.map)(a,"fromShipmentStatus")),...ct.a_];if((0,z.bs)(e))return b(r("translation:shipmentAdd.vendorDetails.alertModalDescription.unableToUpdateShipmentNew")),u(!0),!1}else if("New"===e.shipmentStatus){const e=[...(0,p.uniq)((0,p.map)(a,"fromShipmentStatus")),...ct.YY];if((0,z.bs)(e))return b(r("translation:shipmentAdd.vendorDetails.alertModalDescription.shipmentNoUpdatedNew")),u(!0),!1}else if("Planning"===e.shipmentStatus){const e=[...(0,p.uniq)((0,p.map)(a,"fromShipmentStatus")),...ct.YY];if((0,z.bs)(e))return b(r("translation:shipmentAdd.vendorDetails.alertModalDescription.shipmentNoUpdatedPlanning")),u(!0),!1}else{if("Confirmed"===e.shipmentStatus)return j(!0),!1;if("Auto-Route"===e.shipmentStatus){const e=[...(0,p.uniq)((0,p.map)(a,"fromShipmentStatus")),...ct.bV];if((0,z.bs)(e))return b(r("translation:shipmentAdd.vendorDetails.alertModalDescription.unableToUpdateShipmentAutoRoute")),u(!0),!1}else if("Rate Error"===e.shipmentStatus){const e=[...(0,p.uniq)((0,p.map)(a,"fromShipmentStatus")),...ct.sl];if((0,p.uniq)(e).length>ct.sl.length)return b(r("translation:shipmentAdd.vendorDetails.alertModalDescription.unableToUpdateShipmentRateError")),u(!0),!1}else if("Cancelled"===e.shipmentStatus){const e=[...(0,p.uniq)((0,p.map)(a,"fromShipmentStatus")),...ct.uf];if(!(0,z.bs)(e))return b(r("translation:shipmentAdd.vendorDetails.alertModalDescription.shipmentStatusAutoTendered")),u(!0),!1}}S(0)},children:[(0,A.jsx)(ut,{name:"shipmentStatus",rules:[{required:!0,message:r("translation:default.fields.status.message")}]}),ct.O0.includes(T)&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(mt,{name:"reasonCode",rules:[{required:!0,message:r("translation:default.fields.reason.message")}],onChange:e=>{let{label:t}=e;Z.setFieldsValue({reasonDesc:t})}}),(0,A.jsx)(M.Z,{name:"reasonDesc"})]}),(0,A.jsx)(We.Z,{open:o,onClose:()=>h(!1),description:r("translation:shipmentAdd.vendorDetails.confirmationModal.updateToDelivered"),title:r("translation:shipmentAdd.vendorDetails.confirmationModal.deliveredConfirmation"),okButtonVariant:"primary",okText:r("translation:shipmentAdd.vendorDetails.confirmationModal.okText"),cancelText:r("translation:default.buttons.cancel"),onOk:()=>S(!0),onCancel:()=>S(!1)}),(0,A.jsx)(We.Z,{open:v,onClose:()=>j(!1),description:r("translation:shipmentAdd.vendorDetails.confirmationModal.updateToShipmentAcknowledged"),title:r("translation:shipmentAdd.vendorDetails.confirmationModal.acknowledgedConfirmation"),okButtonVariant:"primary",okText:r("translation:shipmentAdd.vendorDetails.confirmationModal.okText"),cancelText:r("translation:default.buttons.cancel"),onOk:()=>k(!0),onCancel:()=>k(!1)}),(0,A.jsx)(ht.Z,{open:m,description:g,onClose:()=>u(!1),onOk:()=>u(!1)})]})},vt=e=>{let{shipmentList:t,handleShipmentClick:l,onSelect:a,onClickStatusUpdate:n,handleDelete:d,handleLoadMore:r,hasMore:o,selectedShipments:c,handleCopy:h,isLoading:m}=e;const{pathname:u}=(0,i.TH)(),x=(0,s.useMemo)((()=>(0,E.F)(u)),[u]),{t:p}=(0,F.$G)([x,"translation"]),[f,v]=(0,s.useState)(!1),j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1;return t=>{t.preventDefault(),t.stopPropagation(),e()}},g=e=>(0,A.jsx)(it.Z,{items:[{key:"2",label:(0,A.jsx)(B.Z,{placement:"topRight",title:p("translation:default.fields.deleteConfirm.title"),onConfirm:j((()=>d(e))),okText:p("translation:default.options.yes"),cancelText:p("translation:default.buttons.cancel"),overlayClassName:"",children:(0,A.jsx)("a",{onClick:j(),href:!1,children:p("translation:default.buttons.delete")})})},{key:"1",label:(0,A.jsx)("a",{onClick:j((()=>v(e))),children:p("translation:default.buttons.copy")})},{key:"5",label:(0,A.jsx)("a",{className:"single-line",onClick:j((()=>n(e))),children:p("translation:shipment.header.updateShipmentStatus")})}]}),b=e=>{h(f,e),v(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(at.Z,{className:"".concat(t.length>0?"mb-15":"pb-15"," h-100"),loadMore:r,hasMore:o,isLoading:m,isVirtualizationApproach:!0,children:t.map((e=>(0,A.jsx)(tt,{data:e,handleShipmentClick:l,onSelect:a,isSelected:c.includes(e.shipmentKey),getTooltipMenu:g},e.shipmentKey)))}),(0,A.jsx)(We.Z,{onOk:()=>b(1),onCancel:()=>b(0),onClose:()=>v(!1),open:Boolean(f),description:p("translation:shipment.card.description"),title:p("translation:shipment.card.title")})]})},jt=()=>{const[e,t]=(0,s.useState)(!1),[l,a]=(0,s.useState)([]),n=(0,c.I0)(),d=(0,c.v9)((e=>e.shipment.shipmentFilters),c.wU),r=(0,c.v9)((e=>e.shipment.selectedShipments),c.wU),o=(0,c.v9)((e=>e.shipment.shipmentViewMode),c.wU),m=(0,c.v9)((e=>e.shipment.shipmentList)),u=(0,c.v9)((e=>e.auth.selectedCompany.companyId),c.wU),f=(0,c.v9)((e=>e.auth.user.data.id),c.wU),[g]=C.Z.useForm(),{pathname:b}=(0,i.TH)(),y=(0,s.useMemo)((()=>(0,E.F)(b)),[b]),{t:S}=(0,F.$G)([y,"translation"]),w=e=>{n((0,lt.Ll)(e)),n((0,lt.Rb)(!1))},D=(e,t)=>{let l=[...r];if(t){let t=l.indexOf(e);l.splice(t,1)}else l.push(e);n((0,x.lPN)(l))};(0,s.useEffect)((()=>{u&&(n((0,x.lPN)([])),n((0,x.cFm)({...(0,j.Ox)(),PageNumber:1})),n((0,x.tQ1)({data:[],progressing:!0,isFirstTime:!0,totalRecords:0,latedelivery:0,latepickup:0,missingDocument:0,pickupFailed:0,trackingfailures:0})),n((0,h.p2)(u)))}),[u]);const k=()=>{n((0,x.cFm)({...d,PageNumber:d.PageNumber+1})),n((0,x.$oe)())},M=m.success?Math.floor(((null===m||void 0===m?void 0:m.totalRecords)+(d.PageSize-1))/d.PageSize):0,T=e=>{n((0,lt.ef)(!0)),n((0,x.F7r)({ShipmentKeyList:e}))},I=(e,t)=>{const{shipmentNo:l,approvalNumber:a}=(0,p.find)(m.data,{shipmentKey:e}),s={oldShipmentNumber:l,oldApprovalNumber:a,OldShipmentKey:e,UserId:f,InterNationalTransload:t};n((0,lt.ef)(!0)),n((0,x.MCW)(s))},L=e=>{let l=(0,p.filter)(m.data,{shipmentKey:e});l=l.map((e=>{let{shipmentKey:t,shipmentNo:l,status:a,customerKey:s}=e;return{shipmentKey:t,shipmentNumber:l,fromShipmentStatus:a,customerKey:s,userId:f,isDelivered:0}})),a(l),t(!0)},B=o===v.L0.CARD;return(0,A.jsxs)("div",{className:"h-100 pt-15 d-flex flex-direction-column",children:[m.isFirstTime?(0,A.jsx)(ge.Z,{className:"h-100 w-100 mb-15"}):(0,A.jsx)(A.Fragment,{children:B?(0,A.jsx)(A.Fragment,{children:m.data&&m.data.length>0?(0,A.jsx)(vt,{shipmentList:m.data,handleShipmentClick:w,onSelect:D,onClickStatusUpdate:L,handleDelete:T,handleLoadMore:k,hasMore:!m.progressing&&(null===d||void 0===d?void 0:d.PageNumber)<M,selectedShipments:r,handleCopy:I,isLoading:m.progressing}):(0,A.jsx)(A.Fragment,{children:m.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(Z.Z,{className:"mb-15"})})}):(0,A.jsx)(rt,{handleLoadMore:k,isLoading:m.progressing,hasMore:!m.progressing&&(null===d||void 0===d?void 0:d.PageNumber)<M,shipmentList:null===m||void 0===m?void 0:m.data,handleShipmentClick:w,onClickStatusUpdate:L,handleDelete:T,handleCopy:I,onSelect:D,selectedShipments:r})}),(0,A.jsx)(st.Z,{open:e,title:S("translation:shipment.header.commonUpdateModal.title"),okText:S("translation:default.buttons.update"),cancelText:S("translation:default.buttons.cancel"),onCancel:()=>t(!1),onClose:()=>t(!1),onOk:()=>g.submit(),className:"h-50 w-40",children:(0,A.jsx)(ft,{parentFormRef:g,handleUpdateStatus:e=>{e&&t(!1)},selectedShipments:l})})]})},gt=(0,s.memo)(jt);var bt=l(24925),Zt=l(92679),yt=l(77238),Nt=l(57948);const Ct=e=>{let{form:t}=e;const{selectedCompany:l}=(0,c.v9)((e=>e.auth)),a=C.Z.useWatch("CreatedDateFrom",t),n=C.Z.useWatch("CreatedDateTo",t),d=C.Z.useWatch("ExpShipFrom",t),h=C.Z.useWatch("ExpShipTo",t),m=(0,Nt.Z)("ApprovalNumber"),{pathname:u}=(0,i.TH)(),x=(0,s.useMemo)((()=>(0,E.F)(u)),[u]),{t:p}=(0,F.$G)([x,"translation"]);return(0,A.jsxs)(r.Z,{className:"pt-10",children:[(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(k.Z,{editMode:!0,label:p("translation:default.fields.shipmentNumber.placeholder"),placeholder:p("translation:default.fields.shipmentNumber.placeholder"),name:"ShipmentNo",rows:3})}),!0===m&&(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(k.Z,{editMode:!0,label:p("translation:shipment.drawer.header.approvalNumber"),placeholder:p("translation:shipment.drawer.header.approvalNumber"),name:"ApprovalNumber",rows:3})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(ut,{name:"ShipmentStatus",mode:"multiple"})}),(0,A.jsxs)(o.Z,{sm:24,children:[(0,A.jsx)(T.Z,{children:p("translation:default.fields.expectedShipDate.label")}),(0,A.jsxs)(r.Z,{className:"mt-3 align-items-center",gutter:5,children:[(0,A.jsx)(o.Z,{sm:6,className:"text-right",children:(0,A.jsx)(T.Z,{children:p("translation:default.fields.createdOn.placeholder")})}),(0,A.jsx)(o.Z,{sm:18,children:(0,A.jsx)(Zt.Z,{placeholder:p("translation:default.fields.from.label"),margin:"mb-0",name:"ExpShipFrom",disableFuture:!0,disabledTargetDate:h})})]}),(0,A.jsxs)(r.Z,{className:"mt-6 align-items-center",gutter:5,children:[(0,A.jsx)(o.Z,{sm:6,className:"text-right",children:(0,A.jsxs)(T.Z,{children:[p("translation:default.fields.to.label")," :"]})}),(0,A.jsx)(o.Z,{sm:18,children:(0,A.jsx)(Zt.Z,{name:"ExpShipTo",placeholder:p("translation:default.fields.createdOn.placeholder"),margin:"mb-0",disableFuture:!1,disabledTargetDate:d})})]})]}),(0,A.jsxs)(o.Z,{sm:24,className:"my-16",children:[(0,A.jsx)(T.Z,{children:p("translation:default.fields.createdOn.title")}),(0,A.jsxs)(r.Z,{className:"mt-3 align-items-center",gutter:5,children:[(0,A.jsx)(o.Z,{sm:6,className:"text-right",children:(0,A.jsx)(T.Z,{children:p("translation:default.fields.from.label")})}),(0,A.jsx)(o.Z,{sm:18,children:(0,A.jsx)(Zt.Z,{name:"CreatedDateFrom",placeholder:p("translation:default.fields.createdOn.placeholder"),margin:"mb-0",disableFuture:!0,disabledTargetDate:n})})]}),(0,A.jsxs)(r.Z,{className:"mt-6 align-items-center",gutter:5,children:[(0,A.jsx)(o.Z,{sm:6,className:"text-right",children:(0,A.jsxs)(T.Z,{children:[p("translation:default.fields.to.label")," :"]})}),(0,A.jsx)(o.Z,{sm:18,children:(0,A.jsx)(Zt.Z,{name:"CreatedDateTo",placeholder:p("translation:default.fields.createdOn.placeholder"),margin:"mb-0",disableFuture:!1,disabledTargetDate:a})})]})]}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(yt.Z,{name:"ShipmentTerms"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(X.Z,{name:"BranchKey",margin:"m-0",customerId:null===l||void 0===l?void 0:l.companyId,mode:"multiple"})})]})};var St=l(48694),wt=l(76546),Dt=l(14969),kt=l(84123);const Mt=e=>{let{form:t}=e;const{pathname:l}=(0,i.TH)(),a=(0,s.useMemo)((()=>(0,E.F)(l)),[l]),{t:n}=(0,F.$G)([a,"translation"]),d=C.Z.useWatch("createdByType",t);return(0,A.jsxs)(r.Z,{className:"pt-10",children:[(0,A.jsx)(o.Z,{sm:24,className:"mb-16",children:(0,A.jsx)(wt.Z,{name:"CarrierKey",form:t,showPopupFilter:!0})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{placeholder:n("translation:default.fields.purchaseOrderNo"),label:n("translation:default.fields.purchaseOrderNo"),editMode:!0,name:"PoNo"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{placeholder:n("translation:shipment.filter.additionalSearchOptions.salesOrderNo.label"),label:n("translation:shipment.filter.additionalSearchOptions.salesOrderNo.label"),editMode:!0,name:"SoNo"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{placeholder:n("translation:shipment.filter.additionalSearchOptions.masterHouseBill.placeholder"),label:n("translation:shipment.filter.additionalSearchOptions.masterHouseBill.label"),editMode:!0,name:"BolNumber"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{placeholder:n("translation:shipment.filter.additionalSearchOptions.projectNo.placeholder"),label:n("translation:shipment.filter.additionalSearchOptions.projectNo.label"),editMode:!0,name:"ProjectNo"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{placeholder:n("translation:shipment.filter.additionalSearchOptions.quoteNo.placeholder"),label:n("translation:shipment.filter.additionalSearchOptions.quoteNo.label"),editMode:!0,name:"QuoteNo"})}),(0,A.jsxs)(o.Z,{sm:24,children:[(0,A.jsx)(T.Z,{children:n("translation:shipment.drawer.details.createdBy")}),(0,A.jsx)("div",{className:"mb-5",children:(0,A.jsx)(St.Z,{options:[{label:n("translation:default.fields.userName.label"),value:1},{label:n("translation:shipment.filter.additionalSearchOptions.createdBy.radioEmail"),value:2}],label:n("translation:default.fields.userName.label"),name:"createdByType"})}),(0,A.jsx)(Dt.Z,{label:"",createdType:d,name:"createdBy",mode:"multiple"})]}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(kt.Z,{name:"VendorKey"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(_.Z,{name:"CargoType"})})]})};var Tt=l(98346),It=l(95223),Ft=l(38416);const Et=e=>{let{form:t,type:l}=e;const a=1===l?{short:"O",full:"Shipper"}:{short:"C",full:"Consignee"},n=C.Z.useWatch("".concat(a.short,"CountryCode"),t),d=C.Z.useWatch("".concat(a.full,"State"),t),c=e=>{let{countryCode:l,zip:s,state:i,city:n,name:d,shipRecKey:r}=e;t.setFieldsValue({["".concat(a.short,"CountryCode")]:l,["".concat(a.full,"Zip")]:s,["".concat(a.full,"State")]:i,["".concat(a.full,"City")]:n,["".concat(a.full,"Name")]:d,["".concat(a.full,"shipRecKey")]:r})},{pathname:h}=(0,i.TH)(),m=(0,s.useMemo)((()=>(0,E.F)(h)),[h]),{t:u}=(0,F.$G)([m,"translation"]);return(0,A.jsxs)(r.Z,{className:"pt-10",children:[(0,A.jsxs)(o.Z,{sm:24,className:"mb-16",children:[1===l?(0,A.jsx)(It.Z,{label:u("translation:default.fields.companyName.label"),placeholder:u("translation:default.fields.companyName.selectPlaceholder"),form:t,name:"".concat(a.full,"shipRecKey"),onChange:c,tooltip:u("translation:shipment.filter.shipperFiltered")}):(0,A.jsx)(Tt.Z,{label:u("translation:default.fields.companyName.label"),placeholder:u("translation:default.fields.companyName.selectPlaceholder"),form:t,name:"".concat(a.full,"shipRecKey"),onChange:c,tooltip:u("translation:shipment.filter.consigneeFiltered")}),(0,A.jsx)(w.Z,{className:"d-none",name:"".concat(a.full,"Name")})]}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(W.Z,{name:"".concat(a.short,"CountryCode")})}),(0,A.jsx)(o.Z,{sm:24,className:"mb-16",children:(0,A.jsx)(Q.Z,{editMode:!0,label:u("translation:default.fields.postalCode.label"),placeholder:u("translation:default.fields.postalCode.label"),margin:"mb-0",name:"".concat(a.full,"Zip"),handleZipDetails:e=>{let{city:l,state:s}=e;t.setFieldsValue((0,z.Hk)({["".concat(a.full,"City}")]:l,["".concat(a.full,"State")]:s}))},countryCode:n})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(le.Z,{name:"".concat(a.full,"State"),countryCode:n})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(Ft.Z,{countryCode:n,stateCode:d,name:"".concat(a.full,"City}")})})]})},{Panel:At}=bt.default,Lt=e=>{let{form:t}=e;const[l,a]=(0,s.useState)("1"),{pathname:n}=(0,i.TH)(),d=(0,s.useMemo)((()=>(0,E.F)(n)),[n]),{t:r}=(0,F.$G)([d,"translation"]);return(0,A.jsxs)(bt.default,{ghost:!0,className:"filter-collapse-container px-16",activeKey:l,onChange:e=>{e&&e[1]?a(e[1]):a("")},children:[(0,A.jsx)(At,{header:r("translation:shipment.filter.titles.shipmentSearch"),children:(0,A.jsx)(Ct,{form:t})},"1"),(0,A.jsx)(At,{header:r("translation:shipment.filter.titles.additional"),children:(0,A.jsx)(Mt,{form:t})},"2"),(0,A.jsx)(At,{header:r("translation:default.fields.shipper"),children:(0,A.jsx)(Et,{type:1,form:t})},"3"),(0,A.jsx)(At,{header:r("translation:default.fields.consignee"),children:(0,A.jsx)(Et,{type:2,form:t})},"4")]})},Bt=()=>{const{pathname:e}=(0,i.TH)(),t=(0,s.useMemo)((()=>(0,E.F)(e)),[e]),{t:l}=(0,F.$G)([t,"translation"]),[a]=C.Z.useForm(),n=(0,c.I0)(),d=(0,c.v9)((e=>e.shipment.shipmentFilters),c.wU);(0,s.useEffect)((()=>{if(d){var e,t,l;let s=(0,p.clone)(d);for(const e in s)ct.XC.includes(e)&&(s[e]?s[e]=Ye()(s[e]):s[e]="");s.ShipmentStatus=null!==s&&void 0!==s&&s.ShipmentStatus?null===s||void 0===s||null===(e=s.ShipmentStatus)||void 0===e?void 0:e.split(","):[],s.BranchKey=null!==s&&void 0!==s&&s.BranchKey?null===s||void 0===s||null===(t=s.BranchKey)||void 0===t?void 0:t.split(","):[],s.BranchKey=s.BranchKey.map((e=>Number(e))),s.createdBy=null!==s&&void 0!==s&&s.createdBy?null===s||void 0===s||null===(l=s.createdBy)||void 0===l?void 0:l.split(","):[],s.createdBy=s.createdBy.map((e=>Number(e))),a.setFieldsValue(s)}}),[d]);return(0,A.jsxs)("div",{className:"d-flex flex-direction-column overflow-hidden h-100 br-4",children:[(0,A.jsx)("div",{className:"custom-scroll-bar overflow-x-hidden mb-15 flex-1",children:(0,A.jsx)(C.Z,{onFinish:e=>{var t,l,a,s;e=(0,p.clone)({...(0,j.Ox)(),...e});for(const i in e)ct.XC.includes(i)&&e[i]?e[i]=e[i].format(v.K_):e[i]||(e[i]="");e.ShipmentStatus=null===(t=e)||void 0===t||null===(l=t.ShipmentStatus)||void 0===l?void 0:l.join(","),e.BranchKey=null===(a=e)||void 0===a||null===(s=a.BranchKey)||void 0===s?void 0:s.join(","),e.createdBy="object"===typeof e.createdBy?(0,z.Fx)(e.createdBy.join(",")):"",n((0,x.tQ1)({data:[],progressing:!0,totalRecords:0,latedelivery:0,latepickup:0,missingDocument:0,pickupFailed:0,trackingfailures:0,isFirstTime:!1})),n((0,x.cFm)({...e,PageNumber:1})),n((0,x.$oe)())},form:a,initialValues:{createdByType:1},children:(0,A.jsx)(Lt,{form:a})})}),(0,A.jsxs)(r.Z,{className:"px-15",gutter:15,children:[(0,A.jsx)(o.Z,{sm:24,md:12,children:(0,A.jsx)(g.Z,{fullWidth:!0,type:"default",onClick:()=>{a.resetFields(),a.setFieldsValue({CreatedDateFrom:Ye()(new Date).subtract(1,"months"),CreatedDateTo:Ye()(new Date),ShipmentTerms:""})},buttonType:"button",id:"shipment-filter-clear",children:l("translation:default.buttons.clear")})}),(0,A.jsx)(o.Z,{sm:24,md:12,children:(0,A.jsx)(g.Z,{fullWidth:!0,type:"primary",onClick:()=>a.submit(),buttonType:"submit",id:"shipment-filter-search",children:l("translation:default.buttons.search")})})]})]})};var Pt=l(88465),Ot=l(74057),Rt=l(43504),Kt=l(88916),Vt=l(23229),Ut=l(84763),Gt=l.n(Ut),Ht=l(25498),qt=l.n(Ht);l(64802);const Yt=e=>{let{data:t}=e;const{t:l}=(0,F.$G)(),a=Vt.mM.create({page:{ontFamily:"Open Sans",flexDirection:"column",display:"flex",height:"auto",padding:5},container:{flexDirection:"column",display:"flex",width:"50%",height:"auto",overflow:"hidden"},section:{paddingBottom:5,marginHorizontal:10,marginBottom:10,borderBottom:"3px solid #3c4b64"},header:{fontFamily:"Open Sans",fontSize:10,fontWeight:"900"},label:{fontFamily:"Open Sans",fontSize:10,fontWeight:"400"},labelBold:{fontFamily:"Open Sans",fontSize:10,fontWeight:"700"},section2:{marginHorizontal:10,flexDirection:"row",display:"flex",justifyContent:"space-between",flexWrap:"nowrap"},section3:{display:"flex",flexDirection:"row",flexWrap:"nowrap"},boxLabelContainer:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center"},boxLabel:{border:"1px solid black",borderRadius:2,padding:5},table:{display:"table",width:"80%"},tableRow:{display:"flex",flexDirection:"row",width:"100%",marginVertical:1},tableCol1:{width:"45%"},tableCol2:{width:"55%"},imageSection:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:50},image:{width:"50%"}});return(0,A.jsx)(Vt.BB,{children:(0,A.jsx)(Vt.T3,{size:"A4",style:a.page,children:(0,A.jsxs)(Vt.G7,{style:a.container,children:[(0,A.jsxs)(Vt.G7,{style:a.section,children:[(0,A.jsx)(Vt.xv,{style:a.header,children:null===t||void 0===t?void 0:t.shipperName}),(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.shipperAddress1}),(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.shipperAddress2}),(null===t||void 0===t?void 0:t.shipperPhone)&&(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.shipperPhone})]}),(0,A.jsxs)(Vt.G7,{style:a.section,children:[(0,A.jsx)(Vt.xv,{style:a.header,children:null===t||void 0===t?void 0:t.consigneeName}),(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.consigneeAddress1}),(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.consigneeAddress2}),(null===t||void 0===t?void 0:t.consigneePhone)&&(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.consigneePhone})]}),(0,A.jsxs)(Vt.G7,{style:a.section2,children:[(0,A.jsx)(Vt.G7,{style:a.section3,children:(0,A.jsxs)(Vt.G7,{style:a.table,children:[(0,A.jsxs)(Vt.G7,{style:a.tableRow,children:[(0,A.jsx)(Vt.G7,{style:a.tableCol1,children:(0,A.jsx)(Vt.xv,{style:a.labelBold,children:"".concat(l("translation:default.fields.carrier")," : ")})}),(0,A.jsx)(Vt.G7,{style:a.tableCol2,children:(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.carrierName})})]}),(0,A.jsxs)(Vt.G7,{style:a.tableRow,children:[(0,A.jsx)(Vt.G7,{style:a.tableCol1,children:(0,A.jsx)(Vt.xv,{style:a.label,children:"Service Level : "})}),(0,A.jsx)(Vt.G7,{style:a.tableCol2,children:(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.serviceLevel})})]}),(0,A.jsxs)(Vt.G7,{style:a.tableRow,children:[(0,A.jsx)(Vt.G7,{style:a.tableCol1,children:(0,A.jsx)(Vt.xv,{style:a.label,children:"".concat(l("translation:shipment.bolNo")," : ")})}),(0,A.jsx)(Vt.G7,{style:a.tableCol2,children:(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.bolNumber})})]}),(0,A.jsxs)(Vt.G7,{style:a.tableRow,children:[(0,A.jsx)(Vt.G7,{style:a.tableCol1,children:(0,A.jsx)(Vt.xv,{style:a.label,children:"".concat(l("translation:shipment.bolNo")," : ")})}),(0,A.jsx)(Vt.G7,{style:a.tableCol2,children:(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.bolNumber})})]}),(0,A.jsxs)(Vt.G7,{style:a.tableRow,children:[(0,A.jsx)(Vt.G7,{style:a.tableCol1,children:(0,A.jsx)(Vt.xv,{style:a.label,children:"".concat(l("translation:shipment.proNo")," : ")})}),(0,A.jsx)(Vt.G7,{style:a.tableCol2,children:(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.proNo})})]}),(0,A.jsxs)(Vt.G7,{style:a.tableRow,children:[(0,A.jsx)(Vt.G7,{style:a.tableCol1,children:(0,A.jsx)(Vt.xv,{style:a.label,children:"".concat(l("translation:shipment.poNo")," : ")})}),(0,A.jsx)(Vt.G7,{style:a.tableCol2,children:(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.purchaseOrderNumber})})]}),(0,A.jsxs)(Vt.G7,{style:a.tableRow,children:[(0,A.jsx)(Vt.G7,{style:a.tableCol1,children:(0,A.jsx)(Vt.xv,{style:a.label,children:"".concat(l("translation:shipment.soNo")," : ")})}),(0,A.jsx)(Vt.G7,{style:a.tableCol2,children:(0,A.jsx)(Vt.xv,{style:a.label,children:null===t||void 0===t?void 0:t.salesOrderNumber})})]})]})}),(0,A.jsx)(Vt.G7,{style:a.boxLabelContainer,children:(0,A.jsxs)(Vt.G7,{style:a.boxLabel,children:[(0,A.jsx)(Vt.xv,{style:a.label,children:l("translation:shipment.pallet")}),(0,A.jsxs)(Vt.xv,{style:a.label,children:["1 ",l("translation:shipment.of")," _"]})]})})]}),(0,A.jsx)(Vt.G7,{style:a.imageSection,children:(0,A.jsx)(Vt.G7,{style:a.image,children:(0,A.jsx)(Vt.Ee,{src:null===t||void 0===t?void 0:t.barCodeImage})})})]})})})};var zt=l(58034);const _t=e=>{let{formName:t,priorityOptions:l,selected:a,handleSelect:n,selectedPrioritiesValues:d=[]}=e;const{pathname:c}=(0,i.TH)(),h=(0,s.useMemo)((()=>(0,E.F)(c)),[c]),{t:m}=(0,F.$G)([h,"translation"]);return(0,A.jsxs)(b.Z,{className:"mb-15",showBorder:!0,customHeader:(0,A.jsx)("div",{className:"w-100",children:(0,A.jsxs)(r.Z,{justify:"space-between",align:"middle",gutter:30,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(w.Z,{name:[t,"name"],singleLineMode:!0,label:m("translation:shipment.approverName"),margin:"m-0",editMode:!1,colon:!0})}),(0,A.jsxs)(o.Z,{children:[(0,A.jsx)(g.Z,{buttonType:"button",onClick:()=>n(!a,t),variant:a?"success":"primary",children:m(a?"translation:notificationSettings.routingContainer.selected":"translation:default.buttons.select")}),(0,A.jsx)(M.Z,{name:[t,"selected"]})]})]})}),children:[(0,A.jsx)("div",{className:"px-15 pt-5 pb-10",children:(0,A.jsxs)(r.Z,{gutter:30,children:[(0,A.jsx)(o.Z,{sm:24,md:12,children:(0,A.jsx)(w.Z,{name:[t,"loginId"],label:m("translation:shipment.approverEmail"),margin:"m-0",editMode:!1})}),(0,A.jsx)(o.Z,{sm:24,md:12,children:(0,A.jsx)(D.Z,{name:[t,"selectedPriority"],label:m("translation:shipment.priority.label"),placeholder:m("translation:shipment.priority.placeholder"),margin:"m-0",editMode:Boolean(a),options:l,rules:[{required:a,message:m("translation:shipment.priority.message")},{validator(e,t){var l;return a&&(null===(l=(0,p.filter)(d,(e=>{let{selected:l,priority:a}=e;return a==t&&l})))||void 0===l?void 0:l.length)>1?Promise.reject(m("translation:shipment.priority.error")):Promise.resolve()}}]})})]})}),(0,A.jsx)(M.Z,{name:[t,"userId"]})]})};var Wt=l(9281);const $t=e=>{var t,l;let{setApprovalModalOpen:a,cargoType:n}=e;const[d]=C.Z.useForm(),h=(0,c.I0)(),{pathname:m}=(0,i.TH)(),u=(0,s.useMemo)((()=>(0,E.F)(m)),[m]),{t:f}=(0,F.$G)([u,"translation"]),v=(0,c.v9)((e=>{var t;return null===e||void 0===e||null===(t=e.shipment)||void 0===t?void 0:t.validateAndApprovers})),[j,b]=(0,s.useState)(1),[Z,N]=(0,s.useState)(10),D=(0,s.useMemo)((()=>{var e,t;return null!==v&&void 0!==v&&null!==(e=v.data)&&void 0!==e&&e.approvalList?null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.approvalList:[]}),[v]);(0,s.useEffect)((()=>{const e=D.slice(j-1,j*Z);d.setFieldValue("approvers",e)}),[null===D||void 0===D?void 0:D.length]);const k=C.Z.useWatch("approvers",d),M=(e,t)=>{let l=(0,p.cloneDeep)(k);l[t].selected=e,e||(l[t].selectedPriority=void 0),d.setFieldsValue({approvers:l})},T=(0,s.useMemo)((()=>k?(0,p.filter)(null===k||void 0===k?void 0:k.map((e=>{let{selectedPriority:t,selected:l}=e;return{selectedPriority:t,selected:l}})),(e=>{let{selectedPriority:t}=e;return t>0})):[]),[k]);(0,s.useEffect)((()=>{d.validateFields()}),[T]);const I=(0,s.useMemo)((()=>k?(0,p.filter)(k,(e=>{let{selected:t}=e;return t})):[]),[k]),L=C.Z.useWatch("searchEmail",d),[B]=(0,Wt.Nr)(L,1e3);(0,s.useEffect)((()=>{P(B)}),[B]);const P=e=>{let t=D?(0,p.cloneDeep)(D):[];if(k&&(null===k||void 0===k?void 0:k.length)>0&&t&&(null===t||void 0===t?void 0:t.length)>0){k.forEach((e=>{var l=(0,p.findIndex)(t,{loginId:e.loginId});t.splice(l,1,e)}));const l=(0,p.filter)(t,(t=>{let{loginId:l}=t;return String(e||"").length>0&&(null===l||void 0===l?void 0:l.includes(e))})),a=(0,p.filter)(t,(e=>{let{selected:t}=e;return t}));let s=[...a,...l,...t];s=(0,p.uniqBy)(s,(e=>{let{loginId:t}=e;return t})),(0,x.x9u)(s);const i=Math.ceil(a.length/Z)+1;b(i),d.setFieldValue("approvers",s.slice(0,i*Z))}},O=(0,s.useMemo)((()=>{var e,t;let l=[];const a=isNaN(parseInt(null===v||void 0===v||null===(e=v.data)||void 0===e?void 0:e.numberOfApprover))?0:parseInt(null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.numberOfApprover);for(let s=1;s<=a;s++)l.push({value:s,label:s});return(0,p.filter)(l,(e=>{let{value:t}=e;return-1===(0,p.findIndex)(k,(e=>{let{selectedPriority:l}=e;return l==t}))}))}),[null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.numberOfApprover,k]);return(0,A.jsxs)(C.Z,{form:d,onFinish:e=>{var t;const l=(0,p.filter)(null!==e&&void 0!==e&&e.approvers?null===e||void 0===e?void 0:e.approvers:[],(e=>{let{selected:t}=e;return Boolean(t)}));if(l.length>=(null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.numberOfApprover)){let t={handleSuccess:()=>{a(!1)},approversList:[],isFlagApprovalNeeded:null!==e&&void 0!==e&&e.isFlagApprovalNeeded?0:1};t.approversList=null===l||void 0===l?void 0:l.map((e=>{let{selectedPriority:t,userId:l,loginId:a,name:s}=e;return{selectedPriority:t,userId:l,loginId:a,name:s}})),h((0,x.K48)(t))}else{var s;h((0,lt.d7)({open:!0,description:"".concat(f("translation:shipment.pleaseSelect")," ").concat(null===v||void 0===v||null===(s=v.data)||void 0===s?void 0:s.numberOfApprover," ").concat(f("translation:shipment.approvers"),"!")}))}},initialValues:{approvers:[]},className:"h-100 overflow-hidden d-flex flex-direction-column ",children:[(0,A.jsxs)(r.Z,{className:"px-30",gutter:30,align:"bottom",children:[(0,A.jsx)(o.Z,{sm:24,md:8,children:(0,A.jsx)(w.Z,{label:f("translation:shipment.searchEmail"),placeholder:"".concat(f("translation:shipment.searchByEmail"),"..."),name:"searchEmail",editMode:!0,margin:"m-0"})}),(0,A.jsx)(S.Z,{disabled:"AIR"===String(n).toUpperCase().trim(),checkBoxClass:"normal-checkbox",className:" m-0",name:"isFlagApprovalNeeded",label:f("translation:shipment.shipmentRequire")})]}),(0,A.jsx)(Oe.Z,{className:"my-15"}),(0,A.jsxs)(r.Z,{className:"px-30",justify:"space-between",align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{children:f("translation:shipment.approversList")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(G.Z,{className:"f-16 text-warning fw-600",children:null===v||void 0===v||null===(l=v.data)||void 0===l?void 0:l.message})})]}),(0,A.jsx)(Oe.Z,{className:"my-15"}),(0,A.jsx)(at.Z,{className:"px-30 flex-1 ",loadMore:()=>{const e=j+1,t=D.slice(e-1,e*Z);d.setFieldValue("approvers",[...k,...t]),b(e)},isLoading:null===v||void 0===v?void 0:v.progressing,hasMore:(null===v||void 0===v||!v.progressing)&&j<Math.ceil((null===D||void 0===D?void 0:D.length)/Z),scrollOffset:10,children:(0,A.jsx)(C.Z.List,{name:"approvers",children:e=>(0,A.jsx)(s.Fragment,{children:e.map((e=>{var t;let{name:l}=e;return(0,A.jsx)(_t,{selected:null===(t=k[l])||void 0===t?void 0:t.selected,formName:l,handleSelect:M,priorityOptions:O,selectedPrioritiesValues:T},l)}))})})}),(0,A.jsxs)("div",{className:"mt-15 px-30",children:[(0,A.jsx)(g.Z,{className:"float-right",type:"default",variant:"danger",onClick:()=>a(!1),children:f("translation:default.buttons.cancel")}),(0,A.jsx)(g.Z,{className:"float-right mr-15",buttonType:"submit",variant:"success",disabled:0===(null===I||void 0===I?void 0:I.length),children:f("translation:shipment.sendApprovalRequest")})]})]})};var Qt=l(58458);const Xt=e=>{let{shipmentDetails:t,productList:l=[]}=e;const{t:a}=(0,F.$G)(["translation"]),{origin:i,destination:n}=(0,s.useMemo)((()=>{let e={origin:{},destination:{}};return null!==t&&void 0!==t&&t.transportationList&&(e.origin=(0,p.orderBy)((0,p.filter)(null===t||void 0===t?void 0:t.transportationList,{stopType:"1"}),["displaySequence"],["asc"])[0],e.destination=(0,p.orderBy)((0,p.filter)(null===t||void 0===t?void 0:t.transportationList,{stopType:"2"}),["displaySequence"],["asc"])[0]),e}),[null===t||void 0===t?void 0:t.transportationList]);return(0,A.jsx)(Vt.BB,{onContextMenu:e=>e.preventDefault(),children:(0,A.jsx)(Qt.SI,{children:(0,A.jsxs)(Vt.G7,{style:{flex:1},children:[(0,A.jsx)(Qt.mc,{style:Jt.headerRow,children:(0,A.jsx)(Vt.G7,{children:(0,A.jsx)(Qt.Yr,{style:Jt.title,children:a("translation:shipment.cooPdf.certificationOfOrigin")})})}),(0,A.jsx)(Qt.Ef,{style:{...Qt.II.borderTop,...Qt.II.borderLeft},children:(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{width:"75%",padding:0,children:(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.mc,{direction:"column",style:{height:"100%"},justify:"space-around",children:[(0,A.jsx)(Vt.G7,{style:{paddingHorizontal:3,flex:1},children:(0,A.jsx)(Qt.mc,{style:{height:"100%"},align:"center",children:(0,A.jsxs)(Qt.Yr,{style:Jt.text,children:["1. ",a("translation:shipment.cooPdf.certificateType")]})})}),(0,A.jsx)(Vt.G7,{style:{width:"100%",height:0,...Qt.II.borderTop}}),(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.mc,{style:{height:"100%"},children:[(0,A.jsx)(Vt.G7,{style:{flex:1,height:"100%",...Qt.II.borderRight}}),(0,A.jsx)(Vt.G7,{style:{flex:1,...Qt.II.borderRight,paddingHorizontal:3},children:(0,A.jsx)(Qt.mc,{align:"center",style:{height:"100%"},children:(0,A.jsx)(Qt.Yr,{style:Jt.text,children:a("translation:shipment.cooPdf.importer")})})}),(0,A.jsx)(Vt.G7,{style:{flex:1,height:"100%",...Qt.II.borderRight}}),(0,A.jsx)(Vt.G7,{style:{flex:1,...Qt.II.borderRight,paddingHorizontal:3},children:(0,A.jsx)(Qt.mc,{align:"center",style:{height:"100%"},children:(0,A.jsx)(Qt.Yr,{style:Jt.text,children:a("translation:shipment.cooPdf.exporter")})})}),(0,A.jsx)(Vt.G7,{style:{flex:1,height:"100%",...Qt.II.borderRight}}),(0,A.jsx)(Vt.G7,{style:{flex:1,paddingHorizontal:3},children:(0,A.jsx)(Qt.mc,{align:"center",style:{height:"100%"},children:(0,A.jsx)(Qt.Yr,{style:Jt.text,children:a("translation:shipment.cooPdf.producer")})})})]})})]})})}),(0,A.jsx)(Qt.GA,{width:"10%",children:(0,A.jsx)(Qt.Yr,{style:Jt.text,children:a("translation:shipment.cooPdf.blanketPeriod")})}),(0,A.jsx)(Qt.GA,{padding:0,width:"10%",style:{},children:(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.mc,{direction:"column",style:{height:"100%"},justify:"space-around",children:[(0,A.jsx)(Vt.G7,{style:{paddingHorizontal:3},children:(0,A.jsx)(Qt.Yr,{style:Jt.text,children:String(a("translation:default.fields.from.label")).toUpperCase()})}),(0,A.jsx)(Vt.G7,{style:{width:"100%",height:0,...Qt.II.borderTop}}),(0,A.jsx)(Vt.G7,{style:{paddingHorizontal:3},children:(0,A.jsx)(Qt.Yr,{style:Jt.text,children:String(a("translation:default.fields.to.label")).toUpperCase()})})]})})}),(0,A.jsx)(Qt.GA,{padding:0,width:"10%",children:(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsx)(Qt.mc,{direction:"column",style:{height:"100%"},justify:"space-around",children:(0,A.jsx)(Vt.G7,{style:{width:"100%",height:0,...Qt.II.borderTop}})})})})]})}),(0,A.jsx)(Qt.Ef,{style:{...Qt.II.borderTop,...Qt.II.borderLeft,marginTop:1},children:(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{width:"51%",children:(0,A.jsxs)(Vt.G7,{style:{paddingVertical:5},children:[(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[a("translation:shipment.cooPdf.certifierSectionDetails"),":"]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.name").toUpperCase()),":"]}),(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,marginBottom:10},children:[String(a("translation:default.fields.address.label")).toUpperCase(),":"]}),(0,A.jsxs)(Qt.mc,{children:[(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.country.label")).toUpperCase(),":"]})}),(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.phone").toUpperCase()),":"]})})]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.email").toUpperCase()),":"]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[a("translation:shipment.cooPdf.taxIdentificationNumber"),":"]})]})}),(0,A.jsx)(Qt.GA,{width:"51%",children:(0,A.jsxs)(Vt.G7,{style:{paddingVertical:5},children:[(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[a("translation:shipment.cooPdf.exporterSectionDetails"),":"]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.name").toUpperCase()),": ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===i||void 0===i?void 0:i.name})]}),(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,marginBottom:10},children:[String(a("translation:default.fields.address.label")).toUpperCase(),": ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===i||void 0===i?void 0:i.address1})]}),(0,A.jsxs)(Qt.mc,{children:[(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.country.label")).toUpperCase(),":"," ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===i||void 0===i?void 0:i.countryName})]})}),(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.phone").toUpperCase()),": ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===i||void 0===i?void 0:i.phone})]})})]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.email").toUpperCase()),":"," ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===i||void 0===i?void 0:i.contactEmail})]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[a("translation:shipment.cooPdf.taxIdentificationNumber"),":"," ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===i||void 0===i?void 0:i.taxId})]})]})})]})}),(0,A.jsx)(Qt.Ef,{style:{...Qt.II.borderLeft},children:(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{width:"51%",children:(0,A.jsxs)(Vt.G7,{style:{paddingVertical:5},children:[(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[a("translation:shipment.cooPdf.producerSectionDetails"),":"]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.name").toUpperCase()),":"]}),(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,marginBottom:10},children:[String(a("translation:default.fields.address.label")).toUpperCase(),":"]}),(0,A.jsxs)(Qt.mc,{children:[(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.country.label")).toUpperCase(),":"]})}),(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.phone").toUpperCase()),":"]})})]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.email").toUpperCase()),":"]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[a("translation:shipment.cooPdf.taxIdentificationNumber"),":"]})]})}),(0,A.jsx)(Qt.GA,{width:"51%",children:(0,A.jsxs)(Vt.G7,{style:{paddingVertical:5},children:[(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[a("translation:shipment.cooPdf.importerSectionDetails"),":"]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.name").toUpperCase()),": ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===n||void 0===n?void 0:n.name})]}),(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,marginBottom:10},children:[String(a("translation:default.fields.address.label")).toUpperCase(),":"," ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===n||void 0===n?void 0:n.address1})]}),(0,A.jsxs)(Qt.mc,{children:[(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.country.label")).toUpperCase(),":"," ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===n||void 0===n?void 0:n.countryName})]})}),(0,A.jsx)(Vt.G7,{style:{flex:1},children:(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.phone").toUpperCase()),":"," ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===n||void 0===n?void 0:n.phone})]})})]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[String(a("translation:default.fields.email").toUpperCase()),":"," ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===n||void 0===n?void 0:n.contactEmail})]}),(0,A.jsxs)(Qt.Yr,{style:Jt.headerText,children:[a("translation:shipment.cooPdf.taxIdentificationNumber"),":"," ",(0,A.jsx)(Qt.Yr,{style:Jt.text,children:null===n||void 0===n?void 0:n.taxId})]})]})})]})}),(0,A.jsxs)(Qt.Ef,{style:{...Qt.II.borderTop,...Qt.II.borderLeft,marginTop:1},children:[(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{width:"30%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,textAlign:"center"},children:["6.","\n",a("translation:shipment.cooPdf.descriptionOfGoods")]})}),(0,A.jsx)(Qt.GA,{width:"14%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,textAlign:"center"},children:["7.","\n",String(a("translation:default.fields.hts").toUpperCase())]})}),(0,A.jsx)(Qt.GA,{width:"14%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,textAlign:"center"},children:["8.","\n",a("translation:shipment.cooPdf.originCriterion")]})}),(0,A.jsx)(Qt.GA,{width:"14%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,textAlign:"center"},children:["9.","\n",a("translation:shipment.cooPdf.producerYesNo")]})}),(0,A.jsx)(Qt.GA,{width:"15%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,textAlign:"center"},children:["10.","\n",a("translation:shipment.cooPdf.methodOfQualification")]})}),(0,A.jsx)(Qt.GA,{width:"14%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.headerText,textAlign:"center"},children:["11.","\n",a("translation:shipment.cooPdf.cointryOfOrigin")]})})]}),l.map(((e,t)=>(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{width:"30%",style:Jt.header,children:(0,A.jsx)(Qt.Yr,{style:{...Jt.text,textAlign:"center"},children:e.productDescription})}),(0,A.jsx)(Qt.GA,{width:"14%",style:Jt.header,children:(0,A.jsx)(Qt.Yr,{style:{...Jt.text,textAlign:"center"},children:e.hts})}),(0,A.jsx)(Qt.GA,{width:"14%",style:Jt.header,children:(0,A.jsx)(Qt.Yr,{style:{...Jt.text,textAlign:"center"}})}),(0,A.jsx)(Qt.GA,{width:"14%",style:Jt.header,children:(0,A.jsx)(Qt.Yr,{style:{...Jt.text,textAlign:"center"}})}),(0,A.jsx)(Qt.GA,{width:"15%",style:Jt.header,children:(0,A.jsx)(Qt.Yr,{style:{...Jt.text,textAlign:"center"}})}),(0,A.jsx)(Qt.GA,{width:"14%",style:Jt.header,children:(0,A.jsx)(Qt.Yr,{style:{...Jt.text,textAlign:"center"},children:e.countryOfOrigin})})]},t)))]}),(0,A.jsx)(Vt.G7,{style:{paddingVertical:2},children:(0,A.jsx)(Qt.Yr,{style:Jt.text,children:a("translation:shipment.cooPdf.certificateAssuranceDescription")})}),(0,A.jsx)(Vt.G7,{style:{paddingVertical:2},children:(0,A.jsx)(Qt.Yr,{style:Jt.text,children:a("translation:shipment.cooPdf.certificateAttachmentDescription")})}),(0,A.jsx)(Qt.Ef,{style:{...Qt.II.borderTop,...Qt.II.borderLeft,marginTop:1},children:(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{style:Jt.header,children:(0,A.jsx)(Qt.Yr,{style:{...Jt.text,paddingRight:1},children:"12."})}),(0,A.jsx)(Qt.GA,{borderRight:!1,borderBottom:!1,padding:0,style:{flex:1},children:(0,A.jsxs)(Qt.Ef,{children:[(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{width:"51%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.text,paddingRight:1},children:["12a."," ",String(a("translation:default.fields.authorisedSignature")).toUpperCase()]})}),(0,A.jsx)(Qt.GA,{width:"51%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.text,paddingRight:1},children:["12b."," ",String(a("translation:default.fields.company")).toUpperCase()]})})]}),(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{width:"51%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.text,paddingRight:1},children:["12c."," ",String(a("translation:default.fields.name")).toUpperCase()]})}),(0,A.jsx)(Qt.GA,{width:"51%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.text,paddingRight:1},children:["12d."," ",String(a("translation:default.fields.title")).toUpperCase()]})})]}),(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{borderRight:!1,borderBottom:!1,padding:0,width:"51%",children:(0,A.jsxs)(Qt.NT,{children:[(0,A.jsx)(Qt.GA,{width:"51%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.text,paddingRight:1},children:["12e."," ",a("translation:shipment.cooPdf.dateWithFormat")]})}),(0,A.jsx)(Qt.GA,{width:"51%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.text,paddingRight:1},children:["12f."," ",a("translation:default.fields.telephoneNumber")]})})]})}),(0,A.jsx)(Qt.GA,{width:"51%",style:Jt.header,children:(0,A.jsxs)(Qt.Yr,{style:{...Jt.text,paddingRight:1},children:["12g."," ",String(a("translation:default.fields.email").toUpperCase())]})})]})]})})]})}),(0,A.jsx)(Vt.G7,{style:{paddingVertical:2},children:(0,A.jsxs)(Qt.Yr,{style:Jt.text,children:["*"," ",String(a("translation:shipment.cooPdf.documentCompliantDescription").toUpperCase())]})})]})})})},Jt=Vt.mM.create({header:{paddingHorizontal:10,paddingVertical:2},title:{fontSize:12,fontWeight:"700"},headerRow:{justifyContent:"center",alignItems:"center"},text:{fontSize:8},headerText:{fontSize:8,fontWeight:600}});var el=l(11499);const tl=(0,s.forwardRef)(((e,t)=>{let{value:l}=e;const a=(0,s.useRef)();return(0,s.useEffect)((()=>{if(a){const e=document.querySelector("#barCode div"),l=()=>new Promise((async(t,l)=>{try{let l=await qt()(e,{});t(l.toDataURL("image/png"))}catch(a){l(a)}}));e&&(t.current={generateBarCode:l})}}),[a,l,t]),(0,A.jsx)("div",{id:"barCode",className:"text-center d-flex justify-content-center barcode-container",children:(0,A.jsx)("div",{children:(0,A.jsx)(Gt(),{ref:a,height:40,width:3,displayValue:!1,value:l})})})})),ll=()=>{const e=(0,c.I0)(),[t,l]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!1),d=(0,c.v9)((e=>e.shipment.shipmentDetails.data),c.wU),{shipmentNo:h,approvalNumber:m,shipmentKey:u,incoCode:p,bolNumber:f,status:b,cargoType:Z,carrierName:C,rateShopCost:S,currencyCode:w,quoteNo:D,carrierShortName:k,customerKey:M,additionalDetails:{proNo:T,trailerNumber:I,isMasterShipment:L,isChildShipment:B}}=d.shipmentKey?d:{additionalDetails:{}},{pathname:P}=(0,i.TH)(),O=(0,s.useMemo)((()=>(0,E.F)(P)),[P]),{t:R}=(0,F.$G)([O,"translation"]),K=(0,Nt.Z)("ApprovalNumber"),V=(0,z.Az)(b),U=t=>{n(!1);const l={CustomerKey:M,oldShipmentNumber:h,oldApprovalNumber:m,OldShipmentKey:u,InterNationalTransload:t};e((0,lt.ef)(!0)),e((0,x.MCW)(l))};return(0,A.jsxs)(s.Fragment,{children:[(0,A.jsxs)(r.Z,{justify:"space-between",className:"align-items-center",children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{gutter:30,children:["Quote"===b?(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:default.fields.quoteNumber"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:D})})}):(0,A.jsx)(A.Fragment,{children:(0,z.I3)(m,b)?(0,A.jsx)(A.Fragment,{}):(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:default.fields.shipmentNumber.label"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:h})})})}),(0,z.Fx)(m)&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:shipment.drawer.header.approvalNumber"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:m})})}),L||B?(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:shipment.drawer.header.masterChildShipments"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:R(L?"translation:shipment.drawer.header.mastShipment":"translation:shipment.drawer.header.childShipment")})})}):(0,A.jsx)(A.Fragment,{}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:shipment.drawer.header.inconterm"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:p})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:shipment.drawer.header.houseBillOfLading"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:f})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:default.fields.status.label"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:b})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:shipment.drawer.header.freightBillProNumber"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:T})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:default.fields.containerNumber.label"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:I})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:default.fields.transportationProvider.label"),children:(0,A.jsx)(y.Z,{normal:!0,className:"f-20 text-white",children:C})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{labelClass:"text-light f-16",title:R("translation:default.fields.shipmentCost"),children:(0,A.jsxs)(y.Z,{normal:!0,className:"f-20 text-white",children:[(0,A.jsx)(Qe.Z,{value:(0,z.Fx)(S)}),(0,A.jsx)("span",{className:"pl-3 f-14",children:w})]})})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{justify:"space-between",className:"align-items-center",children:[(0,A.jsx)(al,{proNo:T,cargoType:Z,shipmentNo:h,shipmentDetailsData:d,carrierShortName:k,customerKey:M}),String(b).toUpperCase()===j.PQ.QUOTE&&(0,A.jsx)(o.Z,{className:"mr-30",children:(0,A.jsx)(g.Z,{type:"default",invertMode:!0,onClick:()=>{e((0,x.Oq0)({shipmentkey:u}))},children:R("translation:shipment.drawer.header.createAsShipment")})}),"PROGRESSING"===K?(0,A.jsx)(o.Z,{className:"mr-15",children:(0,A.jsx)(N.Z,{})}):(0,A.jsx)(A.Fragment,{children:K&&m&&v.Bi.includes(b)&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{type:"default",invertMode:!0,className:"mr-15",onClick:()=>{e((0,x.HwC)({handleSuccess:()=>{l(!0)}}))},children:R("translation:shipment.drawer.header.approve")})})}),V&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{type:"default",invertMode:!0,className:"mr-15",onClick:()=>{e((0,x.$DR)())},children:R("translation:shipment.drawer.header.saveAsShipment")})}),h?(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{type:"default",invertMode:!0,className:"mr-15",onClick:()=>n(!0),children:R("translation:default.buttons.copy")})}):(0,A.jsx)(A.Fragment,{})]})})]}),(0,A.jsx)(st.Z,{onClose:()=>l(!1),open:t,className:"w-65",title:R("translation:shipment.drawer.header.commonModalApprovalTitle"),contentClassName:"p-0",customFooter:(0,A.jsx)(A.Fragment,{}),descriptionClassName:"m-0",children:(0,A.jsx)("div",{className:" py-15 h-100 overflow-hidden",children:(0,A.jsx)($t,{setApprovalModalOpen:l,cargoType:Z})})}),(0,A.jsx)(We.Z,{onOk:()=>U(1),onCancel:()=>U(0),onClose:()=>n(!1),open:a,description:R("translation:shipment.card.description"),title:R("translation:shipment.card.title")})]})},al=e=>{let{proNo:t,cargoType:l,shipmentNo:a,shipmentDetailsData:n,carrierShortName:d,customerKey:h}=e;const m=(0,c.I0)(),[u,x]=(0,s.useState)(!1),[f,g]=(0,s.useState)("1"),[b,Z]=(0,s.useState)(1),y=(0,s.useRef)(null),N=(0,s.useRef)(null);(0,c.v9)((e=>e.common.notificationAPI),((e,t)=>(N.current=t,!0)));const C=(0,c.v9)((e=>e.shipment.shipmentProductFullList),c.wU),{pathname:S}=(0,i.TH)(),w=(0,s.useMemo)((()=>(0,E.F)(S)),[S]),{t:D}=(0,F.$G)([w,"translation"]),k=e=>{g(e),x(!0)},[M,T]=(0,Vt.Eb)({document:(0,A.jsx)(Xt,{shipmentDetails:n,productList:null!==C&&void 0!==C&&C.data?null===C||void 0===C?void 0:C.data:[]})});console.log(M);const I=async()=>{try{m((0,lt.ef)(!0));const e="COO_".concat(a,"_").concat(Ye()().format("MMDDYYYY"),".pdf");(0,z.XC)(M.url,e),(0,z.Nh)(N.current,{type:v.GT.SUCCESS,title:D("translation:default.notification.COOPDF")}),m((0,lt.ef)(!1))}catch(e){console.log(e),m((0,lt.ef)(!1)),(0,z.Nh)(N.current,{type:v.GT.ERROR,title:D("translation:default.notification.failedCOOPDF")})}},L=async()=>{try{var e;m((0,lt.ef)(!0));const i="".concat(d?null===d||void 0===d?void 0:d.trim():"","_").concat(a,"_").concat(t,"_").concat(Ye()().format("MMDDYYYY"),".pdf"),r=(0,el.Hp)(n,h),o=await(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.generateBarCode()),c=await(0,Vt.eA)((0,A.jsx)(Yt,{data:{...r,barCodeImage:o}})).toBlob(),u=await(0,z.tw)(c);var l=(0,z.v9)(u,i),s=URL.createObjectURL(l);window.open(s,"_blank"),m((0,lt.ef)(!1))}catch(i){console.log(i),m((0,lt.ef)(!1)),(0,z.Nh)(N.current,{type:v.GT.ERROR,title:"Failed to generate PDF for shipping label."})}},B=(0,s.useMemo)((()=>{return e=n.status,j.B8.includes(e)?[{key:"1",label:(0,A.jsx)(Rt.rU,{to:!1,onClick:()=>k(j.Wh.COMMERCIAL_INVOICE),children:D("translation:default.fields.viewCI")})},{key:"2",label:(0,A.jsx)(Rt.rU,{to:!1,onClick:()=>k(j.Wh.PACKING_LIST),children:D("translation:default.fields.viewPL")})},{key:"3",label:(0,A.jsx)(Rt.rU,{to:!1,onClick:()=>k(j.Wh.BOL),children:D("translation:default.fields.viewBOL")})},{key:"6",label:(0,A.jsx)(Rt.rU,{to:!1,onClick:()=>k(j.Wh.IMO),children:"View IMO"})},{key:"7",label:(0,A.jsx)(Rt.rU,{to:!1,onClick:()=>k(j.Wh.SED),children:"View SED"})},{key:"8",label:(0,A.jsx)(Rt.rU,{to:!1,onClick:()=>k(j.Wh.CMR),children:"View CMR"})},{key:"4",label:(0,A.jsx)(Rt.rU,{to:!1,onClick:I,children:D("translation:default.fields.viewCOO")})},..."LTL"===l?[{key:"shippingLabel",label:(0,A.jsx)(Rt.rU,{to:!1,onClick:L,children:D("translation:default.fields.viewShipping")})}]:[]]:[];var e}),[n.status,l]),P=(0,A.jsx)(it.Z,{items:B});return B.length>0?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.Z,{className:"d-flex mr-30",children:(0,A.jsx)(nt.Z,{spinning:null===C||void 0===C?void 0:C.progressing,children:(0,A.jsx)(Be.Z,{overlay:P,placement:"bottomRight",children:(0,A.jsxs)("a",{className:"border-none p-0 m-0 text-white d-flex align-items-center",children:[(0,A.jsxs)("span",{className:"mr-10",children:[(0,A.jsx)(O.Z,{Icon:Pt.r,color:"white",width:24})," "]}),(0,A.jsx)("span",{className:"mr-3 f-20 mt-n2",children:D("translation:shipment.drawer.header.printView")}),(0,A.jsx)("span",{children:(0,A.jsx)(Ot.Z,{})})]})})})}),(0,p.find)(B,{key:"shippingLabel"})&&(0,A.jsx)("div",{style:{position:"fixed",right:"-500vw"},children:(0,A.jsx)(tl,{value:t||"",ref:y})}),(0,A.jsx)(st.Z,{onClose:()=>x(!1),open:u,className:"w-65",customHeader:(0,A.jsxs)(r.Z,{className:"flex-1",gutter:15,justify:"space-between",align:"middle",children:[(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)("label",{className:"title",children:D("translation:shipment.drawer.header.commonModalLabel")})}),(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(zt.Z,{onChange:e=>Z(e)})}),(0,A.jsx)(o.Z,{className:"flex-1"})]}),contentClassName:"p-0",customFooter:(0,A.jsx)(A.Fragment,{}),descriptionClassName:"m-0",forceRender:!0,children:(0,A.jsx)(Kt.Z,{printActiveTab:f,setPrintActiveTab:g,zoomValue:b,printModalOpen:u})})]}):(0,A.jsx)(A.Fragment,{})},sl=(0,s.memo)(ll);var il=l(52425),nl=l(85781),dl=l(3278),rl=l(15695),ol=l(54750);const cl=e=>{var t,l;let{horizontalPadding:a="px-30",hideHeader:n=!1,parentForm:d}=e;(0,dl.Z)();let[h]=C.Z.useForm();d&&(h=d);const m=(0,c.I0)(),{selectedCompany:u,user:f}=(0,c.v9)((e=>e.auth)),{shipmentDetails:v,shipmentCustomerAccessorials:j,saveShipmentAccounting:b}=(0,c.v9)((e=>e.shipment)),[Z,S]=(0,s.useState)(!0),{pathname:w}=(0,i.TH)(),D=(0,s.useMemo)((()=>(0,E.F)(w)),[w]),{t:k}=(0,F.$G)([D,"translation"]);(0,s.useEffect)((()=>{var e,t;null!==u&&void 0!==u&&u.companyId&&null!==v&&void 0!==v&&null!==(e=v.data)&&void 0!==e&&e.shipmentKey&&m((0,x.p91)({shipmentKey:null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.shipmentKey,customerKey:null===u||void 0===u?void 0:u.companyId}))}),[null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.shipmentKey,u]);(0,s.useEffect)((()=>{null!==b&&void 0!==b&&b.success&&S(!0)}),[null===b||void 0===b?void 0:b.success]);const M=C.Z.useWatch(null,h),T=(0,s.useMemo)((()=>{var e,t;return(null===M||void 0===M||null===(e=M.accessorials)||void 0===e?void 0:e.length)>0&&(0,p.filter)(null===M||void 0===M?void 0:M.accessorials,{editMode:!0}).length>0||(null===M||void 0===M||null===(t=M.taxes)||void 0===t?void 0:t.length)>0&&(0,p.filter)(null===M||void 0===M?void 0:M.taxes,{editMode:!0}).length>0}),[M]);return(0,A.jsxs)(C.Z,{className:"d-flex py-15 h-100",style:{flexDirection:"column"},form:h,initialValues:{accessorials:[]},onFinish:e=>{try{var t,l;let a=null!==e&&void 0!==e&&e.accessorials?(0,p.filter)(null===e||void 0===e?void 0:e.accessorials,{isChecked:!0}):[],s=null!==e&&void 0!==e&&e.taxes?null===e||void 0===e?void 0:e.taxes:[];const i=()=>{var t,l;m((0,x.zkl)({data:{...null===v||void 0===v?void 0:v.data,taxes:null!==e&&void 0!==e&&e.taxes?null===e||void 0===e||null===(t=e.taxes)||void 0===t?void 0:t.map((e=>({...e,editMode:!1}))):[]},skipRateShop:!0})),m((0,x.tFw)({data:[...null!==e&&void 0!==e&&e.accessorials?null===e||void 0===e||null===(l=e.accessorials)||void 0===l?void 0:l.map((e=>({...e,editMode:!1}))):[]]}))},n={accessorialsFormData:{shipmentKey:null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.shipmentKey,shipmentAccessoriesList:null===a||void 0===a?void 0:a.map((e=>{var t;return{lookupKey:(0,z.xe)(null===e||void 0===e?void 0:e.lookupKey),createdBy:null===f||void 0===f||null===(t=f.data)||void 0===t?void 0:t.id}}))},taxesFormData:{shipmentKey:null===v||void 0===v||null===(l=v.data)||void 0===l?void 0:l.shipmentKey,shipmentTaxList:null===s||void 0===s?void 0:s.map(((e,t)=>{var l;return{sequence:t+1,taxAmount:(0,z.xe)(null===e||void 0===e?void 0:e.taxAmount),taxTypeCode:(0,z.Fx)(null===e||void 0===e?void 0:e.taxTypeCode),createdBy:null===f||void 0===f||null===(l=f.data)||void 0===l?void 0:l.id}}))},handleSuccessCallback:i};m((0,x.OUj)(n))}catch(a){console.log(a)}},onValuesChange:()=>S(!1),children:[!n&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(r.Z,{className:a,justify:"space-between",gutter:16,align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"fw-700 f-18",children:k("translation:shipment.drawer.tabs.accounting")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)("div",{children:(0,A.jsxs)(r.Z,{gutter:16,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{type:"default",variant:"success",buttonType:"submit",disabled:Z||T,children:k("translation:default.buttons.save")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(B.Z,{placement:"topRight",title:k("translation:default.fields.modal.label"),okText:k("translation:default.fields.modal.okText"),cancelText:k("translation:default.options.no"),overlayClassName:"delete-popup-container",onConfirm:()=>{var e,t,l;h.setFieldsValue({accessorials:null===j||void 0===j||null===(e=j.data)||void 0===e?void 0:e.map((e=>({...e,editMode:!1,show:!0}))),taxes:null===v||void 0===v||null===(t=v.data)||void 0===t||null===(l=t.taxes)||void 0===l?void 0:l.map((e=>({...e,editMode:!1,show:!0})))}),S(!0)},children:(0,A.jsx)(g.Z,{type:"default",variant:"danger",buttonType:"button",disabled:Z||T,children:k("translation:default.buttons.cancel")})})})]})})})]}),(0,A.jsx)(Oe.Z,{className:"my-16 vw-100 ml-n30"})]}),(0,A.jsx)("div",{className:"flex-1 overflow-hidden ".concat(a),children:(0,A.jsxs)(r.Z,{gutter:30,className:"h-100 overflow-hidden",children:[(0,A.jsx)(o.Z,{sm:12,className:"h-100 overflow-hidden ",children:null!==j&&void 0!==j&&j.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(rl.Z,{form:h,accessorials:null===j||void 0===j?void 0:j.data,customHeight:"h-100",setActionButtonDisabled:S,hasEditing:T})}),(0,A.jsx)(o.Z,{sm:12,className:"h-100 overflow-hidden",children:(0,A.jsx)(ol.Z,{form:h,customHeight:"h-100",taxes:null===v||void 0===v||null===(l=v.data)||void 0===l?void 0:l.taxes})})]})})]})};var hl=l(800);const ml=[{title:J.ZP.t("translation:shipment.drawer.auditLog.columnName"),dataIndex:"columnName",key:"columnName",width:"33.34%",align:"center",className:"text-dark f-12 fw-400",render:e=>(0,A.jsx)(y.Z,{className:"text-dark f-14 fw-600",children:e})},{title:J.ZP.t("translation:shipment.drawer.auditLog.oldValue"),dataIndex:"oldValue",key:"oldValue",width:"33.34%",align:"center",className:"text-dark f-12 fw-400",render:e=>(0,A.jsx)(y.Z,{className:"text-dark f-14 fw-600",children:e})},{title:J.ZP.t("translation:shipment.drawer.auditLog.newValue"),dataIndex:"newValue",key:"newValue",width:"33.34%",align:"center",className:"text-dark f-12 fw-400",render:e=>(0,A.jsx)(y.Z,{className:"text-highlight f-16 fw-600",children:e})}],ul=e=>{let{auditLogDetailsData:t=[]}=e;return(0,A.jsx)(xt.Z,{className:"shipment-audit-log-table",dataSource:t.map(((e,t)=>{let{columnName:l,oldValue:a,newValue:s}=e;return{key:t,columnName:l,oldValue:a,newValue:s}})),columns:ml,pagination:!1,bordered:!0})},xl=e=>{let{logDetails:t}=e;const{pathname:l}=(0,i.TH)(),a=(0,s.useMemo)((()=>(0,E.F)(l)),[l]),{t:n}=(0,F.$G)([a,"translation"]);return(0,A.jsxs)(r.Z,{gutter:10,className:"flex-nowrap",justify:"space-between",children:[(0,A.jsxs)(o.Z,{sm:2,children:[(0,A.jsx)("p",{className:"m-0 fw-400 f-12 color-label",children:n("translation:shipment.drawer.auditLog.database")}),(0,A.jsx)("p",{className:"m-0 fw-600 f-14 color-dark",children:t.database})]}),(0,A.jsxs)(o.Z,{sm:3,children:[(0,A.jsx)("p",{className:"m-0 fw-400 f-12 color-label",children:n("translation:shipment.drawer.auditLog.tableName")}),(0,A.jsx)("p",{className:"m-0 fw-600 f-14 color-dark",children:t.tableName})]}),(0,A.jsxs)(o.Z,{sm:3,children:[(0,A.jsx)("p",{className:"m-0 fw-400 f-12 color-label",children:n("translation:shipment.drawer.auditLog.tableSchema")}),(0,A.jsx)("p",{className:"m-0 fw-600 f-14 color-dark",children:t.tableSchema})]}),(0,A.jsxs)(o.Z,{sm:4,children:[(0,A.jsx)("p",{className:"m-0 fw-400 f-12 color-label",children:n("translation:shipment.drawer.auditLog.hostName")}),(0,A.jsx)("p",{className:"m-0 fw-600 f-14 color-dark",children:t.hostName})]}),(0,A.jsxs)(o.Z,{sm:5,children:[(0,A.jsx)("p",{className:"m-0 fw-400 f-12 color-label",children:n("translation:shipment.drawer.auditLog.applicationName")}),(0,A.jsx)("p",{className:"m-0 fw-600 f-14 color-dark",children:t.appName})]}),(0,A.jsxs)(o.Z,{sm:3,children:[(0,A.jsx)("p",{className:"m-0 fw-400 f-12 color-label",children:n("translation:default.fields.modifiedBy")}),(0,A.jsx)("p",{className:"m-0 fw-600 f-14 color-dark",children:t.modifiedBy})]}),(0,A.jsxs)(o.Z,{children:[(0,A.jsx)("p",{className:"m-0 fw-400 f-12 color-label",children:n("translation:default.fields.modifiedOn")}),(0,A.jsx)("p",{className:"m-0 fw-600 f-14 color-dark",children:(0,He.GW)(t.modifiedDate,"Do MMM YYYY | HH:mm:ss","MM-DD-YYYY HH:mm:ss")})]})]})},pl=()=>{var e;const[t,l]=(0,s.useState)([]),a=(0,c.I0)(),{shipmentDetails:n,auditLogs:d}=(0,c.v9)((e=>e.shipment)),{pathname:r}=(0,i.TH)(),o=(0,s.useMemo)((()=>(0,E.F)(r)),[r]),{t:h}=(0,F.$G)([o,"translation"]);(0,s.useEffect)((()=>{var e;m(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.shipmentKey)}),[null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.shipmentKey]);const m=e=>{if(e){const t={shipmentkey:e,ModuleId:v.mS.SHIPMENT};a((0,x.bIB)(t))}};return(0,A.jsx)("div",{className:"h-100 custom-scroll-bar ",children:d.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)("div",{className:"px-30 py-15",children:0===(null===d||void 0===d?void 0:d.data.length)?(0,A.jsx)(Z.Z,{descriptionTwo:h("translation:shipment.visitBack")}):(0,A.jsx)(hl.Z,{forceRender:!1,handleTabClick:e=>{l(e)},activeKey:t,tabs:d.data.map((e=>{let{auditLogDetailsData:t,...l}=e;return{header:(0,A.jsx)(xl,{logDetails:l}),content:(0,A.jsx)(ul,{auditLogDetailsData:t})}}))})})})};var fl=l(21325);const vl={SHIPMENT_TRANSPORTATION_SAVE:"ShipmentPartialSaveShipperConsignee",SHIPMENT_ADDITIONAL_INFORMATION_SAVE:"ShipmentPartialSaveAdditionalInformation",SHIPMENT_BILLING_DETAILS_SAVE:"ShipmentPartialSaveBillingDetails",SHIPMENT_VENDOR_DETAILS_SAVE:"ShipmentPartialSaveVendorDetails",SHIPMENT_CATEGORY_SAVE:"ShipmentPartialSaveCategory",SHIPMENT_PRODUCT_DETAILS_SAVE:"ShipmentPartialSaveProductDetails"};var jl=l(46804);const gl=()=>{const e=(0,jl.Z)(),{user:t}=(0,c.v9)((e=>e.auth)),{shipmentDetails:l}=(0,c.v9)((e=>e.shipment)),[a]=C.Z.useForm(),n=(0,c.I0)(),[d,h]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),{pathname:p}=(0,i.TH)(),f=(0,s.useMemo)((()=>(0,E.F)(p)),[p]),{t:v}=(0,F.$G)([f,"translation"]);return(0,A.jsxs)(C.Z,{className:"h-100 py-16 d-flex flex-direction-column",form:a,onFinish:e=>{try{var a;n((0,lt.ef)(!0)),e.shipmentKey=null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.shipmentKey,e.userId=t.data.id;let s=(0,el.AG)(e);s.URL=vl.SHIPMENT_BILLING_DETAILS_SAVE,s.notificationTitle=v("translation:shipment.savingBillingDetailsIs"),s.callBack=()=>{h(!1)},n((0,x.mLV)(s)),u(!1)}catch(s){n((0,lt.ef)(!1))}},initialValues:l.data.shipmentBillingDetails?l.data.shipmentBillingDetails:{},onFieldsChange:()=>u(!0),children:[(0,A.jsxs)(r.Z,{className:" align-items-center px-30",justify:"space-between",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"fw-700 f-18",children:"Billing Details"})}),(0,A.jsx)(o.Z,{children:d?(0,A.jsx)(I.Z,{onCancel:()=>{l.data.shipmentBillingDetails?a.setFieldsValue(l.data.shipmentBillingDetails):a.resetFields(),u(!1),h(!1)},isModified:m}):(0,A.jsx)(g.Z,{disabled:!e,onClick:()=>h(!0),children:v("translation:default.buttons.edit")})})]}),(0,A.jsx)(Oe.Z,{className:"vw-100 ml-n20 my-16"}),(0,A.jsx)("div",{className:"px-30 custom-scroll-bar h-100",children:(0,A.jsx)(fl.Z,{editMode:d,form:a})})]})};var bl=l(74019);const Zl=()=>{var e,t;const l=(0,jl.Z)(),{shipmentDetails:a}=(0,c.v9)((e=>e.shipment)),n=(0,c.I0)(),[d,h]=(0,s.useState)([]),[m,u]=(0,s.useState)(!1),{pathname:p}=(0,i.TH)(),v=(0,s.useMemo)((()=>(0,E.F)(p)),[p]),{t:j}=(0,F.$G)([v,"translation"]);(0,s.useEffect)((()=>{a.success&&h(a.data.shipmentCategoryList)}),[a.success,null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.shipmentCategoryList]);const b=(e,t)=>{const l={1:j("translation:shipment.addingNewCategoryIs"),2:j("translation:shipment.modifyingCategoryIs"),3:j("translation:shipment.deletingCategoryIs")};try{var s,i,r;n((0,lt.ef)(!0));let o=f().cloneDeep(d);o[t]=e,3===e.gridOperation&&o.splice(t,1);let c={shipmentKey:null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.shipmentKey,shipmentCategoryList:(0,el.CM)(o),URL:vl.SHIPMENT_CATEGORY_SAVE,notificationTitle:l[null===e||void 0===e?void 0:e.gridOperation],refetchShipment:{shipmentKey:null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.shipmentKey,customerKey:null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.customerKey},callBack:()=>{u(!1)}};n((0,x.mLV)(c))}catch(o){console.log(o),n((0,lt.ef)(!1))}},N=(e,t)=>{try{let l=f().cloneDeep(d);t?(l.splice(e,1),h(l)):(n((0,lt.ef)(!0)),l[e].gridOperation=3,b(l[e],e))}catch(l){n((0,lt.ef)(!1))}},C=(0,s.useMemo)((()=>{var e;return(0,z.Az)(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.status)}),[null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.status]);return(0,A.jsxs)("div",{className:"py-15 h-100 d-flex flex-direction-column",children:[(0,A.jsxs)(r.Z,{className:"px-30",justify:"space-between",gutter:16,align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"fw-700 f-18",children:j("translation:shipment.drawer.tabs.categoryDetails")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{disabled:!l,onClick:()=>{let e=f().cloneDeep(d);e=[{shipmentHierarchyDetailsId:0,isNew:!0,gridOperation:1,heirDetSequence:d.length+1},...e],h(e)},children:j("translation:shipment.drawer.categoryDetails.addNewCategory")})})]}),(0,A.jsx)(Oe.Z,{className:"my-16 vw-100 ml-n30"}),(0,A.jsx)("div",{className:"px-30 custom-scroll-bar h-100",children:d.length>0?d.map(((e,t)=>(0,A.jsx)(bl.Z,{handleDelete:N,categoryDetails:e,index:t,handleSubmit:b,gridOperation:e.gridOperation?e.gridOperation:2,shipmentEditStatus:m,setShipmentEditStatus:u,isPartialSave:C},e.shipmentHierarchyDetailsId))):(0,A.jsx)(Z.Z,{descriptionTwo:j("translation:shipment.createSomeData")})})]})};var yl=l(72330),Nl=l(74699);const Cl=()=>{var e,t;const l=(0,jl.Z)(),[a,n]=(0,s.useState)([]),{shipmentDetails:d,documentDetails:h}=(0,c.v9)((e=>e.shipment)),{user:m}=(0,c.v9)((e=>e.auth)),u=(0,c.v9)((e=>e.common.notificationAPI)),{pathname:j}=(0,i.TH)(),b=(0,s.useMemo)((()=>(0,E.F)(j)),[j]),{t:C}=(0,F.$G)([b,"translation"]),S=(0,c.I0)();(0,s.useEffect)((()=>{h.success&&n(h.data.map((e=>({...e,renderKey:f().uniqueId()}))))}),[null===h||void 0===h?void 0:h.success,null===h||void 0===h?void 0:h.data]),(0,s.useEffect)((()=>{null!==d&&void 0!==d&&d.success&&w()}),[null===d||void 0===d?void 0:d.success,null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.shipmentKey]);const w=()=>{let e={shipmentKey:d.data.shipmentKey,customerKey:d.data.customerKey};S((0,x.fe4)(e))},D=async e=>{try{const t={customerKey:d.data.customerKey,shipmentKey:d.data.shipmentKey},{data:l}=await(0,ie.r)(t);S((0,x.r7c)({data:l})),S((0,lt.ef)(!1)),(0,z.Nh)(u,{type:v.GT.SUCCESS,title:e}),S((0,lt.ef)(!1))}catch(t){S((0,lt.ef)(!1)),console.log(t),(0,z.Nh)(u,{type:v.GT.ERROR,title:C("translation:default.documentManager.notificationUploadingError")})}},k=async(e,t)=>{try{let l=f().cloneDeep(a);if(!t){S((0,lt.ef)(!0));let t={shipmentKey:d.data.shipmentKey,documentFileName:l[e].fileGuid};await(0,ie.cT)(t),S((0,lt.ef)(!1)),(0,z.Nh)(u,{type:v.GT.SUCCESS,title:C("translation:default.documentManager.notificationDeleteSuccess")})}l.splice(e,1),n(l)}catch(l){S((0,lt.ef)(!1)),console.log(l),(0,z.Nh)(u,{type:v.GT.ERROR,title:C("translation:default.documentManager.notificationDeleteError")})}},M=async(e,t)=>{S((0,lt.ef)(!0));try{e.append("CustomerKey",d.data.customerKey),e.append("ShipmentKey",d.data.shipmentKey),t?(e.append("CreatedBy",m.data.id),await(0,ie.KL)(e),D(C("translation:default.documentManager.notificationUploadingSuccess"))):(e.append("CreatedBy",m.data.id),await(0,ie.G$)(e),D(C("translation:default.documentManager.fileUpdatingIssuccess")))}catch(l){console.log(l),S((0,lt.ef)(!1)),(0,z.Nh)(u,{type:v.GT.ERROR,title:C("translation:default.documentManager.notificationUploadingFailed")})}},T=(0,yl.Z)(v.mS.SHIPMENT),I=(0,s.useMemo)((()=>(0,p.remove)(a.map((e=>{let{fileType:t}=e;return t||!1})),(e=>Boolean(e)))),[a]),L=(0,s.useMemo)((()=>{var e;return(0,z.Az)(null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.status)}),[null===d||void 0===d||null===(t=d.data)||void 0===t?void 0:t.status]);return(0,A.jsxs)("div",{className:"d-flex py-15 h-100",style:{flexDirection:"column"},children:[(0,A.jsxs)(r.Z,{className:"px-30",justify:"space-between",gutter:16,align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"fw-700 f-18",children:C("translation:default.documentManager.title")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{disabled:!l,onClick:()=>{let e=f().cloneDeep(a);e=[{renderKey:f().uniqueId(),isNew:!0},...e],n(e)},children:C("translation:default.documentManager.addNewFile")})})]}),(0,A.jsx)(Oe.Z,{className:"my-16 vw-100 ml-n30"}),(0,A.jsx)("div",{className:"px-30 custom-scroll-bar h-100",style:{flex:1},children:h.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(A.Fragment,{children:a.length>0?a.map(((e,t)=>(0,A.jsx)(Nl.Z,{fileDetails:e,handleDelete:k,handleSave:M,isNew:e.isNew,index:t,uploadedDocumentTypes:I,allowedExtentions:T,isPartialSave:L},e.renderKey))):(0,A.jsx)(Z.Z,{title:"Use the Add New File button to upload a  document.",descriptionOne:"",descriptionTwo:""})})})]})};var Sl=l(37015);const wl=()=>{const e=(0,c.v9)((e=>e.common.notificationAPI)),t=(0,c.I0)(),{shipmentDetails:l}=(0,c.v9)((e=>e.shipment)),[a]=C.Z.useForm(),[n]=C.Z.useForm(),[d,h]=(0,s.useState)(!1),{pathname:m}=(0,i.TH)(),u=(0,s.useMemo)((()=>(0,E.F)(m)),[m]),{t:p}=(0,F.$G)([u,"translation"]);return(0,A.jsx)(C.Z.Provider,{className:"h-100",onFormFinish:async(a,s)=>{let{values:i}=s;const n=p("internalNotes"===a?"translation:default.fields.internalNotes.label":"translation:default.fields.shipmentNotes");try{var d;t((0,lt.ef)(!0));let s={shipmentKey:null===l||void 0===l||null===(d=l.data)||void 0===d?void 0:d.shipmentKey,shipmentNotes:l.data.shipmentNotes,internalNotes:l.data.detailNotes,[a]:i[a]};await(0,ie.TT)(s),t((0,lt.ef)(!1)),(0,z.Nh)(e,{type:v.GT.SUCCESS,title:"".concat(p("translation:default.notification.successfullyUpdated")," ").concat(n,"."),key:a}),t((0,x.j_2)({...l.data,detailNotes:s.internalNotes,shipmentNotes:s.shipmentNotes}))}catch(r){t((0,lt.ef)(!1)),(0,z.Nh)(e,{type:v.GT.ERROR,title:"".concat(p("translation:shipment.failedToUpdate")," ").concat(n,"."),key:a})}h(!1)},children:(0,A.jsxs)("div",{className:"d-flex py-15 h-100",style:{flexDirection:"column"},children:[(0,A.jsx)(r.Z,{className:"px-20",justify:"space-between",gutter:16,align:"middle",children:(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"fw-700 f-18",children:p("translation:default.fields.notes")})})}),(0,A.jsx)(Oe.Z,{className:"my-16 vw-100 ml-n30"}),(0,A.jsx)("div",{className:"px-20 custom-scroll-bar ",style:{flex:1},children:l&&l.data&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(C.Z,{name:"shipmentNotes",form:a,onFieldsChange:()=>h(!0),children:(0,A.jsx)(Sl.Z,{form:a,title:p("translation:default.fields.shipmentNotes"),value:l.data.shipmentNotes,inputName:"shipmentNotes",editModes:!0,isModified:d,setIsModified:h,skipLabelMode:!0,rows:8})}),(0,A.jsx)(C.Z,{name:"internalNotes",form:n,onFieldsChange:()=>h(!0),children:(0,A.jsx)(Sl.Z,{form:n,title:p("translation:default.fields.internalNotes.label"),value:l.data.detailNotes,inputName:"internalNotes",editModes:!0,isModified:d,setIsModified:h,skipLabelMode:!0,rows:8})})]})})]})})};var Dl=l(6948),kl=l(69213),Ml=l(83057),Tl=l(57114),Il=l(41651),Fl=l(35650),El=l(54655),Al=l(89892),Ll=l(56301),Bl=l(79795),Pl=l(29996),Ol=l(6506),Rl=l(87381),Kl=l(66370),Vl=l(50104);const Ul=(0,El.Z)((e=>{let{isNew:t=!1,index:l,handleReset:a=(()=>{}),remove:n,productDetails:d,handleSubmit:r,isPartialSave:o,editMode:h,setEditMode:m,setIsTouched:u,isTouched:x,isPageBlockerActive:p,form:f,handleProductCodeChange:v,cubeCalculation:j,productFieldsVisibility:g,showCustomerSeqNo:b=!1}=e;const Z=(0,c.I0)(),{pathname:y}=(0,i.TH)(),N=(0,s.useMemo)((()=>(0,E.F)(y)),[y]),{t:S}=(0,F.$G)([N,"translation"]);return(0,A.jsx)("div",{style:{display:"table-row"},className:"background-selected",children:(0,A.jsxs)(C.Z,{name:"product_list_".concat(l),onFinish:e=>{u(!1),r(e,l)},form:f,onFieldsChange:()=>{p||(Z((0,lt.Fd)(!0)),u(!0))},initialValues:d,style:{display:"contents"},children:[(0,A.jsx)("td",{style:{width:47},className:"fixed fixed-left shadow-none background-selected",children:(0,A.jsx)(Ll.Z,{tabIndex:100*(l+1)+1,name:"productCode",label:!1,placeholder:S("translation:default.fields.productDesc.placeholder"),singleLineMode:!0,margin:"m-0",editMode:h,onChange:v,colon:!0,form:f,rules:[{required:!0,message:S("translation:default.fields.productDesc.message")}],disableValidation:o})}),(0,A.jsx)("td",{children:(0,A.jsx)(k.Z,{tabIndex:100*(l+1)+2,label:!1,editMode:Boolean(h),name:"productDescription",rows:2,rules:[{required:!0,message:S("translation:default.fields.productDesc.enter")}],disableValidation:o,maxLength:150,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+3,inputType:"number",label:!1,editMode:h,name:"quantity",rules:[{required:!0},()=>({validator:(e,t)=>isNaN(t)?Promise.reject(S("translation:default.fields.quantity.message")):t<1?Promise.reject(S("translation:default.fields.quantity.error")):Promise.resolve()})],disableValidation:o,maxLength:"9",margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(Bl.Z,{tabIndex:100*(l+1)+4,label:!1,editMode:h,margin:"m-0",name:"unitMeasure",onChange:e=>{let{label:t}=e;return f.setFieldsValue({unitMeasureDesc:t})},rules:[{required:!0,message:S("translation:default.fields.dimUnitOfMeasure.message")}],disableValidation:o,maxLength:"4"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+5,label:!1,editMode:h,margin:"m-0",name:"unitPrice",maxLength:9})}),(0,A.jsx)("td",{children:(0,A.jsx)(Pl.Z,{tabIndex:100*(l+1)+6,editMode:h,name:"palletLoadType",label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+7,editMode:h,name:"weight",rules:[{required:!0,message:S("translation:shipmentAdd.productDetails.chargeableWeight.message")},()=>({validator:(e,t)=>isNaN(t)?Promise.reject(S("translation:shipmentAdd.productDetails.chargeableWeight.error")):t<1?Promise.reject(S("translation:shipmentAdd.productDetails.chargeableWeight.minError")):Promise.resolve()})],disableValidation:o,maxLength:"9",label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(Ol.Z,{tabIndex:100*(l+1)+8,editMode:h,name:"weightUom",rules:[{required:!0,message:S("translation:default.fields.dimUnitOfMeasure.message")}],onChange:e=>{let{label:t}=e;return f.setFieldsValue({weightUOMDesc:t})},disableValidation:o,label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+9,editMode:h,name:"billQty",rules:[{required:!0,message:S("translation:shipmentAdd.productDetails.packageBilledQuantity.message")},()=>({validator:(e,t)=>isNaN(t)?Promise.reject(S("translation:shipmentAdd.productDetails.packageBilledQuantity.error")):t<1?Promise.reject(S("translation:shipmentAdd.productDetails.packageBilledQuantity.minError")):Promise.resolve()})],disableValidation:o,maxLength:"9",onChange:j,label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(Bl.Z,{tabIndex:100*(l+1)+10,editMode:h,name:"billQtyUom",rules:[{required:!0,message:S("translation:default.fields.dimUnitOfMeasure.message")}],onChange:e=>{let{label:t}=e;return f.setFieldsValue({billQtyUOMDesc:t})},disableValidation:o,maxLength:4,label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+11,editMode:h,name:"length",rules:[{required:!0,message:S("translation:shipmentAdd.productDetails.length.message")},()=>({validator:(e,t)=>isNaN(t)?Promise.reject(S("translation:shipmentAdd.productDetails.length.error")):t<1?Promise.reject(S("translation:shipmentAdd.productDetails.length.minError")):Promise.resolve()})],disableValidation:o,maxLength:"5",onChange:j,label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+12,editMode:h,name:"width",rules:[{required:!0,message:S("translation:shipmentAdd.productDetails.width.message")},()=>({validator:(e,t)=>isNaN(t)?Promise.reject(S("translation:shipmentAdd.productDetails.width.error")):t<1?Promise.reject(S("translation:shipmentAdd.productDetails.width.minError")):Promise.resolve()})],disableValidation:o,maxLength:"5",onChange:j,label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+13,editMode:h,name:"height",rules:[{required:!0,message:S("translation:shipmentAdd.productDetails.height.message")},()=>({validator:(e,t)=>isNaN(t)?Promise.reject(S("translation:shipmentAdd.productDetails.height.error")):t<1?Promise.reject(S("translation:shipmentAdd.productDetails.height.minError")):Promise.resolve()})],disableValidation:o,maxLength:"5",onChange:j,label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(Rl.Z,{tabIndex:100*(l+1)+14,editMode:h,name:"dimUom",onChange:e=>{let{label:t}=e;f.setFieldsValue({dimUOMDesc:t}),j()},label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+15,editMode:h,name:"cube",maxLength:"9",label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(Kl.Z,{tabIndex:100*(l+1)+16,editMode:h,name:"class",onChange:e=>f.setFieldsValue({classDesc:null===e||void 0===e?void 0:e.label}),label:!1,margin:"m-0"})}),g&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("td",{children:(0,A.jsx)(Vl.Z,{tabIndex:100*(l+1)+17,editMode:h,name:"hazmat",onChange:e=>f.setFieldsValue({hazmat:null===e||void 0===e?void 0:e.label}),label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+18,editMode:h,name:"hazmatUnNo",maxLength:"10",label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+19,editMode:h,name:"stcDescription",maxLength:25,label:!1,margin:"m-0"})})]}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+20,editMode:h,name:"poNumber",maxLength:50,label:!1,margin:"m-0"})}),g&&(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+21,editMode:h,name:"soNumber",maxLength:25,label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+22,editMode:h,name:"reference1",maxLength:50,label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+23,editMode:h,name:"crateNo",maxLength:25,label:!1,margin:"m-0"})}),g&&(0,A.jsxs)("td",{children:[(0,A.jsx)(W.Z,{tabIndex:100*(l+1)+24,editMode:h,name:"countryOfOrigin",onChange:e=>{let{label:t}=e;return f.setFieldsValue({countryOfOriginName:t})},label:!1,margin:"m-0"}),(0,A.jsx)(M.Z,{name:"countryOfOrigin"}),(0,A.jsx)(M.Z,{name:"countryOfOriginName"})]}),b&&(0,A.jsx)("td",{children:d.customerSeqNumber}),g&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+25,editMode:h,name:"hts",maxLength:"50",label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+26,editMode:h,name:"eccn",maxLength:"50",label:!1,margin:"m-0"})})]}),(0,A.jsx)("td",{children:(0,A.jsx)(w.Z,{tabIndex:100*(l+1)+27,editMode:h,name:"nmfcNumber",maxLength:"25",label:!1,margin:"m-0"})}),(0,A.jsx)("td",{children:(0,A.jsx)(Al.Z,{className:"f-14 fw-600",children:"".concat((0,He.GW)(d.catchDate))})}),(0,A.jsxs)("td",{className:"px-10 fixed fixed-right text-center background-selected",children:[(0,A.jsx)(I.Z,{editMode:h,onCancel:()=>{u(!1),t?n(l,t):(f.setFieldsValue(d),a(l),m(!1))},lightMode:!1,setEditMode:m,handleRemove:()=>{u(!1),n(l,t)},isNew:t,idSuffix:"product-details-".concat(l+1),isModified:x}),(0,A.jsx)(M.Z,{name:"shipmentDetailsID"}),(0,A.jsx)(M.Z,{name:"gridOperation"}),(0,A.jsx)(M.Z,{name:"createdBy"}),(0,A.jsx)(M.Z,{name:"itemSequenceKey"}),(0,A.jsx)(M.Z,{name:"key"}),(0,A.jsx)(M.Z,{name:"unitMeasure"}),(0,A.jsx)(M.Z,{name:"unitMeasureDesc"}),(0,A.jsx)(M.Z,{name:"classDesc"}),(0,A.jsx)(M.Z,{name:"class"}),(0,A.jsx)(M.Z,{name:"weightUOMDesc"}),(0,A.jsx)(M.Z,{name:"weightUom"}),(0,A.jsx)(M.Z,{name:"billQtyUom"}),(0,A.jsx)(M.Z,{name:"dimUom"}),(0,A.jsx)(M.Z,{name:"dimUOMDesc"}),(0,A.jsx)(M.Z,{name:"billQtyUOMDesc"}),(0,A.jsx)(M.Z,{name:"deliveryID"}),(0,A.jsx)(M.Z,{name:"actualWeight"}),(0,A.jsx)(M.Z,{name:"cartonQty"}),(0,A.jsx)(M.Z,{name:"cartonUOM"}),(0,A.jsx)(M.Z,{name:"isNew"}),(0,A.jsx)(M.Z,{name:"hazmat"}),(0,A.jsx)(M.Z,{name:"index"})]})]})})})),Gl=e=>{let{productDetails:t,setEditMode:l,productFieldsVisibility:a,setSelectedPackageId:s,handleRemove:i,showCustomerSeqNo:n}=e;return(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{style:{width:47},className:"fixed fixed-left shadow-none",children:t.productCode}),(0,A.jsx)("td",{children:t.productDescription}),(0,A.jsx)("td",{children:t.quantity}),(0,A.jsx)("td",{children:t.unitMeasureDesc}),(0,A.jsx)("td",{children:t.unitPrice}),(0,A.jsx)("td",{children:t.palletLoadType}),(0,A.jsx)("td",{children:t.weight}),(0,A.jsx)("td",{children:t.weightUOMDesc}),(0,A.jsx)("td",{children:t.billQty}),(0,A.jsx)("td",{children:t.billQtyUOMDesc}),(0,A.jsx)("td",{children:t.length}),(0,A.jsx)("td",{children:t.width}),(0,A.jsx)("td",{children:t.height}),(0,A.jsx)("td",{children:t.dimUOMDesc}),(0,A.jsx)("td",{children:t.cube}),(0,A.jsx)("td",{children:t.class}),a&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("td",{children:j.RX[null!==t&&void 0!==t&&t.hazmat?null===t||void 0===t?void 0:t.hazmat:0]}),(0,A.jsx)("td",{children:t.hazmatUnNo}),(0,A.jsx)("td",{children:t.stcDescription})]}),(0,A.jsx)("td",{children:t.poNumber}),a&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("td",{children:t.soNumber})}),(0,A.jsx)("td",{children:t.reference1}),(0,A.jsx)("td",{children:(0,A.jsx)(P.Z,{onClick:()=>s(t.crateNo),children:(0,A.jsx)(Al.Z,{className:"f-14 fw-600",children:null===t||void 0===t?void 0:t.crateNo})})}),a&&(0,A.jsx)("td",{children:t.countryOfOriginName}),n&&(0,A.jsx)("td",{children:t.customerSeqNumber}),a&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("td",{children:t.hts}),(0,A.jsx)("td",{children:t.eccn})]}),(0,A.jsx)("td",{children:t.nmfcNumber}),(0,A.jsx)("td",{children:(0,A.jsx)(Al.Z,{className:"f-14 fw-600",children:"".concat((0,He.GW)(t.catchDate))})}),(0,A.jsx)("td",{className:"px-10 fixed fixed-right text-center",children:(0,A.jsx)(I.Z,{editMode:!1,lightMode:!1,setEditMode:l,handleRemove:i})})]})},Hl=e=>{let{productFieldsVisibility:t,...l}=e;const[a,i]=(0,s.useState)(Boolean(null===l||void 0===l?void 0:l.isNew));return(0,s.useEffect)((()=>{!0===(null===l||void 0===l?void 0:l.isNew)?i(!0):!1===(null===l||void 0===l?void 0:l.isNew)&&i(!1)}),[null===l||void 0===l?void 0:l.isNew]),(0,s.useEffect)((()=>{null!==l&&void 0!==l&&l.shipmentEditStatus||null!==l&&void 0!==l&&l.isNew||i(!1)}),[null===l||void 0===l?void 0:l.shipmentEditStatus,null===l||void 0===l?void 0:l.isNew]),a?(0,A.jsx)(Ul,{...l,editMode:!0,setEditMode:i}):(0,A.jsx)(Gl,{productDetails:l.productDetails,setEditMode:i,productFieldsVisibility:t,setSelectedPackageId:l.setSelectedPackageId,handleRemove:()=>l.remove(null===l||void 0===l?void 0:l.index,null===l||void 0===l?void 0:l.isNew),showCustomerSeqNo:l.showCustomerSeqNo})},ql=e=>{let{productList:t,handleReset:l,handleSubmit:a,handleRemove:n,shipmentEditStatus:d,setShipmentEditStatus:r,handleNewProductModal:o,setSelectedPackageId:c,isPartialSave:h,loadMore:m=(()=>!1),isLoading:u,hasMore:x,showCustomerSeqNo:p=!1}=e;const{pathname:f}=(0,i.TH)(),v=(0,s.useMemo)((()=>(0,E.F)(f)),[f]),{t:j}=(0,F.$G)([v,"translation"]),g=(0,il.Z)("isMenuVisible");return(0,A.jsx)("div",{className:"h-100 overflow-hidden ",children:(0,A.jsx)(at.Z,{className:"background-white br-4 w-100 h-100 scrollable-table-container horizontal",loadMore:m,hasMore:x,isLoading:u,scrollOffset:50,children:(0,A.jsxs)("table",{className:"w-100 background-white br-4",children:[(0,A.jsx)("thead",{className:" ",children:(0,A.jsxs)("tr",{children:[(0,A.jsxs)("th",{style:{width:47},className:"background-header text-white fixed fixed-top fixed-left shadow-none",children:[j("translation:default.fields.productCode.label"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",style:{left:47,whiteSpace:"pre-wrap !important"},children:[j("translation:default.fields.productDesc.label"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:default.fields.quantity.label"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:default.fields.unitOfMeasure"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.unitPrice")}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.palletLoadType.label")}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:shipmentAdd.productDetails.chargeableWeight.label"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:default.fields.unitOfMeasure"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:default.fields.billQty"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:default.fields.unitOfMeasure"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:default.fields.length"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:default.fields.width"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsxs)("th",{className:"background-header text-white fixed fixed-top",children:[j("translation:default.fields.height"),(0,A.jsx)("span",{className:"ml-2 pt-5 text-iconDanger fw-800 f-18",children:"*"})]}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.unitOfMeasure")}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.cube.label")}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.class.label")}),g&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.hazmatClass.label")}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:shipmentAdd.productDetails.hazmatUnNumber.label")}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:shipmentAdd.productDetails.saidToContain.label")})]}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:shipmentAdd.productDetails.purchaseOrders.label")}),g&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:shipmentAdd.productDetails.salesOrders.label")})}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:shipmentAdd.productDetails.lineItemNumber.label")}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.packageID.label")}),g&&(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.countryOfOrigin")}),p&&(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Sequence Code"}),g&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:shipmentAdd.productDetails.htsCode.label")}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:default.fields.eccnNumber")})]}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:j("translation:shipmentAdd.productDetails.nmfcNumber.label")}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top",children:"Catch Date"}),(0,A.jsx)("th",{className:"background-header text-white fixed fixed-top fixed-right"})]})}),(0,A.jsx)("tbody",{children:t.map(((e,t)=>{let{isNew:s,...i}=e;return(0,A.jsx)(Hl,{index:t,isNew:s,handleReset:l,handleSubmit:a,remove:n,productDetails:i,shipmentEditStatus:d,setShipmentEditStatus:r,handleNewProductModal:o,setSelectedPackageId:c,isPartialSave:h,productFieldsVisibility:g,showCustomerSeqNo:p},i.shipmentDetailsID)}))})]})})})},Yl=()=>{var e,t,l,a,n,d,h,m,u,f,j;const[b]=C.Z.useForm(),N=(0,c.v9)((e=>e.common.notificationAPI)),{shipmentDetails:S,shipmentProductList:w,updateProductFreightClass:D,shipmentProductViewMode:k}=(0,c.v9)((e=>e.shipment)),[M,T]=(0,s.useState)(!1),[I,L]=(0,s.useState)(!1),[R,K]=(0,s.useState)(""),[V,U]=(0,s.useState)(!1),{user:G}=(0,c.v9)((e=>e.auth)),H=(0,c.I0)(),{tmsSettings:q}=(0,c.v9)((e=>e.settings)),{pathname:Y}=(0,i.TH)(),_=(0,s.useMemo)((()=>(0,E.F)(Y)),[Y]),{t:W}=(0,F.$G)([_,"translation"]),[$,Q]=(0,s.useState)(!1),[X,J]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(!1),[le,ae]=(0,s.useState)(1),se=(0,s.useMemo)((()=>{var e,t;let l={origin:{},destination:{}};if((null===S||void 0===S||null===(e=S.data)||void 0===e||null===(t=e.transportationList)||void 0===t?void 0:t.length)>1){let e=(0,p.filter)(S.data.transportationList,(e=>{let{stopType:t}=e;return 1==t}));e=(0,p.orderBy)(e,["displaySequence"],["asc"])[0];let t=(0,p.filter)(S.data.transportationList,(e=>{let{stopType:t}=e;return 2==t}));t=(0,p.orderBy)(t,["displaySequence"],["desc"])[0],l.origin=e,l.destination=t}return l}),[null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.transportationList]),ne=(0,s.useMemo)((()=>k===v.L0.CARD),[k]),de=(0,s.useMemo)((()=>{var e,t,l,a;return!(null===se||void 0===se||null===(e=se.origin)||void 0===e||!e.countryCode||null===se||void 0===se||null===(t=se.destination)||void 0===t||!t.countryCode)&&("US"===(null===se||void 0===se||null===(l=se.origin)||void 0===l?void 0:l.countryCode)&&"US"===(null===se||void 0===se||null===(a=se.destination)||void 0===a?void 0:a.countryCode)?{weightUom:"LB",dimUom:"N"}:{weightUom:"KG",dimUom:"C"})}),[se]),re=e=>{},oe=async(e,t)=>{try{var l,a;let d={...null===w||void 0===w||null===(l=w.data)||void 0===l?void 0:l[t],...e};if(d.gridOperation=d.gridOperation?d.gridOperation:2,d=(0,z.Hk)(d),H((0,lt.ef)(!0)),null!==(a=d)&&void 0!==a&&a.productCode){var s,i,n;let{data:e}=await(0,ie.mA)({ProductCode:null===(s=d)||void 0===s?void 0:s.productCode});e=(0,z.Hk)(e),H((0,lt.ef)(!1)),(null===(i=d)||void 0===i?void 0:i.productCode)===(null===(n=e)||void 0===n?void 0:n.productCode)?ce(d,t):te({productData:d,index:t})}else ce(d,t)}catch(d){H((0,lt.ef)(!1))}},ce=(e,t)=>{var l;const a={1:W("translation:shipment.addingNewProductIs"),2:W("translation:shipment.modifyingProductIs"),3:W("translation:shipment.deletingProductIs")};H((0,lt.ef)(!0));let s={...(0,el.pd)(e),shipmentKey:null===S||void 0===S||null===(l=S.data)||void 0===l?void 0:l.shipmentKey,URL:vl.SHIPMENT_PRODUCT_DETAILS_SAVE,notificationTitle:a[null===e||void 0===e?void 0:e.gridOperation],shouldRefetch:!0,pageNo:le,index:t,callBack:()=>{var e,t;U(!1),H((0,x.KHM)({ShipmentKey:null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.shipmentKey,ShipmentNumber:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.shipmentNo}))}};H((0,x.WOg)(s))},he=(e,t)=>{let l=(0,p.cloneDeep)(w.data);t?(l.splice(e,1),H((0,x.Z1D)({isSet:!0,data:l}))):(w.data[e].gridOperation=3,ce(w.data[e],e))},me=()=>{Q(!1),J(!1)},ue=e=>{J(e),Q(!0)},fe=(0,jl.Z)(),ve=(0,s.useMemo)((()=>{var e;return(0,z.Az)(null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.status)}),[null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.status]),je=()=>{var e;ae(le+1),H((0,x.scd)({ShipmentKey:null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.shipmentKey,PageSize:null===w||void 0===w?void 0:w.PageSize,PageNumber:le+1}))};(0,s.useEffect)((()=>{var e,t;null!==S&&void 0!==S&&null!==(e=S.data)&&void 0!==e&&e.shipmentKey&&H((0,x.scd)({ShipmentKey:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.shipmentKey,PageSize:null===w||void 0===w?void 0:w.PageSize,PageNumber:le}))}),[null===S||void 0===S||null===(l=S.data)||void 0===l?void 0:l.shipmentKey]);const be=(0,il.Z)("isMenuVisible");return(0,A.jsxs)(C.Z.Provider,{onFormFinish:(e,t)=>{let{forms:l}=t;if(l&&"classCalculatorForm"===e){let e=(0,p.cloneDeep)(w.data);for(const t in l)if(Object.hasOwnProperty.call(l,t)&&"classCalculatorForm"!==t){const a=l[t].getFieldsValue(),s=(0,p.findIndex)(e,{shipmentDetailsID:a.shipmentDetailsID});e[s]={...e[s],...a}}(async e=>{try{H((0,lt.ef)(!0));const l=(0,p.minBy)(e||[],(e=>{let{itemSequenceKey:t}=e;return t}));if(!l)throw"Failed to calculate freight class";await(0,z.XQ)([l]);let a=0;if(null!==l&&void 0!==l&&l.nmfcNumber&&0!=(null===l||void 0===l?void 0:l.nmfcNumber)){var t;H((0,lt.ef)(!0));let e={ShipmentKey:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.shipmentKey,NMFCNumber:null===l||void 0===l?void 0:l.nmfcNumber,Weight:l.weight,Length:l.length,Width:l.width,Height:l.height,dimUOM:l.dimUom,WeightUOM:l.weightUom};const{data:s}=await(0,ie.ib)(e);H((0,lt.ef)(!1)),s?a=s:H((0,lt.d7)({open:!0,description:"NMFC Number not found!"}))}if(a>0)H((0,x.g9l)(a)),(0,z.Nh)(N,{type:v.GT.SUCCESS,title:"NMFC Freight Class Calculated Successfully!"});else{let e=(0,z.Ug)(l.length,l.width,l.height,l.weight,l.weightUom,l.billQty,l.billQtyUom,l.dimUom,l.cube);if(e>0){let t={shipmentKey:S.data.shipmentKey,freightClass:e};H((0,x.i14)(t))}else K("Freight class can't be update with 0"),T(!0),H((0,lt.ef)(!1))}}catch(l){K("string"===typeof l?l:"Unknown error"),T(!0),H((0,lt.ef)(!1))}})(e)}},children:[(0,A.jsx)(C.Z,{form:b,name:"classCalculatorForm"}),(0,A.jsxs)("div",{className:"d-flex py-16 h-100",style:{flexDirection:"column"},children:[(0,A.jsxs)(r.Z,{className:"px-30 align-items-center",justify:"space-between",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"fw-700 f-18",children:W("translation:default.fields.productDetails")})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{justify:"end",gutter:16,align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{disabled:!fe,onClick:()=>{var e,t,l,a,s,i,n,d,r,o,c,h;H((0,x.Z1D)({isSet:!0,data:[{isNew:!0,shipmentDetailsID:0,gridOperation:1,itemSequenceKey:0,productCode:null===q||void 0===q||null===(e=q.data)||void 0===e||null===(t=e.shipmentSettings)||void 0===t?void 0:t.defaultProductCode,productDescription:null===q||void 0===q||null===(l=q.data)||void 0===l||null===(a=l.shipmentSettings)||void 0===a?void 0:a.defaultProdDesc,length:null===q||void 0===q||null===(s=q.data)||void 0===s||null===(i=s.shipmentSettings)||void 0===i?void 0:i.defaultLen,width:null===q||void 0===q||null===(n=q.data)||void 0===n||null===(d=n.shipmentSettings)||void 0===d?void 0:d.defaultWidth,height:null===q||void 0===q||null===(r=q.data)||void 0===r||null===(o=r.shipmentSettings)||void 0===o?void 0:o.defaultHeight,class:null===q||void 0===q||null===(c=q.data)||void 0===c||null===(h=c.shipmentSettings)||void 0===h?void 0:h.defaultFreightClass,palletLoadType:"Non Stackable",...de||{}},...null!==w&&void 0!==w&&w.data?w.data:[]]}))},children:W("translation:shipment.addNewProductDetails")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{disabled:0===(null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.length)||!fe,onClick:()=>{let e={...w.data[0],shipmentDetailsID:0,gridOperation:1,itemSequenceKey:0};try{var t,l;H((0,lt.ef)(!0));let a={...(0,el.pd)(e,null===G||void 0===G||null===(t=G.data)||void 0===t?void 0:t.id),shipmentKey:null===S||void 0===S||null===(l=S.data)||void 0===l?void 0:l.shipmentKey,URL:vl.SHIPMENT_PRODUCT_DETAILS_SAVE,notificationTitle:W("translation:shipment.copyingLastProductIs"),shouldRefetch:!0,pageNo:le};H((0,x.WOg)(a))}catch(a){H((0,lt.ef)(!1))}},children:W("translation:shipment.copyLastProductDetailsEntry")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(B.Z,{placement:"bottomRight",title:W("translation:default.fields.popconfirmFreightClass"),onConfirm:()=>b.submit(),okText:W("translation:default.options.yes"),cancelText:W("translation:default.options.no"),overlayClassName:"delete-popup-container w-auto",children:(0,A.jsx)(g.Z,{disabled:0===(null===w||void 0===w||null===(n=w.data)||void 0===n?void 0:n.length)||!fe,loading:D.progressing,children:W("translation:shipment.freightClassCalculator")})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{onClick:()=>{H((0,x.f3u)(k===v.L0.CARD?v.L0.TABLE:v.L0.CARD))},children:(0,A.jsx)(O.Z,{Icon:ne?Fl.r:Il.r,color:"header",width:22,height:22})})})]})})]}),(0,A.jsx)(Oe.Z,{className:"mt-0 my-16 ml-n16 vw-100 "}),(0,A.jsx)("div",{className:" overflow-hidden mb-16",style:{flex:1},children:ne?(0,A.jsx)(at.Z,{className:"h-100",loadMore:je,isLoading:null===w||void 0===w?void 0:w.progressing,hasMore:(null===w||void 0===w||!w.progressing)&&(null===(d=w.data)||void 0===d?void 0:d.length)<(null===w||void 0===w?void 0:w.totalRecords),scrollOffset:5,spinnerSize:"large",children:(null===w||void 0===w||null===(h=w.data)||void 0===h?void 0:h.length)>0?null===w||void 0===w||null===(m=w.data)||void 0===m?void 0:m.map(((e,t)=>{let{isNew:l,...a}=e;return(0,A.jsx)("div",{className:"pl-30 pr-20 pb-15",children:(0,A.jsx)(Tl.Z,{index:t,isNew:l,handleReset:re,handleSubmit:oe,remove:he,productDetails:a,shipmentEditStatus:V,setShipmentEditStatus:U,handleNewProductModal:ue,setSelectedPackageId:L,isPartialSave:ve,productFieldsVisibility:be,showCustomerSeqNo:!0},a.shipmentDetailsID)},a.shipmentDetailsID)})):(0,A.jsx)(A.Fragment,{children:null!==w&&void 0!==w&&w.progressing?(0,A.jsx)(A.Fragment,{}):(0,A.jsx)(Z.Z,{descriptionTwo:W("translation:shipment.createSomeData")})})}):(0,A.jsx)(ql,{productList:null!==w&&void 0!==w&&w.data?null===w||void 0===w?void 0:w.data:[],handleReset:re,handleSubmit:oe,handleRemove:he,shipmentEditStatus:V,setShipmentEditStatus:U,handleNewProductModal:ue,setSelectedPackageId:L,isPartialSave:ve,loadMore:je,isLoading:null===w||void 0===w?void 0:w.progressing,hasMore:(null===w||void 0===w||!w.progressing)&&(null===(u=w.data)||void 0===u?void 0:u.length)<(null===w||void 0===w?void 0:w.totalRecords),showCustomerSeqNo:!0})}),(0,A.jsx)("div",{className:"px-30",children:(0,A.jsx)(ge.Z,{className:"background-header px-16 py-5",children:(0,A.jsxs)(r.Z,{justify:"space-around",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",defaultValue:"0",count:(0,p.sumBy)(null===w||void 0===w?void 0:w.data,(e=>{let{weight:t}=e;return Number(t)})),label:W("translation:shipment.totalChargableWeight"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",count:(0,p.sortedUniq)(null===w||void 0===w?void 0:w.data.map((e=>{let{weightUOMDesc:t}=e;return t}))).join(", "),label:W("translation:shipment.weightUnitOfMeasure"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",defaultValue:"0",count:(0,p.sumBy)(null===w||void 0===w?void 0:w.data,(e=>{let{billQty:t}=e;return Number(t)})),label:W("translation:default.fields.billQty"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",count:(0,p.sortedUniq)(null===w||void 0===w?void 0:w.data.map((e=>{let{billQtyUOMDesc:t}=e;return t}))).join(", "),label:"Package/Billed Quantity Unit Of Measure",contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",defaultValue:"0",count:(0,p.sumBy)(null===w||void 0===w?void 0:w.data,(e=>{let{length:t}=e;return Number(t)})),label:W("translation:default.fields.length"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",defaultValue:"0",count:(0,p.sumBy)(null===w||void 0===w?void 0:w.data,(e=>{let{width:t}=e;return Number(t)})),label:W("translation:default.fields.width"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",defaultValue:"0",count:(0,p.sumBy)(null===w||void 0===w?void 0:w.data,(e=>{let{height:t}=e;return Number(t)})),label:W("translation:default.fields.height"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",count:(0,p.sortedUniq)(null===w||void 0===w?void 0:w.data.map((e=>{let{dimUOMDesc:t}=e;return t}))).join(", "),label:"DIM Unit Of Measure",contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(xe.Z,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(pe.Z,{reverse:!0,align:"middle",defaultValue:"0",count:(0,p.sumBy)(null===w||void 0===w?void 0:w.data,(e=>{let{cube:t}=e;return Number(t)})),label:W("translation:default.fields.cube.label"),contentClass:"text-white f-16 fw-600",labelClass:"text-light f-14"})})]})})})]}),(0,A.jsx)(ht.Z,{open:M,description:R,onClose:()=>T(!1),onOk:()=>T(!1)}),(0,A.jsx)(Dl.Z,{addressBookModal:$&&!1!==X,onSelectAddressBook:e=>{let t=(0,p.cloneDeep)(w.data);t[X]={...t[X],productCode:e.productCode,productDescription:e.productDesc},H((0,x.Z1D)({isSet:!0,data:t})),me()},handleAddressBookModalClose:me}),(0,A.jsx)(kl.Z,{packageId:I,setSelectedPackageId:L,shipmentNumber:null===S||void 0===S||null===(f=S.data)||void 0===f?void 0:f.shipmentNo}),(0,A.jsx)(Ml.Z,{open:Boolean(null===ee||void 0===ee||null===(j=ee.productData)||void 0===j?void 0:j.productCode),setOpen:te,productData:null===ee||void 0===ee?void 0:ee.productData,index:null===ee||void 0===ee?void 0:ee.index,handlePopupResponse:ce})]})};var zl=l(56262),_l=l(11786),Wl=l(31648),$l=l(22641),Ql=l(74155),Xl=l(39124),Jl=l(76349),ea=l(22258),ta=l.n(ea),la=l(9425),aa=l(3841),sa=l.n(aa),ia=l(34356);ta().APIKey="97E9F002F288BF458166B86DAC37E053";const na=(0,ia.Z)((e=>{let{hasEnabledFullScreen:t=!1,handleFullScreenClick:l=(()=>{}),coordinates:a=[],transportationList:i,drawLineOnMap:n=!0,showFullScreenToggleButton:d=!0,isMultiRoute:r=!1}=e;const[o,c]=(0,s.useState)(7),[h,m]=(0,s.useState)(!0),[u,x]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1);(0,s.useEffect)((()=>{ta()&&!1===p&&Z()}),[ta()]),(0,s.useEffect)((()=>{w()}),[t]);const g=async(e,t,l)=>{try{const a=sa()({luminosity:"dark",alpha:.9}),s=r?a:"#005F9E";let i=await D(e,t);x(!0);const d=new(ta().Route)({routeId:l?String(l):"myRoute",stops:i.map((e=>{let{latitude:t,longitude:l}=e;return new(ta().LngLat)((0,z.xe)(l),(0,z.xe)(t))})),showArrows:!1,frameRoute:!0,routeColor:s});d.addTo(p),d.on("route",(e=>{x(!1)})),d.on("error",(e=>{var t;if(null!==e&&void 0!==e&&null!==(t=e.error)&&void 0!==t&&t.message){var a,r;const t=JSON.parse(null===e||void 0===e||null===(a=e.error)||void 0===a?void 0:a.message);(null===t||void 0===t?void 0:t.length)>0&&70===(null===(r=t[0])||void 0===r?void 0:r.Code)&&(n&&b(i,d,l,s),null===d||void 0===d||d.frame())}})),j(d)}catch(a){console.log(a)}},b=(e,t,l,a)=>{try{e.forEach(((t,s)=>{let{latitude:i,longitude:n}=t;if(s+1!==e.length){var d,o,c={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[n,i],[null===e||void 0===e||null===(d=e[s+1])||void 0===d?void 0:d.longitude,null===e||void 0===e||null===(o=e[s+1])||void 0===o?void 0:o.latitude]]}}]};p.addSource("".concat(r?l:"","route-").concat(s+1),{type:"geojson",data:c}),p.addLayer({id:"".concat(r?l:"","layer-").concat(s+1),source:"".concat(r?l:"","route-").concat(s+1),type:"line",paint:{"line-width":3,"line-color":a}})}})),t.setVisibility(!1),t.setVisibility(!0),p.jumpTo({center:[e[0].longitude,e[0].latitude],zoom:1})}catch(s){console.log(s)}};(0,s.useEffect)((()=>{p&&(p.on("load",(function(){m(!1),w(),r?a.forEach((e=>{let{stops:t,shipmentKey:l}=e;g(t,t,l)})):g(a,i)})),p.on("zoom",(function(e,t){c(p.getZoom())})))}),[p]);const Z=()=>{var e,t;const l=new(ta().Map)({container:"shipment-trimble-map",style:ta().Common.Style.TRANSPORTATION,center:[(0,z.xe)(null===a||void 0===a||null===(e=a[0])||void 0===e?void 0:e.longitude),(0,z.xe)(null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.latitude)],zoom:2,pixelRatio:window.devicePixelRatio||1});f(l)},y=e=>{e>=0&&e<=22&&(c(e),p.setZoom(e))},C=(0,s.useMemo)((()=>t?22:16),[t]),S=(0,s.useMemo)((()=>t?15:5),[t]),w=()=>{p&&p.resize(),v&&v.frame()},D=(e,t)=>new Promise((async(l,a)=>{try{let a=e.map(((e,l)=>({Address:{City:t[l].city,State:"NS"===t[l].stateCode||"UNITED STATES"!==t[l].countryName||"CANADA"!==t[l].countryName?"":t[l].stateCode,Zip:t[l].zipCode,County:"",Country:t[l].countryName,CountryAbbreviation:t[l].countryCode,SPLC:"",CountryPostalFilter:0,AbbreviationFormat:0},Region:0,GeoList:!1,MaxResults:null,CitySearchFilter:0})));const{data:s}=await(0,la.yC)({Locations:a});l(s.map((e=>{let{Coords:{Lat:t,Lon:l}}=e;return{latitude:t,longitude:l}})))}catch(s){a(s)}}));return(0,A.jsxs)("div",{className:"google-maps-container",children:[(0,A.jsx)("div",{id:"shipment-trimble-map",className:"w-100 h-100"}),h?(0,A.jsx)(N.Z,{}):(0,A.jsx)("div",{className:"maps-controls-container ".concat(t?"expanded":""),children:(0,A.jsxs)("div",{className:"d-flex flex-direction-column",children:[(0,A.jsx)("div",{className:"mb-".concat(S),children:(0,A.jsx)(P.Z,{className:"map-buttons-container",onClick:()=>y(o+1),children:(0,A.jsx)(O.Z,{Icon:Xl.r,color:"primary",width:C,height:C})})}),(0,A.jsx)("div",{className:d?"mb-".concat(S):"mb-10",children:(0,A.jsx)(P.Z,{className:"map-buttons-container",onClick:()=>y(o-1),children:(0,A.jsx)(O.Z,{Icon:Jl.r,color:"primary",width:C,height:C})})}),d&&(0,A.jsx)("div",{children:(0,A.jsx)(P.Z,{className:"map-buttons-container",onClick:l,children:(0,A.jsx)(O.Z,{Icon:t?$l.r:Ql.r,color:"primary",width:C,height:C})})})]})})]})}));var da,ra=l(44558),oa=l(56696),ca=l(30052),ha=l(19953);function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},ma.apply(this,arguments)}function ua(e,t){let{title:l,titleId:a,...i}=e;return s.createElement("svg",ma({width:37,height:26,viewBox:"0 0 37 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),l?s.createElement("title",{id:a},l):null,da||(da=s.createElement("path",{d:"M34.7763 11.25L32.3283 10.188L30.2493 6.138C29.6823 5.031 28.5483 4.338 27.2973 4.347H23.7153V3.33C23.7153 1.494 22.2483 0 20.4213 0H3.27627C1.44927 0.009 0.000267994 1.512 0.000267994 3.339V18.846C-0.017732 19.962 0.873268 20.88 1.98927 20.898H2.44827C2.44827 20.979 2.44827 21.015 2.44827 21.06C2.44827 23.355 4.29327 25.227 6.59727 25.236C8.90127 25.245 10.7643 23.391 10.7733 21.087V21.051C10.7733 20.997 10.7733 20.97 10.7733 20.889H24.6243V21.051C24.6243 23.346 26.4693 25.218 28.7733 25.227C31.0773 25.236 32.9403 23.382 32.9493 21.078V20.88H33.9843C35.1003 20.88 36.0093 19.971 36.0093 18.855V13.113C36.0273 12.321 35.5413 11.574 34.7853 11.25H34.7763ZM6.61527 23.643C5.20227 23.643 4.05927 22.5 4.05927 21.087C4.05927 19.674 5.20227 18.531 6.61527 18.531C8.02827 18.531 9.17127 19.674 9.17127 21.087C9.17127 22.5 8.01927 23.643 6.61527 23.643ZM22.1043 19.314H10.3863C9.71127 17.847 8.23527 16.902 6.61527 16.911C4.99527 16.911 3.51927 17.838 2.84427 19.314H2.02527C1.77327 19.314 1.61127 19.125 1.61127 18.873V14.733H22.1043V19.314ZM22.1043 3.348V13.122H1.61127V3.348C1.61127 2.412 2.34027 1.629 3.28527 1.629H20.4123C21.3483 1.629 22.1043 2.412 22.1043 3.339V3.348ZM23.7153 5.976H27.2973C27.9363 5.976 28.5303 6.318 28.8273 6.885L30.4383 9.999H23.7153V5.967V5.976ZM28.7913 23.652C27.3783 23.652 26.2353 22.509 26.2353 21.096C26.2353 19.683 27.3783 18.54 28.7913 18.54C30.2043 18.54 31.3473 19.683 31.3473 21.096C31.3473 22.5 30.2043 23.652 28.7913 23.652ZM34.4073 18.882C34.4073 19.134 34.2363 19.323 33.9933 19.323H32.5623C31.5903 17.244 29.1153 16.344 27.0363 17.316C26.1543 17.73 25.4343 18.441 25.0293 19.323H23.7243V11.592H31.5993L34.1553 12.717C34.3173 12.798 34.4163 12.978 34.4163 13.149V18.864L34.4073 18.882Z",fill:"#0EB766"})))}const xa=s.forwardRef(ua);l.p;var pa=l(79010),fa=l(51582);const va=e=>{var t,l,a;let{calculateMileage:n,handleOnClickRateShopButton:d,handleOnClickSpotBidButton:h,handleFreightClassCalculator:m,handleRateEntryClick:u}=e;const f=(0,jl.Z)(),{pathname:j}=(0,i.TH)(),b=(0,s.useMemo)((()=>(0,E.F)(j)),[j]),{t:Z}=(0,F.$G)([b,"translation"]),y=(0,c.v9)((e=>e.shipment.shipmentDetails.data)),N=(0,c.v9)((e=>e.shipment.shipmentEditStatus),c.wU),C=(0,c.v9)((e=>e.shipment.shipmentProductFullList.data),c.wU),S=(0,c.v9)((e=>e.shipment.shipmentProductFullList.progressing),c.wU),[w,D]=(0,s.useState)([]),[k,M]=(0,s.useState)(!1),[T,I]=(0,s.useState)(!1),[L,R]=(0,s.useState)(!1),K=(0,s.useRef)(null),V=(0,s.useRef)(null),U=(0,c.v9)((e=>e.auth.user.data.id),c.wU),H=(0,c.I0)();(0,s.useEffect)((()=>{y.transportationList&&D(y.transportationList)}),[null===y||void 0===y||null===(t=y.transportationList)||void 0===t?void 0:t.length]);const[q,Y]=(0,s.useState)(!1),_=async(e,t)=>{try{H((0,lt.ef)(!0));let l=(0,p.cloneDeep)(w);if(l[t]={...l[t],...e},D(l),null!==e&&void 0!==e&&e.searchId){if(3!==e.gridOperation){H((0,lt.ef)(!0));const{data:l}=await(0,ie.Yu)({searchId:null===e||void 0===e?void 0:e.searchId});if(H((0,lt.ef)(!1)),0===(null===l||void 0===l?void 0:l.length))return R(t),Y(!0),!0}W(e,t)}else W(e,t)}catch(l){console.log(l),H((0,lt.ef)(!1))}},W=(e,t)=>{try{H((0,lt.ef)(!0));let l=(0,p.cloneDeep)(w);l[t]={...l[t],...e};const a={1:Z("translation:shipmentAdd.transportationDetails.addingNewStopIs"),2:Z("translation:shipmentAdd.transportationDetails.modifyingStopIs"),3:Z("translation:shipmentAdd.transportationDetails.deletingStopIs")};l=(0,el.wi)(l,t),l=(0,el.xE)(l,t),l=(0,el.Ss)(l,U,y.customerKey);let s={shipmentKey:y.shipmentKey,shipmentShipperConsigneeList:l,URL:vl.SHIPMENT_TRANSPORTATION_SAVE,notificationTitle:a[null===e||void 0===e?void 0:e.gridOperation],refetchShipment:{shipmentKey:y.shipmentKey,customerKey:y.customerKey}};H((0,x.mLV)(s))}catch(l){console.log(l),H((0,lt.ef)(!1))}},$=(e,t)=>{let l=(0,p.cloneDeep)(w);t?(l.splice(e,1),D(l),H((0,x.sR3)(!1))):(l[e].gridOperation=3,_(l[e],e))},Q=e=>{R(e),M(!0)},X=()=>{M(!1),R(!1)},{originData:J,destinationData:ee,stopsList:te}=(0,s.useMemo)((()=>{const e={originData:{},destinationData:{},stopsList:[]};return(null===w||void 0===w?void 0:w.length)>0&&(e.originData=w[0],e.destinationData=w[w.length-1],e.stopsList=w.slice(1,w.length-1)),e}),[w]);(0,s.useEffect)((()=>{var e;null!==te&&void 0!==te&&null!==(e=te[0])&&void 0!==e&&e.isNew&&V&&K.current.scrollTo({behavior:"smooth",left:0,top:V.current.clientHeight})}),[null===te||void 0===te?void 0:te.length]);const le=(0,s.useMemo)((()=>(0,z.Az)(y.status)),[y.status]),ae=(0,Nt.Z)("IsRateEntry"),se=(0,s.useMemo)((()=>[...0!==C.length&&f?[{key:"1",label:(0,A.jsx)(B.Z,{placement:"bottomRight",title:Z("translation:default.fields.popconfirmFreightClass"),onConfirm:m,okText:Z("translation:default.options.yes"),cancelText:Z("translation:default.options.no"),overlayClassName:"delete-popup-container w-auto",children:(0,A.jsx)("a",{children:Z("translation:shipment.freightClassCalculator")})})}]:[],...v.i1.includes(y.status)&&ae&&le?[]:[{key:"3",label:(0,A.jsx)("a",{onClick:u,children:Z("translation:shipmentAdd.rateShopDetails.rateEntry")})}],...f?[{key:"5",label:(0,A.jsx)("a",{onClick:n,children:Z("translation:default.buttons.mileageCalculator")})}]:[]]),[j,f,le,N,y,null===C||void 0===C?void 0:C.length]),ne=(0,fa.Z)();return(0,A.jsxs)("div",{className:"h-100 d-flex flex-direction-column",children:[(0,A.jsxs)(r.Z,{gutter:4,className:"my-10 px-30 transportation-edit-badges-container ",align:"middle",justify:"space-between",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(ra.Z,{bgColor:"border",color:"label",children:String(1).padStart(2,"0")})}),(0,A.jsx)(o.Z,{flex:1,children:(0,A.jsx)("div",{className:"horizontal-line"})}),(0,A.jsxs)(o.Z,{children:[(0,A.jsx)(O.Z,{Icon:xa,color:"border",className:"d-flex"}),(0,A.jsx)(G.Z,{className:"text-border f-14 fw-600 lh-0",children:Z("translation:default.fields.pickUp")})]}),(0,A.jsx)(o.Z,{flex:1,children:(0,A.jsx)("div",{className:"horizontal-line"})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{gutter:15,align:"middle",children:[w.length>2?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)(g.Z,{disabled:N,type:"default",onClick:()=>I((e=>!e)),children:[Z(T?"translation:default.buttons.hide":"translation:default.buttons.view")," ",Z("translation:default.buttons.stops"),"(",w.length-2,")"]})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(O.Z,{Icon:pa.r,color:"header",width:10,height:10})})]}):(0,A.jsx)(A.Fragment,{}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{onClick:()=>{H((0,x.sR3)(!0)),I(!0);const e=(0,p.cloneDeep)(w);e.splice((null===e||void 0===e?void 0:e.length)-1,0,{isNew:!0,primaryKey:0,gridOperation:1,isResetNew:0,shipmentKey:y.shipmentKey,displaySequence:null===e||void 0===e?void 0:e.length}),D(e)},disabled:!f||N,children:Z("translation:shipmentAdd.transportationDetails.addStops")})})]})}),(0,A.jsx)(o.Z,{flex:1,children:(0,A.jsx)("div",{className:"horizontal-line"})}),(0,A.jsxs)(o.Z,{children:[(0,A.jsx)(O.Z,{Icon:xa,color:"border",className:"d-flex"}),(0,A.jsx)(G.Z,{className:"text-border f-14 fw-600 lh-0",children:Z("translation:shipment.drawer.details.delivery")})]}),(0,A.jsx)(o.Z,{flex:1,children:(0,A.jsx)("div",{className:"horizontal-line"})}),(0,A.jsx)(o.Z,{className:"transportation-edit-badges-container",children:(0,A.jsx)(ra.Z,{bgColor:"border",color:"label",children:String(w.length).padStart(2,"0")})})]}),(0,A.jsxs)(r.Z,{gutter:5,className:"transportation-header-button-container",justify:"end",align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",onClick:d,disabled:!f||N||le,showBackground:!0,children:Z("translation:default.buttons.rateShop")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",onClick:()=>d(!0),disabled:!f||N||le,showBackground:!0,children:"API Rate Shop"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:" text-black f-14",onClick:h,disabled:!f||N||le,showBackground:!0,children:Z("translation:default.fields.spotBid")})}),(null===se||void 0===se?void 0:se.length)>0?(0,A.jsx)(o.Z,{className:"pt-5",children:(0,A.jsx)(nt.Z,{spinning:S,children:(0,A.jsx)(Be.Z,{overlay:(0,A.jsx)(it.Z,{items:se}),placement:"bottomLeft",children:(0,A.jsx)(g.Z,{ghost:!0,className:"bg-none border-none w-0 p-0 shadow-none",size:"small",shape:"circle",type:"ghost",children:(0,A.jsx)(O.Z,{Icon:_e.r,color:"header"})})})})}):(0,A.jsx)(A.Fragment,{})]}),(0,A.jsx)(Oe.Z,{className:"mt-0 mb-10 ml-n16 vw-100 "}),(0,A.jsxs)("div",{ref:K,className:"pt-10 px-30 custom-scroll-bar overflow-x-hidden flex-1",children:[(0,A.jsxs)(r.Z,{gutter:15,align:"stretch",ref:V,children:[(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(ca.Z,{defaultValues:null===(l=y.transportationList)||void 0===l?void 0:l[0],transportationDetails:J,handleSubmit:_,handleRemove:$,index:0,handleNewLocation:Q,hideDeleteButton:!0,isStopsGrid:!1,totalStops:null===w||void 0===w?void 0:w.length,isPartialSave:le,is12HoursFormat:ne},J.primaryKey)}),(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(ca.Z,{defaultValues:null===(a=y.transportationList)||void 0===a?void 0:a[w.length-1],transportationDetails:ee,handleSubmit:_,handleRemove:$,index:w.length-1,handleNewLocation:Q,hideDeleteButton:!0,isStopsGrid:!1,totalStops:null===w||void 0===w?void 0:w.length,isPartialSave:le,is12HoursFormat:ne},ee.primaryKey)})]}),(0,A.jsx)(r.Z,{className:"".concat(T?"":"d-none"),children:te.map(((e,t)=>{var l;return(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(ca.Z,{defaultValues:null===(l=y.transportationList)||void 0===l?void 0:l[t+1],transportationDetails:e,handleSubmit:_,handleRemove:$,index:t+1,handleNewLocation:Q,totalStops:null===w||void 0===w?void 0:w.length,isPartialSave:le,is12HoursFormat:ne},e.primaryKey)},e.primaryKey)}))})]}),(0,A.jsx)(oa.Z,{addressBookModal:k&&!1!==L,onSelectAddressBook:e=>{var t,l;let a=(0,p.cloneDeep)(w);const s=null===e||void 0===e||null===(t=e.daysOfWeek)||void 0===t?void 0:t.split("-"),i=null===e||void 0===e||null===(l=e.hoursOfOperation)||void 0===l?void 0:l.split("-");a[L]={...a[L],...e,address1:e.addr1,fromOperationDay:null===s||void 0===s?void 0:s[0],toOperationDay:null===s||void 0===s?void 0:s[1],fromOperationHours:(0,He.RK)(null===i||void 0===i?void 0:i[0]),toOperationHours:(0,He.RK)(null===i||void 0===i?void 0:i[1]),zipCode:null===e||void 0===e?void 0:e.zip,extension:null===e||void 0===e?void 0:e.phoneExt,stateCode:null===e||void 0===e?void 0:e.state,isAddressBook:!0},D(a),X()},handleAddressBookModalClose:X}),(0,A.jsx)(ha.Z,{open:q,setOpen:Y,locationData:w[L],index:L,handlePopupResponse:W})]})},ja=(0,s.memo)(va),ga=()=>{const e=(0,c.I0)(),{shipmentExceptionTypes:t}=(0,c.v9)((e=>e.lookups));return(0,s.useEffect)((()=>{t.isFetched||e((0,h.Hi)())}),[null===t||void 0===t?void 0:t.isFetched]),(null===t||void 0===t||!t.progressing)&&(null===t||void 0===t?void 0:t.data)},ba=()=>{const e=(0,c.I0)(),{shipmentItrackStatus:t}=(0,c.v9)((e=>e.lookups));return(0,s.useEffect)((()=>{t.isFetched||e((0,h.Lo)())}),[null===t||void 0===t?void 0:t.isFetched]),(null===t||void 0===t||!t.progressing)&&(null===t||void 0===t?void 0:t.data)},Za=()=>{const e=(0,c.I0)(),{shipmentItrackStatusTypes:t}=(0,c.v9)((e=>e.lookups));return(0,s.useEffect)((()=>{t.isFetched||e((0,h.mS)())}),[null===t||void 0===t?void 0:t.isFetched]),(null===t||void 0===t||!t.progressing)&&(null===t||void 0===t?void 0:t.data)};var ya=l(94433);const Na=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.exceptionType.placeholder"),label:l=J.ZP.t("translation:default.fields.exceptionType.label"),rules:a=[],name:n,editMode:d,value:r,tooltip:o,margin:c="mb-0"}=e;const[h,m]=(0,s.useState)([]),u=ga(),{pathname:x}=(0,i.TH)(),p=(0,s.useMemo)((()=>(0,E.F)(x)),[x]),{t:f}=(0,F.$G)([p,"translation"]);return(0,s.useEffect)((()=>{if((null===u||void 0===u?void 0:u.length)>=0){let e=u.map((e=>({label:e.codeDesc,value:e.codeId})));m(e)}else m([])}),[u]),(0,A.jsx)(D.Z,{loading:!1===u,options:[{label:"--".concat(f("translation:default.options.all"),"--"),value:"**"},...h],placeholder:t,label:l,margin:c,rules:a,name:n,editMode:d,value:r,tooltip:o})};var Ca=l(79398);const Sa=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.status.placeholder"),label:l=J.ZP.t("translation:default.fields.status.label"),rules:a=[],name:n,editMode:d,value:r,tooltip:o,margin:c="mb-0",singleLineMode:h,colon:m,onChange:u=(()=>{})}=e;const[x,p]=(0,s.useState)([]),f=ba(),{pathname:v}=(0,i.TH)(),j=(0,s.useMemo)((()=>(0,E.F)(v)),[v]),{t:g}=(0,F.$G)([j,"translation"]);return(0,s.useEffect)((()=>{if((null===f||void 0===f?void 0:f.length)>=0){let e=f.map((e=>(0,z.Hk)({label:e.codeDesc,value:e.codeId})));p(e)}else p([])}),[f]),(0,A.jsx)(D.Z,{loading:!1===f,options:[{label:"--".concat(g("translation:default.options.all"),"--"),value:"**"},...x],placeholder:t,label:l,margin:c,rules:a,name:n,editMode:d,value:r,tooltip:o,singleLineMode:h,colon:m,onChange:u})},wa=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.status.placeholder"),label:l=J.ZP.t("translation:default.fields.status.label"),rules:a=[],name:n,editMode:d,value:r,tooltip:o,margin:c="mb-0",singleLineMode:h,colon:m}=e;const[u,x]=(0,s.useState)([]),p=Za(),{pathname:f}=(0,i.TH)(),v=(0,s.useMemo)((()=>(0,E.F)(f)),[f]),{t:j}=(0,F.$G)([v,"translation"]);return(0,s.useEffect)((()=>{if((null===p||void 0===p?void 0:p.length)>=0){let e=p.map((e=>(0,z.Hk)({label:e.codeDesc,value:e.codeId})));x(e)}else x([])}),[p]),(0,A.jsx)(D.Z,{loading:!1===p,options:[{label:"--".concat(j("translation:default.options.all"),"--"),value:"**"},...u],placeholder:t,label:l,margin:c,rules:a,name:n,editMode:d,value:r,tooltip:o,singleLineMode:h,colon:m})},Da=e=>{var t,l,a,n,d,c,h,m,u,x,p,f;let{form:v,defaultValues:j={},index:g,handleRemove:Z,handleSubmit:N,shipmentOriginDestDetails:S={}}=e;const D=C.Z.useWatch("items",v),k=(0,s.useMemo)((()=>null===D||void 0===D?void 0:D[g]),[D,g]),L=(0,s.useMemo)((()=>Boolean(null===k||void 0===k?void 0:k.editMode)),[null===k||void 0===k?void 0:k.editMode]),{pathname:B}=(0,i.TH)(),P=(0,s.useMemo)((()=>(0,E.F)(B)),[B]),{t:O}=(0,F.$G)([P,"translation"]);(0,s.useEffect)((()=>{}),[null===k||void 0===k?void 0:k.editMode]);const R=(e,t)=>{let l=v.getFieldValue("items");l[g][t]=e,v.setFieldValue("items",l)};return(0,A.jsxs)(b.Z,{className:"mb-15",showBorder:!0,customHeader:(0,A.jsxs)(r.Z,{className:"w-100",align:"middle",children:[(0,A.jsx)(o.Z,{className:"flex-1 mr-15",children:(0,A.jsxs)(r.Z,{align:"middle",gutter:15,children:[(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsxs)(r.Z,{align:"middle",gutter:5,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsxs)(T.Z,{className:"fw-400 ",children:[O("translation:default.fields.trackingNumber.label")," :"," "]})}),(0,A.jsxs)(o.Z,{children:[(0,A.jsx)(y.Z,{className:"text-highlight",children:null===k||void 0===k?void 0:k.shipmentTrackKey}),(0,A.jsx)(M.Z,{name:[g,"shipmentTrackKey"]})]})]})}),(0,A.jsx)(o.Z,{sm:6,children:L?(0,A.jsx)(Sa,{editMode:L,name:[g,"statusCode"],singleLineMode:!0,label:(0,A.jsx)(T.Z,{className:"fw-400 ",children:O("translation:default.fields.status.label")}),colon:!0,margin:"m-0",onChange:e=>{R(null===e||void 0===e?void 0:e.label,"statusName");const t=null===e||void 0===e?void 0:e.value;if(t){let e=v.getFieldValue("items");var l,a,s,i,n;if("XB"===t||"AM"===t)e[g].iCountryCode=null===S||void 0===S||null===(l=S.origin)||void 0===l?void 0:l.countryCode,e[g].iCountryName=null===S||void 0===S||null===(a=S.origin)||void 0===a?void 0:a.countryName,e[g].iStateCode=null===S||void 0===S||null===(s=S.origin)||void 0===s?void 0:s.stateCode,e[g].iStateName=null===S||void 0===S||null===(i=S.origin)||void 0===i?void 0:i.stateName,e[g].iCity=null===S||void 0===S||null===(n=S.origin)||void 0===n?void 0:n.city,"AM"===t?(e[g].dateTimeAtStatusDate=void 0,e[g].dateTimeAtStatusTime=void 0):"XB"===t&&(e[g].dateTimeAtStatusDate=null===j||void 0===j?void 0:j.dateTimeAtStatusDate,e[g].dateTimeAtStatusTime=Ye()((new Date).setHours(24,0,0,0)));else if("D1"===t){var d,r,o,c,h;e[g].iCountryCode=null===S||void 0===S||null===(d=S.destination)||void 0===d?void 0:d.countryCode,e[g].iCountryName=null===S||void 0===S||null===(r=S.destination)||void 0===r?void 0:r.countryName,e[g].iStateCode=null===S||void 0===S||null===(o=S.destination)||void 0===o?void 0:o.stateCode,e[g].iStateName=null===S||void 0===S||null===(c=S.destination)||void 0===c?void 0:c.stateName,e[g].iCity=null===S||void 0===S||null===(h=S.destination)||void 0===h?void 0:h.city,e[g].dateTimeAtStatusDate=void 0,e[g].dateTimeAtStatusTime=void 0}else e[g].iCountryCode=void 0,e[g].iCountryName=void 0,e[g].iStateCode=void 0,e[g].iStateName=void 0,e[g].iCity=void 0,e[g].dateTimeAtStatusDate=void 0,e[g].dateTimeAtStatusTime=void 0;v.setFieldValue("items",e)}},rules:[{required:!0,message:O("translation:default.fields.status.message")}]}):(0,A.jsxs)(r.Z,{align:"middle",gutter:5,className:"flex-nowrap",children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(T.Z,{className:"fw-400 white-space-nowrap",children:"".concat(O("translation:default.fields.status.label")," : ")})}),(0,A.jsxs)(o.Z,{className:"flex-1 overflow-hidden",children:[(0,A.jsx)(ya.Z.Text,{className:"custom-badge New",ellipsis:{tooltip:null===k||void 0===k?void 0:k.statusName},children:null===k||void 0===k?void 0:k.statusName}),(0,A.jsx)(M.Z,{name:[g,"statusCode"]}),(0,A.jsx)(M.Z,{name:[g,"statusName"]})]})]})}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsx)(wa,{editMode:L,name:[g,"statusTypeCode"],singleLineMode:!0,label:(0,A.jsx)(T.Z,{className:"fw-400 ",children:O("translation:default.fields.statusType")}),colon:!0,margin:"m-0",onChange:e=>R(null===e||void 0===e?void 0:e.label,"statusTypeName")})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(I.Z,{hideDeleteButton:!0,editMode:L,setEditMode:e=>{let t=v.getFieldValue("items");t[g].editMode=e,v.setFieldValue("items",t)},onSave:()=>N(g),isNew:null===k||void 0===k?void 0:k.isNew,onCancel:()=>{let e=v.getFieldValue("items");null!==k&&void 0!==k&&k.isNew?e.splice(g,1):e[g]={...j,editMode:!1},v.setFieldValue("items",e)},handleRemove:()=>Z(g)})})]}),children:[(0,A.jsx)(r.Z,{className:"px-15 py-14",gutter:15,children:(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsxs)(r.Z,{gutter:30,children:[(0,A.jsxs)(o.Z,{sm:6,children:[(0,A.jsx)(w.Z,{editMode:!1,name:[g,"carrierReferenceNumber"],label:O("translation:shipmentAdd.transportationDetails.transportationProviderReferenceNo"),margin:"mb-20"}),(0,A.jsx)(w.Z,{editMode:!1,name:[g,"shipmentMode"],label:O("translation:default.fields.modes"),margin:"mb-20"}),(0,A.jsx)(Na,{editMode:L,name:[g,"exceptionTypeCode"],label:O("translation:default.fields.exceptionType.label"),margin:"mb-15",onChange:e=>R(null===e||void 0===e?void 0:e.label,"exceptionTypeName")}),(0,A.jsx)(Dt.Z,{label:O("translation:default.fields.submittedBy"),createdType:2,name:[g,"userCreatedBy"],editMode:!1,margin:"mb-0"})]}),(0,A.jsxs)(o.Z,{sm:6,children:[(0,A.jsxs)("div",{className:"".concat(L?"mb-20":"mb-13"),children:[(0,A.jsx)(T.Z,{children:O("translation:shipmentAdd.transportationDetails.shipperRequestedShipDate")}),(0,A.jsxs)("div",{children:[(0,A.jsx)(Al.Z,{className:"fw-600 f-16",children:null===k||void 0===k||null===(t=k.shipperRequestedShipDate)||void 0===t?void 0:t.format("MMM DD yyyy ")}),(0,A.jsxs)(G.Z,{className:"fw-600 f-14",children:["|"," ",null===k||void 0===k||null===(l=k.shipperRequestedShipDate)||void 0===l?void 0:l.format("hh:mm:ss A")]}),(0,A.jsx)(M.Z,{name:[g,"shipperRequestedShipDate"]})]})]}),(0,A.jsxs)("div",{className:"".concat(L?"mb-10":"mb-13"),children:[(0,A.jsx)(T.Z,{children:O("translation:shipmentAdd.transportationDetails.shipperRequestedDeliveryDate")}),(0,A.jsxs)("div",{children:[(0,A.jsx)(Al.Z,{className:"fw-600 f-16",children:null===k||void 0===k||null===(a=k.shipperRequestedDeliveryDate)||void 0===a?void 0:a.format("MMM DD yyyy ")}),(0,A.jsxs)(G.Z,{className:"fw-600 f-14",children:["|"," ",null===k||void 0===k||null===(n=k.shipperRequestedDeliveryDate)||void 0===n?void 0:n.format("hh:mm:ss A")]}),(0,A.jsx)(M.Z,{name:[g,"shipperRequestedDeliveryDate"]})]})]}),(0,A.jsxs)("div",{className:"mb-13",children:[(0,A.jsx)(T.Z,{children:O("translation:shipmentAdd.transportationDetails.transporterRequestedShipDate")}),L?(0,A.jsxs)(r.Z,{gutter:15,className:"mt-3",children:[(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(Zt.Z,{name:[g,"carrierShipDate"],margin:"m-0",label:!1,rules:[{required:!0,message:"".concat(O("translation:default.fields.createdOn.placeholder"),"!")}]})}),(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(Ca.Z,{name:[g,"carrierShipTime"],margin:"m-0",editMode:!0,label:!1,rules:[{required:!0,message:"".concat(O("translation:default.fields.selectTime"),"!")}]})})]}):(0,A.jsxs)("div",{children:[(0,A.jsx)(Al.Z,{className:"fw-600 f-16",children:null===k||void 0===k||null===(d=k.carrierShipDate)||void 0===d?void 0:d.format("MMM DD yyyy ")}),(0,A.jsxs)(G.Z,{className:"fw-600 f-14",children:["| ",null===k||void 0===k||null===(c=k.carrierShipTime)||void 0===c?void 0:c.format("hh:mm:ss A")]})]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(T.Z,{children:O("translation:shipmentAdd.transportationDetails.transporterRequestedDeliveryDate")}),L?(0,A.jsxs)(r.Z,{gutter:15,className:"mt-3",children:[(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(Zt.Z,{name:[g,"carrierDeliveryDate"],margin:"m-0",label:!1,rules:[{required:!0,message:"".concat(O("translation:default.fields.createdOn.placeholder"),"!")}]})}),(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(Ca.Z,{name:[g,"carrierDeliveryTime"],margin:"m-0",editMode:!0,label:!1,rules:[{required:!0,message:"".concat(O("translation:default.fields.selectTime"),"!")}]})})]}):(0,A.jsxs)("div",{children:[(0,A.jsx)(Al.Z,{className:"fw-600 f-16",children:null===k||void 0===k||null===(h=k.carrierDeliveryDate)||void 0===h?void 0:h.format("MMM DD yyyy ")}),(0,A.jsxs)(G.Z,{className:"fw-600 f-14",children:["| ",null===k||void 0===k||null===(m=k.carrierDeliveryTime)||void 0===m?void 0:m.format("hh:mm:ss A")]})]})]})]}),(0,A.jsxs)(o.Z,{sm:6,children:[(0,A.jsxs)("div",{className:"".concat(L?"mb-10":"mb-12"),children:[(0,A.jsxs)(T.Z,{children:[O("translation:shipmentAdd.transportationDetails.eventOccurrenceDateLocal")," ",(0,A.jsx)("span",{className:"text-invalidInput",children:"*"})]}),L?(0,A.jsxs)(r.Z,{align:"middle",gutter:15,className:"mt-3",children:[(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(Zt.Z,{name:[g,"dateTimeAtStatusDate"],margin:"m-0",label:!1,rules:[{required:!0,message:"".concat(O("translation:shipmentAdd.transportationDetails.selectDate"),"!")}]})}),(0,A.jsx)(o.Z,{sm:12,children:(0,A.jsx)(Ca.Z,{name:[g,"dateTimeAtStatusTime"],margin:"m-0",editMode:!0,label:!1,rules:[{required:!0,message:"".concat(O("translation:default.fields.selectTime"),"!")}]})})]}):(0,A.jsxs)("div",{children:[(0,A.jsx)(Al.Z,{className:"fw-600 f-16",children:null===k||void 0===k||null===(u=k.dateTimeAtStatusDate)||void 0===u?void 0:u.format("MMM DD yyyy ")}),(0,A.jsxs)(G.Z,{className:"fw-600 f-14",children:["|"," ",null===k||void 0===k||null===(x=k.dateTimeAtStatusTime)||void 0===x?void 0:x.format("hh:mm:ss A")]})]})]}),(0,A.jsxs)("div",{className:"".concat(L?"mb-2":"mb-13"),children:[(0,A.jsx)(M.Z,{name:[g,"dateTimeStamp"]}),(0,A.jsx)(T.Z,{children:O("translation:shipmentAdd.transportationDetails.receivedDateEST")}),(0,A.jsxs)("div",{children:[(0,A.jsx)(Al.Z,{className:"fw-600 f-16",children:null===k||void 0===k||null===(p=k.dateTimeStamp)||void 0===p?void 0:p.format("MMM DD yyyy ")}),(0,A.jsxs)(G.Z,{className:"fw-600 f-14",children:["| ",null===k||void 0===k||null===(f=k.dateTimeStamp)||void 0===f?void 0:f.format("hh:mm:ss A")]})]})]}),(0,A.jsx)(W.Z,{name:[g,"iCountryCode"],label:O("translation:shipmentAdd.transportationDetails.shipmentCountry"),editMode:L,onChange:e=>R(null===e||void 0===e?void 0:e.label,"iCountryName"),rules:[{required:!0,message:O("translation:default.fields.country.message")}]}),(0,A.jsx)(le.Z,{name:[g,"iStateCode"],label:O("translation:shipmentAdd.transportationDetails.shipmentStateProvince"),countryCode:null===k||void 0===k?void 0:k.iCountryCode,margin:"m-0",editMode:L,onChange:e=>R(null===e||void 0===e?void 0:e.label,"iStateName"),rules:[{required:!0,message:O("translation:default.fields.stateProvince.message")}]})]}),(0,A.jsxs)(o.Z,{sm:6,children:[(0,A.jsx)(Ft.Z,{name:[g,"iCity"],label:O("translation:shipmentAdd.transportationDetails.shipmentCity"),editMode:L,countryCode:null===k||void 0===k?void 0:k.iCountryCode,stateCode:null===k||void 0===k?void 0:k.iStateCode,margin:"mb-15",rules:[{required:!0,message:O("translation:default.fields.city.select")}]}),(0,A.jsx)(w.Z,{editMode:L,name:[g,"signature"],label:"Signature",margin:"m-0"})]})]})})}),(0,A.jsx)(M.Z,{name:[g,"editMode"]}),(0,A.jsx)(M.Z,{name:[g,"isNew"]}),(0,A.jsx)(M.Z,{name:[g,"trackSequenceKey"]}),(0,A.jsx)(M.Z,{name:[g,"iCountryName"]}),(0,A.jsx)(M.Z,{name:[g,"shipmentNumber"]})]})},ka=()=>{var e,t,l;ga(),ba(),Za();const[a]=C.Z.useForm(),n=(0,c.I0)(),{trackingDetails:d,shipmentDetails:h}=(0,c.v9)((e=>e.shipment)),{pathname:m}=(0,i.TH)(),u=(0,s.useMemo)((()=>(0,E.F)(m)),[m]),{t:p}=(0,F.$G)([u,"translation"]),{selectedCompany:f,user:v}=(0,c.v9)((e=>e.auth));(0,s.useEffect)((()=>{var e,t,l,a;null!==h&&void 0!==h&&null!==(e=h.data)&&void 0!==e&&e.shipmentKey&&null!==f&&void 0!==f&&f.companyId&&null!==v&&void 0!==v&&null!==(t=v.data)&&void 0!==t&&t.email&&j(null===h||void 0===h||null===(l=h.data)||void 0===l?void 0:l.shipmentKey,null===f||void 0===f?void 0:f.companyId,null===v||void 0===v||null===(a=v.data)||void 0===a?void 0:a.email)}),[null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.shipmentNo,null===f||void 0===f?void 0:f.companyId,null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.email]);const j=(e,t,l)=>{n((0,x.Oxg)({ShipmentKey:e,CustomerKey:t,EmailAddress:l}))};(0,s.useEffect)((()=>{null!==d&&void 0!==d&&d.success&&null!==d&&void 0!==d&&d.data&&a.setFieldValue("items",null===d||void 0===d?void 0:d.data)}),[null===d||void 0===d?void 0:d.success,null===d||void 0===d?void 0:d.data]);const b=e=>{let t=a.getFieldValue("items");t.splice(e,1),a.setFieldValue("items",t)},S=async e=>{var t,l;n((0,lt.ef)(!0));let s=a.getFieldValue("items");s=s.map((e=>({...e,editMode:!1})));const i={ShipmentKey:null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.shipmentKey,CustomerKey:null===f||void 0===f?void 0:f.companyId,EmailAddress:null===v||void 0===v||null===(l=v.data)||void 0===l?void 0:l.email};try{var d;await a.validateFields(),n((0,x.BjH)({...s[e],userCreatedBy:null===v||void 0===v||null===(d=v.data)||void 0===d?void 0:d.id,reFetchData:i})),a.setFieldValue("items",s)}catch({errorFields:r}){const t=r.map((e=>{let{name:t}=e;return t[1]}));if(null===t||void 0===t||!t.includes(e))return n((0,x.BjH)({...s[e],reFetchData:i})),a.setFieldValue("items",s),0;n((0,lt.ef)(!1))}},w=C.Z.useWatch("items",a),D=(0,s.useMemo)((()=>{var e;return null===w||void 0===w||null===(e=w.map((e=>{let{editMode:t}=e;return t})))||void 0===e?void 0:e.includes(!0)}),[w]),k=null!==h&&void 0!==h&&null!==(l=h.data)&&void 0!==l&&l.transportationList?h.data.transportationList:[],M={origin:k[0],destination:k[k.length-1]};return(0,A.jsx)(C.Z,{form:a,initialValues:{items:[]},className:"h-100",children:(0,A.jsxs)(r.Z,{className:"h-100 flex-direction-column",children:[(0,A.jsxs)(r.Z,{className:"px-30 py-10 border-bottom-tab-border",justify:"space-between",align:"middle",children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(y.Z,{className:"f-18 lh-0",children:p("translation:shipment.drawer.shipmentTransport.iTrackDetails")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{onClick:()=>{var e;if((null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.length)>0){var t,l,s,i,r,o,c,m,u,x,f,j,g,b,Z,y,N,C,S;let e=a.getFieldValue("items");e=[{editMode:!0,isNew:!0,trackSequenceKey:null,shipmentTrackKey:null===d||void 0===d||null===(t=d.data)||void 0===t||null===(l=t[0])||void 0===l?void 0:l.shipmentTrackKey,shipperRequestedShipDate:null===d||void 0===d||null===(s=d.data)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.shipperRequestedShipDate,shipperRequestedDeliveryDate:null===d||void 0===d||null===(r=d.data)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.shipperRequestedDeliveryDate,shipmentMode:null===d||void 0===d||null===(c=d.data)||void 0===c||null===(m=c[0])||void 0===m?void 0:m.shipmentMode,shipmentNumber:null===h||void 0===h||null===(u=h.data)||void 0===u?void 0:u.shipmentNo,carrierReferenceNumber:null===h||void 0===h||null===(x=h.data)||void 0===x?void 0:x.shipmentNo,userCreatedBy:null===v||void 0===v||null===(f=v.data)||void 0===f?void 0:f.id,statusTypeCode:"NS",dateTimeAtStatusDate:Ye()(),dateTimeAtStatusTime:Ye()(),dateTimeStamp:Ye()(new Date),carrierShipDate:null===d||void 0===d||null===(j=d.data)||void 0===j||null===(g=j[0])||void 0===g?void 0:g.carrierShipDate,carrierShipTime:null===d||void 0===d||null===(b=d.data)||void 0===b||null===(Z=b[0])||void 0===Z?void 0:Z.carrierShipTime,carrierDeliveryDate:null===d||void 0===d||null===(y=d.data)||void 0===y||null===(N=y[0])||void 0===N?void 0:N.carrierDeliveryDate,carrierDeliveryTime:null===d||void 0===d||null===(C=d.data)||void 0===C||null===(S=C[0])||void 0===S?void 0:S.carrierDeliveryTime},...e],a.setFieldValue("items",e)}else n((0,lt.d7)({description:p("translation:shipmentAdd.shipmentDetails.warningModalInternalTracking"),open:!0}))},disabled:D,children:p("translation:default.buttons.add")})})]}),(0,A.jsx)("div",{className:"px-30 py-15 flex-1 custom-scroll-bar",children:d.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(C.Z.List,{name:"items",children:e=>(0,A.jsx)(A.Fragment,{children:e.length>0?(0,A.jsx)(A.Fragment,{children:e.map((e=>{var t,l;let{name:s}=e;return(0,A.jsx)(Da,{defaultValues:null!==d&&void 0!==d&&null!==(t=d.data)&&void 0!==t&&t[s]?null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l[s]:{},index:s,form:a,handleRemove:b,handleSubmit:S,shipmentOriginDestDetails:M},s)}))}):(0,A.jsx)(Z.Z,{descriptionTwo:"",descriptionOne:p("translation:shipmentAdd.shipmentDetails.emptyRecords")})})})})})]})})},Ma=()=>{const[e]=C.Z.useForm(),{shipmentDetails:t}=(0,c.v9)((e=>e.shipment)),{pathname:l}=(0,i.TH)(),a=(0,s.useMemo)((()=>(0,E.F)(l)),[l]),{t:n}=(0,F.$G)([a,"translation"]),[d,h]=(0,s.useState)(void 0),[m,u]=(0,s.useState)(void 0);(0,s.useEffect)((()=>{var l,a,s;null!==t&&void 0!==t&&t.success&&e.setFieldsValue({trailerNumber:null===t||void 0===t||null===(l=t.data)||void 0===l||null===(a=l.additionalDetails)||void 0===a?void 0:a.trailerNumber,trackingNumber:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.trackingNumber})}),[null===t||void 0===t?void 0:t.success]);const x=(e,l)=>{if(l===v.YT.TRACKING_NUMBER){var a,s,i;let l=!1;if((null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.rateType)===j.e5.UPS?l="https://www.ups.com/track?loc=en_US&requester=QUIC&tracknum=".concat(e,"/trackdetails"):(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.rateType)===j.e5.FEDEX?l="https://www.fedex.com/fedextrack/no-results-found?trknbr=".concat(e):(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.rateType)===j.e5.DHL&&(l="https://www.dhl.com/us-en/home/tracking/tracking-parcel.html?submit=1&tracking-id=".concat(e)),l)return window.open(l),!0;alert("Invalid Provider!")}else h(e),u(l)};return(0,A.jsxs)(C.Z,{form:e,className:"h-100",children:[(0,A.jsxs)(r.Z,{className:"px-30 py-15",gutter:30,align:"bottom",children:[(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsxs)(r.Z,{align:"bottom",gutter:15,children:[(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(w.Z,{label:n("translation:default.fields.containerNumber.label"),editMode:!0,margin:"m-0",name:"trailerNumber",maxLength:25})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{onClick:()=>x(e.getFieldValue("trailerNumber"),v.YT.CONTAINER_TRACKING),children:n("translation:default.buttons.track")})})]})}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsxs)(r.Z,{align:"bottom",gutter:15,children:[(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(w.Z,{label:n("translation:default.fields.trackingNumber.label"),editMode:!0,margin:"m-0",name:"trackingNumber",maxLength:100})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{onClick:()=>x(e.getFieldValue("trackingNumber"),v.YT.TRACKING_NUMBER),children:n("translation:default.buttons.track")})})]})})]}),(0,A.jsx)(Oe.Z,{className:"mt-0 mb-0 ml-n16 vw-100 "}),m===v.YT.CONTAINER_TRACKING&&(0,A.jsx)("div",{className:"h-100",children:(0,A.jsx)("iframe",{title:n("translation:shipmentAdd.transportationDetails.trackContainer"),width:"100%",height:"100%",src:"https://www.pier2pier.com/links/tracking-random.php?i=".concat(d,"&Client=nvisionglobal")})},d)]})};var Ta=l(82134),Ia=l(69142);const Fa=e=>{let{distributionName:t,distributors:l,index:a,handleDistributorSelector:n,selected:d,tenderEmailAddress:c}=e;const{pathname:h}=(0,i.TH)(),m=(0,s.useMemo)((()=>(0,E.F)(h)),[h]),{t:u}=(0,F.$G)([m,"translation"]);return(0,A.jsxs)(r.Z,{align:"middle",gutter:15,className:"".concat(l.length!==a+1?"border-bottom-muted":""," px-16 py-10"),wrap:!1,children:[(0,A.jsx)(o.Z,{sm:14,children:(0,A.jsx)(ya.Z.Text,{ellipsis:{tooltip:t},className:"cursor-pointer fw-600 f-14 w-95 ",children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox align-items-center",label:(0,A.jsxs)("span",{children:[(0,A.jsx)(G.Z,{className:" mr-3",children:"Name"}),(0,A.jsx)("br",{}),(0,A.jsx)(G.Z,{className:"f-14 fw-600 ",children:t})]}),className:"m-0 ",onChange:e=>n(e,a),checked:d})})}),(0,A.jsx)(o.Z,{sm:10,children:(0,A.jsxs)("span",{children:[(0,A.jsx)(G.Z,{className:" mr-3",children:u("translation:default.fields.tenderEmailAddress")}),(0,A.jsx)("br",{}),(0,A.jsx)(G.Z,{className:"f-14 fw-600 ",children:c})]})})]})},Ea=e=>{let{providers:t=[],handleProvidersChange:l=(()=>{})}=e;const{pathname:a}=(0,i.TH)(),n=(0,s.useMemo)((()=>(0,E.F)(a)),[a]),{t:d}=(0,F.$G)([n,"translation"]),c=(0,s.useMemo)((()=>t.length===(0,p.filter)(t,{selected:!0}).length),[t]),h=(0,s.useMemo)((()=>t.map((e=>{let{distributors:t}=e;return t.length===(0,p.filter)(t,{selected:!0}).length}))),[t]);return(0,A.jsx)("div",{className:"px-10 h-100 overflow-inherit d-flex flex-direction-column",children:(0,A.jsxs)(r.Z,{gutter:15,className:"flex-1 custom-scroll-bar",children:[(0,A.jsx)(o.Z,{sm:10,children:(0,A.jsx)("div",{className:"flex-1",children:(0,A.jsx)(b.Z,{title:(0,A.jsx)(r.Z,{children:(0,A.jsx)(o.Z,{children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:(0,A.jsx)("span",{children:(0,A.jsx)(G.Z,{className:"f-14 fw-600 mr-3",children:d("translation:default.fields.transportationProvider.label")})}),className:"m-0 ",checked:c,onChange:e=>{const{target:{checked:a}}=e;let s=(0,p.cloneDeep)(t);s=s.map((e=>({...e,selected:a}))),a||(s=s.map((e=>({...e,selected:a,distributors:e.distributors.map((e=>({...e,selected:!1})))})))),l(s)}})})}),className:"d-flex flex-direction-column",showBorder:!0,children:t.map(((e,a)=>{let{carrierName:s,selected:i}=e;return(0,A.jsx)(r.Z,{align:"middle",gutter:15,className:"".concat(t.length!==a+1?"border-bottom-muted":""," px-16 py-10"),wrap:!1,children:(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(ya.Z.Text,{ellipsis:{tooltip:s},className:"cursor-pointer fw-600 f-14 w-95 ",children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox w-100",className:"m-0 ",label:s,onChange:e=>((e,a)=>{const{target:{checked:s}}=e;let i=(0,p.cloneDeep)(t);i[a].selected=s,s||(i[a].distributors=i[a].distributors.map((e=>({...e,selected:!1})))),l(i)})(e,a),checked:Boolean(i),name:void 0})})})},s)}))})})}),(0,A.jsx)(o.Z,{sm:14,children:(0,p.filter)(t,{selected:!0}).map(((e,a)=>{let{carrierName:s,distributors:i}=e;return(0,A.jsx)("div",{children:(0,A.jsx)(b.Z,{title:(0,A.jsx)(r.Z,{children:(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox align-items-center",label:(0,A.jsxs)("span",{children:[(0,A.jsxs)(G.Z,{className:" mr-3",children:[d("translation:default.fields.transportationProvider.label")," :"]}),(0,A.jsx)(G.Z,{className:"f-14 fw-600 ",children:s})]}),className:"m-0 ",checked:h[a],onChange:e=>((e,a)=>{const{target:{checked:s}}=e;let i=(0,p.cloneDeep)(t);i[a].distributors=i[a].distributors.map((e=>({...e,selected:s}))),l(i)})(e,a)})})}),className:" d-flex flex-direction-column overflow-hidden",showBorder:!0,children:i.map(((e,s)=>{let{distributionName:n,selected:d,tenderEmailAddress:r}=e;return(0,A.jsx)(Fa,{distributionName:n,distributors:i,index:s,handleDistributorSelector:(e,s)=>((e,a,s)=>{const{target:{checked:i}}=e;let n=(0,p.cloneDeep)(t);n[a].distributors[s].selected=i,l(n)})(e,a,s),selected:d,tenderEmailAddress:r},s)}))})},s)}))})]})})},Aa=e=>{let{formRef:t,selectedCarrierDetails:l}=e;const[a]=C.Z.useForm(),n=(0,c.I0)(),d=t||a,{tenderEmail:h,shipmentDetails:m,customerRoutingsSettings:u}=(0,c.v9)((e=>e.shipment)),{user:j,selectedCompany:g}=(0,c.v9)((e=>e.auth)),{notificationAPI:b}=(0,c.v9)((e=>e.common)),[Z,D]=(0,s.useState)([]),{pathname:k}=(0,i.TH)(),M=(0,s.useMemo)((()=>(0,E.F)(k)),[k]),{t:T}=(0,F.$G)([M,"translation"]);(0,s.useEffect)((()=>{if(null!==h&&void 0!==h&&h.success){let e=f().chain(h.data).groupBy("carrierName").map(((e,t)=>({carrierName:t,distributors:e}))).value();e=e.map((e=>({...e,selected:!0,distributors:e.distributors.map((e=>({...e,selected:!0})))}))),D(e)}}),[h]);return(0,s.useEffect)((()=>{null!==u&&void 0!==u&&u.success||null===g||void 0===g||!g.companyId||n((0,x.GwU)({Customerkey:null===g||void 0===g?void 0:g.companyId}))}),[null===u||void 0===u?void 0:u.success,g]),(0,s.useEffect)((()=>{var e;null!==u&&void 0!==u&&u.success&&d.setFieldsValue({adminEmail:null===u||void 0===u||null===(e=u.data)||void 0===e?void 0:e.adminEmail})}),[null===u||void 0===u?void 0:u.success]),(0,A.jsxs)(C.Z,{defaultValue:{adminEmail:!1,notSendEmail:!1,shipperEmailSend:!1},onFinish:e=>{let t=[];if(Z.forEach((e=>{let{distributors:l}=e;t=[...t,...l||[]]})),t=(0,p.filter)(t,{selected:!0}),t.length>0){var a,s,i,d,r;let o={notSendEmail:(0,z.bl)(e.notSendEmail),notSendBOLEmail:(0,z.bl)(e.notSendBOLEmail),tenderShipperName:e.tenderShipperName?(0,z.Fx)(e.tenderShipperName):void 0,tenderShipperEmail:e.tenderShipperEmail?(0,z.Fx)(e.tenderShipperEmail):void 0,shipmentKey:null===m||void 0===m||null===(a=m.data)||void 0===a?void 0:a.shipmentKey,CustomerKey:null===m||void 0===m||null===(s=m.data)||void 0===s?void 0:s.customerKey,UserId:null===j||void 0===j||null===(i=j.data)||void 0===i?void 0:i.id,data:JSON.stringify(t.map((e=>({TenderEmailAddress:null===e||void 0===e?void 0:e.tenderEmailAddress,CarrierName:null===e||void 0===e?void 0:e.carrierName})))),shipmentStatusUpdateData:{shipmentKey:null===m||void 0===m||null===(d=m.data)||void 0===d?void 0:d.shipmentKey,carrierKey:null===l||void 0===l?void 0:l.carrierKey,rateshopKey:null===l||void 0===l?void 0:l.rateShopKey,userId:null===j||void 0===j||null===(r=j.data)||void 0===r?void 0:r.id}};n((0,x.hB8)(o))}else(0,z.Nh)(b,{type:v.GT.ERROR,title:T("translation:shipmentAdd.rateShopDetails.tenderEmail")})},form:d,className:"h-100 d-flex overflow-hidden flex-direction-column",children:[(0,A.jsxs)(r.Z,{className:"my-10",gutter:15,align:"middle",children:[(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(nt.Z,{size:"small",spinning:null===u||void 0===u?void 0:u.progressing,children:(0,A.jsx)(w.Z,{label:T("translation:shipmentAdd.rateShopDetails.adminEmail"),editMode:!1,name:"adminEmail",margin:"m-0"})})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:T("translation:shipmentAdd.rateShopDetails.doNotSendTenderEmail"),name:"notSendEmail",className:"m-0"})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:T("translation:shipmentAdd.rateShopDetails.doNotSendBillOfLading"),name:"notSendBOLEmail",className:"m-0"})})]}),(0,A.jsx)(Oe.Z,{className:"my-10 border-top-border vw-100"}),(0,A.jsx)("div",{className:"",children:(0,A.jsx)(y.Z,{className:"text-header f-18",children:T("translation:shipmentAdd.rateShopDetails.tenderList")})}),(0,A.jsx)(Oe.Z,{className:"my-10 border-top-border vw-100"}),(0,A.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,A.jsxs)("div",{className:"h-100 d-flex flex-direction-column overflow-hidden ",children:[(0,A.jsx)("div",{className:"flex-1 overflow-hidden ",children:h.progressing?(0,A.jsx)(N.Z,{}):(0,A.jsx)(Ea,{providers:Z,handleProvidersChange:e=>D(e)})}),(0,A.jsx)(Oe.Z,{className:"mt-0 mb-10 border-top-border vw-100"}),(0,A.jsx)(y.Z,{className:"text-header f-18",children:T("translation:shipmentAdd.rateShopDetails.shipperInformation")}),(0,A.jsx)(Oe.Z,{className:"my-10 border-top-border vw-100"}),(0,A.jsxs)(r.Z,{className:"",gutter:15,align:"middle",children:[(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsx)(w.Z,{name:"tenderShipperName",editMode:!0,label:T("translation:default.fields.shipperName.label")})}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsx)(w.Z,{name:"tenderShipperEmail",editMode:!0,label:T("translation:shipmentAdd.rateShopDetails.shipperEmailAddress"),rules:[{type:"email",message:T("translation:default.notification.email")}],maxLength:50})}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:T("translation:shipmentAdd.rateShopDetails.sendEmailToShipper"),name:"shipperEmailSend",className:"m-0"})})]})]})}),(0,A.jsx)(Oe.Z,{className:"mt-0 mb-10 border-top-border vw-100"})]})};var La=l(22370),Ba=l(9135),Pa=l(56167),Oa=l(12769),Ra=l(57276);const Ka=e=>{var t,l,a;let{parentForm:n,handleSubmit:d}=e,[h]=C.Z.useForm();n&&(h=n);const m=C.Z.useWatch("createdOn",h),u=C.Z.useWatch("cargoType",h),x=(0,Ra.Z)(v.oz.DEFAULT_DATE_FORMAT),{auth:{user:p},shipment:{shipmentDetails:f}}=(0,c.v9)((e=>e));(0,s.useEffect)((()=>{var e;h.setFieldValue("createdBy",null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.id)}),[null===p||void 0===p||null===(t=p.data)||void 0===t?void 0:t.id]),(0,s.useEffect)((()=>{var e;h.setFieldValue("shipmentKey",null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.shipmentKey)}),[null===f||void 0===f||null===(l=f.data)||void 0===l?void 0:l.shipmentKey]);const{pathname:j}=(0,i.TH)(),g=(0,s.useMemo)((()=>(0,E.F)(j)),[j]),{t:b}=(0,F.$G)([g,"translation"]);return(0,A.jsxs)(C.Z,{onFinish:d,form:h,initialValues:{pricingBasis:"SPOT",createdOn:Ye()(new Date),currencyCode:"USD"},children:[(0,A.jsxs)(r.Z,{gutter:30,children:[(0,A.jsxs)(o.Z,{sm:24,md:6,children:[(0,A.jsx)("div",{children:(0,A.jsx)(wt.Z,{name:"carrierKey",editMode:!0,form:h,margin:"mb-15",rules:[{required:!0,message:b("translation:default.fields.transportationProvider.message")}],onChange:e=>{h.setFieldValue("carrierName",null===e||void 0===e?void 0:e.label)}})}),(0,A.jsx)("div",{children:(0,A.jsxs)(r.Z,{gutter:15,children:[(0,A.jsx)(o.Z,{sm:10,children:(0,A.jsx)(Oa.Z,{editMode:!0,label:b("translation:default.fields.cost"),placeholder:"".concat(b("translation:default.fields.cost"),"..."),name:"shipmentCost",inputType:"number",margin:"mb-15",rules:[{required:!0,message:b("translation:shipmentAdd.notifications.costIsRequired")}]})}),(0,A.jsx)(o.Z,{sm:14,children:(0,A.jsx)(Pa.Z,{editMode:!0,label:b("translation:default.fields.currency.label"),name:"currencyCode",margin:"mb-15",rules:[{required:!0,message:b("translation:default.fields.currency.message")}]})})]})})]}),(0,A.jsxs)(o.Z,{sm:24,md:6,children:[(0,A.jsx)(w.Z,{label:b("translation:default.fields.pricingBasis.label"),editMode:!1,name:"pricingBasis",margin:"mb-32"}),(0,A.jsx)($.Z,{editMode:!0,label:b("translation:default.fields.equipmentType.label"),name:"trailerKey",margin:"mb-15",rules:[{required:u&&!["AIR","FRF","OC"].includes(u),message:b("translation:default.fields.equipmentType.message")}],onChange:e=>h.setFieldValue("trailerDesc",null===e||void 0===e?void 0:e.label)})]}),(0,A.jsxs)(o.Z,{sm:24,md:6,children:[(0,A.jsx)(_.Z,{editMode:!0,label:b("translation:default.fields.cargoType.label"),name:"cargoType",margin:"mb-15",rules:[{required:!0,message:b("translation:default.fields.cargoType.required")}]}),(0,A.jsx)(Oa.Z,{editMode:!0,label:b("translation:shipmentAdd.rateShopDetails.standardTransitDays"),placeholder:"".concat(b("translation:shipmentAdd.rateShopDetails.standardTransitDays"),"..."),name:"standardDaysTransit",inputType:"number",margin:"mb-15",rules:[{required:!0,message:b("translation:shipmentAdd.notifications.standardTransitDaysIsRequired")}]})]}),(0,A.jsxs)(o.Z,{sm:24,md:6,children:[(0,A.jsx)("div",{className:"pt-3 mb-32",children:(0,A.jsxs)(Ue.Z,{title:b("translation:default.fields.createdOn.title"),children:[(0,He.GW)(m,x)," |"," ",(0,He.Fw)(m)]})}),(0,A.jsx)("div",{className:"pt-3 mb-15",children:(0,A.jsx)(Ue.Z,{title:b("translation:shipment.drawer.details.createdBy"),children:null===p||void 0===p||null===(a=p.data)||void 0===a?void 0:a.email})})]})]}),(0,A.jsx)(M.Z,{name:"createdOn"}),(0,A.jsx)(M.Z,{name:"createdBy"}),(0,A.jsx)(M.Z,{name:"shipmentKey"}),(0,A.jsx)(M.Z,{name:"carrierName"}),(0,A.jsx)(M.Z,{name:"trailerDesc"})]})},Va=e=>{let{showModal:t,setShowModal:l,handleSubmit:a}=e;const[n]=C.Z.useForm();(0,s.useEffect)((()=>{t||n.resetFields()}),[t]);const{pathname:d}=(0,i.TH)(),r=(0,s.useMemo)((()=>(0,E.F)(d)),[d]),{t:o}=(0,F.$G)([r,"translation"]);return(0,A.jsx)(st.Z,{title:o("translation:shipmentAdd.rateShopDetails.rateEntry"),onClose:()=>l(!1),onCancel:()=>l(!1),open:t,className:"h-auto vw-75",okText:o("translation:default.buttons.add"),cancelText:o("translation:default.buttons.cancel"),onOk:()=>n.submit(),children:(0,A.jsx)(Ka,{parentForm:n,handleSubmit:a})})},Ua=e=>{var t,l,a,d;let{rateShopFilterModal:h,setRateShopFilterModal:m,handleOnClickRateShopButton:u,spotBidModal:f,setSpotBidModal:b,handleRateEntryClick:S,rateEntryModal:w,setRateEntryModal:D,isAPIRateShop:k}=e;const M=(0,i.s0)(),{shipmentDetails:T,rateShopList:I,tenderProcess:L,shipmentEditStatus:B,shipmentCustomerAccessorials:R,removeRateEntry:K,updateShipmentBOLCarrier:V}=(0,c.v9)((e=>e.shipment)),{user:U}=(0,c.v9)((e=>e.auth)),[H,Y]=(0,s.useState)(!1),[_,W]=(0,s.useState)(!1),[$,Q]=(0,s.useState)(!1),[X,J]=(0,s.useState)(!1),{notificationAPI:ee}=(0,c.v9)((e=>e.common)),[te,le]=(0,s.useState)(!1),{pathname:ae}=(0,i.TH)(),se=(0,s.useMemo)((()=>(0,E.F)(ae)),[ae]),{t:ie}=(0,F.$G)([se,"translation"]),[ne,de]=(0,s.useState)(!1),re=(0,c.I0)(),[oe]=C.Z.useForm(),[ce]=C.Z.useForm(),he=(0,s.useMemo)((()=>I.data?I.data:[]),[null===I||void 0===I?void 0:I.data]),[me,ue]=(0,s.useState)(!1),xe=(0,s.useMemo)((()=>{var e,t,l,a;return(null===T||void 0===T||null===(e=T.data)||void 0===e||null===(t=e.additionalDetails)||void 0===t?void 0:t.carrierKey)>0&&(null===T||void 0===T||null===(l=T.data)||void 0===l||null===(a=l.additionalDetails)||void 0===a?void 0:a.carrierKey)}),[null===T||void 0===T?void 0:T.data]),pe=()=>{var e;Q(!0),re((0,x.GY3)({ShipmentKey:null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.shipmentKey,CarrierKey:he[H].carrierKey}))};(0,s.useEffect)((()=>{L.success&&Q(!1)}),[L]),(0,s.useEffect)((()=>{if(xe&&he.length>0){const e=(0,p.findIndex)(he,(e=>{let{carrierKey:t}=e;return t===xe}));Y(e)}}),[xe,he]);const fe=(0,jl.Z)(),ve=e=>{var t,l;(null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.carrierKey)>0&&!v.Q6.includes(String(null===T||void 0===T||null===(l=T.data)||void 0===l?void 0:l.status).toUpperCase())?J(!0):Y(e)};let[je]=C.Z.useForm();const ge=(0,Nt.Z)("IsPreAssignedProNumber"),be=(0,Nt.Z)("IsRateEntry"),Ze=(e,t)=>{var l;let a={RateShopKey:e,ShipmentKey:null===T||void 0===T||null===(l=T.data)||void 0===l?void 0:l.shipmentKey};re((0,x.TuT)(a)),t&&H(!1)},ye=e=>{var t;let l={cargoType:null===e||void 0===e?void 0:e.cargoType,rateShopKey:null===e||void 0===e?void 0:e.rateShopKey,carrierKey:null===e||void 0===e?void 0:e.carrierKey,currencyCode:null===e||void 0===e?void 0:e.convertedCurrencyCode,shipmentCost:null===e||void 0===e?void 0:e.convertedCost,trailerKey:null===e||void 0===e?void 0:e.trailerKey,shipmentKey:null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.shipmentKey,createdBy:null===e||void 0===e?void 0:e.createdBy,handleSuccess:()=>{W(!1)}};re((0,x.DLM)(l))},Ne=(0,s.useMemo)((()=>{var e;return(0,z.Az)(null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.status)}),[null===T||void 0===T||null===(t=T.data)||void 0===t?void 0:t.status]),Ce=(0,s.useMemo)((()=>{var e;return[...v.i1.includes(null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.status)&&be?[{key:"1",label:(0,A.jsx)("a",{onClick:S,children:ie("translation:shipmentAdd.rateShopDetails.rateEntry")})}]:[],...!fe||B||Ne?[]:[{key:"2",label:(0,A.jsx)("a",{onClick:u,children:ie("translation:default.buttons.rateShop")})}],...!fe||B||Ne?[]:[{key:"4",label:(0,A.jsxs)("a",{onClick:()=>u(!0),children:["API ",ie("translation:default.buttons.rateShop")]})}],...(null===he||void 0===he?void 0:he.length)>0?[{key:"3",label:(0,A.jsx)("a",{onClick:()=>(0,q.SH)(he),id:"rate-shop-export-excel",children:ie("translation:default.buttons.exportToExcel")})}]:[]]}),[he,T,be]),Se=C.Z.useWatch("collectShipmentCarrier",ce);return(0,A.jsxs)("div",{className:"d-flex py-15 h-100",style:{flexDirection:"column"},children:[(0,A.jsxs)(r.Z,{className:"transportation-header-button-container",justify:"space-between",align:"middle",gutter:10,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",showBackground:!0,variant:"success",onClick:async()=>{try{if(!1!==H){var e,t;let d=he[H],r={shipmentKey:null===(e=T.data)||void 0===e?void 0:e.shipmentKey,carrierKey:d.carrierKey,rateshopKey:d.rateShopKey,userId:null===U||void 0===U||null===(t=U.data)||void 0===t?void 0:t.id};if(!0===ge){var l,a,s,i,n;const{origin:e,destination:t}=(0,el.V_)(null===(l=T.data)||void 0===l?void 0:l.transportationList);r.preAssignProNumber={carrierKey:d.carrierKey,shipmentKey:null===(a=T.data)||void 0===a?void 0:a.shipmentKey,shipmentNo:null===(s=T.data)||void 0===s?void 0:s.shipmentNo,branchKey:null===(i=T.data)||void 0===i?void 0:i.branchKey,proNumber:null===(n=T.data)||void 0===n?void 0:n.proNo,originCountry:null===e||void 0===e?void 0:e.countryCode,destinationCountry:null===t||void 0===t?void 0:t.countryCode,cargoType:d.cargoType,shipmentStatus:"Rated"}}r.handleSuccess=()=>{de(!1),"SP"===d.cargoType&&2===T.data.transportationList.length&&le(!0)},re((0,x.p_9)(r))}else re((0,lt.d7)({open:!0,description:ie("translation:shipmentAdd.rateShopDetails.selectTransportationProvider")}))}catch(d){re((0,lt.ef)(!1)),(0,z.Nh)(ee,{type:v.GT.ERROR,title:ie("translation:shipmentAdd.rateShopDetails.failedAssignTransportationProvider")})}},disabled:!fe||Ne,loading:"PROGRESSING"===ge,children:ie("translation:shipmentAdd.rateShopDetails.assignTransportationProvider")})}),String(null===T||void 0===T||null===(l=T.data)||void 0===l?void 0:l.status).toUpperCase()!==j.PQ.QUOTE&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",showBackground:!0,disabled:!fe||Ne,onClick:async()=>{try{var e,t;if(!1===H||!xe)return re((0,lt.d7)({open:!0,description:ie("translation:shipmentAdd.rateShopDetails.assignTansportationProvider")})),!1;const l=(0,He.vw)(null===he||void 0===he||null===(e=he[H])||void 0===e?void 0:e.createdOn),a=Ye()().diff(l,"days");a>6&&"SPOT"!==(null===he||void 0===he||null===(t=he[H])||void 0===t?void 0:t.pricingBasis)?re((0,lt.d7)({open:!0,description:"".concat(ie("translation:shipmentAdd.rateShopDetails.ratesCantBe")," ").concat(a," ").concat(ie("translation:shipmentAdd.rateShopDetails.rateShipment"))})):pe()}catch(l){re((0,lt.ef)(!1)),(0,z.Nh)(ee,{type:v.GT.ERROR,title:ie("translation:shipmentAdd.rateShopDetails.failedRateShopResults")})}},id:"tender-rate-shop",children:ie("translation:default.fields.tender")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",showBackground:!0,disabled:f||Ne,onClick:()=>b(!0),children:ie("translation:default.fields.spotBid")})}),(null===Ce||void 0===Ce?void 0:Ce.length)>0?(0,A.jsx)(o.Z,{className:"pt-5",children:(0,A.jsx)(Be.Z,{overlay:(0,A.jsx)(it.Z,{items:Ce}),placement:"bottomLeft",children:(0,A.jsx)(g.Z,{ghost:!0,className:"bg-none border-none w-0 p-0 shadow-none",size:"small",shape:"circle",type:"ghost",children:(0,A.jsx)(O.Z,{Icon:_e.r,color:"header"})})})}):(0,A.jsx)(A.Fragment,{})]}),(0,A.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,A.jsxs)(r.Z,{className:"h-100 overflow-hidden",children:[(0,A.jsx)(o.Z,{className:"h-100 overflow-hidden  transition-effect",sm:24,md:f?12:24,children:(0,A.jsxs)("div",{className:"h-100 overflow-hidden d-flex flex-direction-column",children:[f&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:"pl-30 pr-15",children:(0,A.jsxs)(y.Z,{children:[ie("translation:shipmentAdd.rateShopDetails.rateShopResults")," "]})}),(0,A.jsx)("div",{className:"pl-30 pr-15 py-15",children:(0,A.jsx)(Oe.Z,{className:"m-0"})})]}),(0,A.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,A.jsx)("div",{className:"h-100 custom-scroll-bar pl-30 ".concat(f?"pr-15":"pr-30"),children:I.progressing||T.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(A.Fragment,{children:he.length>0?(0,A.jsx)(A.Fragment,{children:he.map(((e,t)=>{var l;return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(Ta.Z,{rateShopDetails:e,handleRateShopSelection:ve,index:t,value:H===t&&H,isRateShop:!0,onClickRateEntryRemove:Ze,isRemoveRateEntryLoading:null===K||void 0===K?void 0:K.progressing,shipmentStatus:null===T||void 0===T||null===(l=T.data)||void 0===l?void 0:l.status,editMode:_&&1===(null===e||void 0===e?void 0:e.isRateEntry),setEditMode:W,handleRateEntrySubmit:ye},t)})}))}):(0,A.jsx)(Z.Z,{descriptionTwo:ie("translation:default.emptyRecords.descriptionTwo"),title:I.error?ie("translation:shipmentAdd.rateShopDetails.emptyRecords.title"):void 0})})},he)})]})}),(0,A.jsx)(o.Z,{sm:f?24:0,md:f?12:0,className:" h-100 oveflow-hidden d-flex flex-direction-column  transition-effect position-relative",children:f?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:"pl-15 pr-30",children:(0,A.jsxs)(r.Z,{justify:"space-between",align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{children:ie("translation:default.fields.spotBid")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{onClick:()=>b(!1),children:(0,A.jsx)(O.Z,{Icon:Ba.r,color:"header"})})})]})}),(0,A.jsx)("div",{className:"pl-15 pr-30 pt-15",children:(0,A.jsx)(Oe.Z,{className:"m-0"})}),(0,A.jsx)("div",{className:"pl-15 pr-30 flex-1 custom-scroll-bar",children:(0,A.jsx)(La.Z,{handleSpotBidSuccess:()=>b(!1)})})]}):(0,A.jsx)(A.Fragment,{})})]})}),(0,A.jsx)(st.Z,{title:ie("translation:shipmentAdd.rateShopDetails.tenderInformation"),open:$,okText:ie("translation:default.buttons.select"),cancelText:ie("translation:default.buttons.cancel"),onCancel:()=>Q(!1),onClose:()=>Q(!1),onOk:()=>oe.submit(),className:"w-80",okLoading:L.progressing,children:(0,A.jsx)(Aa,{formRef:oe,selectedCarrierDetails:he[H]})}),(0,A.jsx)(ht.Z,{open:X,description:ie("translation:shipmentAdd.rateShopDetails.warningModal"),onClose:()=>J(!1),onOk:()=>J(!1)}),(0,A.jsx)(st.Z,{open:h,onCancel:()=>m(!1),onClose:()=>m(!1),title:ie("translation:shipmentAdd.rateShopDetails.rateShopSearch"),className:"w-70",descriptionClassName:"d-flex overflow-hidden flex-direction flex-direction-column",customFooter:(0,A.jsx)(r.Z,{justify:"end",children:(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{gutter:15,children:["C"===String(null===T||void 0===T||null===(a=T.data)||void 0===a?void 0:a.shipmentTerms).trim()&&(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{disabled:!fe||!Se,loading:null===V||void 0===V?void 0:V.progressing,id:"select-collect-shipment-carrier",onClick:()=>{var e;const t={carrierKey:Se,shipmentKey:null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.shipmentKey,handleDone:()=>{m(!1)}};re((0,x.mW4)(t))},children:"Select Collect Shipment Carrier"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{disabled:!fe,loading:(null===R||void 0===R?void 0:R.progressing)||(null===I||void 0===I?void 0:I.progressing)||me,id:"rate-shop-search",onClick:()=>ce.submit(),children:ie("translation:default.buttons.rateShop")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{type:"default",disabled:!fe,id:"rate-shop-clear",onClick:()=>ce.resetFields(),children:ie("translation:default.buttons.clear")})})]})})}),children:(0,A.jsxs)("div",{className:"flex-1 overflow-hidden d-flex flex-direction-column ",children:[(0,A.jsx)(Ia.Z,{setIsFiltered:de,parentForm:ce,setRateShopFilterModal:m,formClassName:"p-0",accountingForm:je,showSearchButton:!1,handleRateShopFiltersSubmit:()=>{m(!1)},isShipmentEdit:!0,setSelectedRateShop:Y,isAPIRateShop:k,shipmentTerms:null===T||void 0===T||null===(d=T.data)||void 0===d?void 0:d.shipmentTerms,skipAccessorialFetch:!0,isRateEngineDataConstructing:me,setIsRateEngineDataConstructing:ue}),(0,A.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,A.jsx)(cl,{horizontalPadding:"p-0",hideHeader:!0,parentForm:je})})]})}),(0,A.jsx)(Va,{showModal:w,setShowModal:D,handleSubmit:e=>{let t=(0,el.rV)(e);t.handleSuccess=()=>{D(!1)},re((0,x.xyh)(t))}}),(0,A.jsx)(st.Z,{className:"w-auto h-auto",open:te,title:"Parcel API Rate",okText:"Yes",cancelText:"No",onCancel:()=>le(!1),onClose:()=>le(!1),onOk:()=>{var e;le(!1),re((0,lt.Ll)(!1)),M("".concat(n.QY.SHIPMENT_PARCEL_EXPRESS,"/").concat(null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.shipmentKey))},contentClassName:"py-10 px-20",children:(0,A.jsxs)(G.Z,{className:"f-18 ",children:["You have selected a parcel transportation provider. ",(0,A.jsx)("br",{}),"Do you want to rate this shipment against the provider's API?"]})})]})};var Ga=l(95003),Ha=l(56902),qa=l(17446),Ya=l(3074);const za=e=>{let{editMode:t,form:l={},additionalDetails:a={},isPartialSave:n,is12HoursFormat:d}=e;const c=(0,Ra.Z)(v.oz.DEFAULT_DATE_FORMAT),{pathname:h}=(0,i.TH)(),m=(0,s.useMemo)((()=>(0,E.F)(h)),[h]),{t:u}=(0,F.$G)([m,"translation"]),x=(0,Nt.Z)("PurchaseOrderNumber"),p=(0,Nt.Z)("SalesOrderNumber"),f=(0,Nt.Z)("PaidBy"),g=C.Z.useWatch("paidAmount",l),b=C.Z.useWatch("shipmentCost",l),Z=(0,s.useMemo)((()=>{let e=Number(g)>=0?g:0,t=Number(b)>=0?b:0;return parseFloat(100*e/t).toFixed(3)}),[g,b]);(0,s.useEffect)((()=>{l.setFieldValue("paidPercentage",Z)}),[Z]);const S=C.Z.useWatch("shipmentTypeDesc",l),D=C.Z.useWatch("fobCode",l),k=C.Z.useWatch("incoTerms",l),I=C.Z.useWatch("createdByName",l);return(0,A.jsxs)(r.Z,{gutter:15,children:[(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{label:u("translation:shipment.drawer.header.freightBillProNumber"),editMode:t,margin:"mb-15",name:"proNo",rules:[{type:"string"},{max:25,message:u("translation:shipment.maxCharacter")}],maxLength:"25"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{label:u("translation:shipmentAdd.shipmentDetails.masterBillOfLandingNumber.label"),editMode:t,margin:"mb-15",name:"masterBolNumber",rules:[{type:"string"},{max:25,message:u("translation:shipment.maxCharacter")}],maxLength:25})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{label:u("translation:default.fields.houseBillOfLandingNumber"),editMode:t,margin:"mb-15",name:"bolNumber",rules:[{type:"string"},{max:25,message:u("translation:shipment.maxCharacter")}],maxLength:25})}),"PROGRESSING"===x&&(0,A.jsxs)(o.Z,{sm:24,className:"text-center mb-20",children:[(0,A.jsx)(N.Z,{}),(0,A.jsx)(G.Z,{className:"text-info f-16 ",children:"".concat(u("translation:shipment.checkingPO"),"...")})]}),!0===x&&(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{margin:"mb-15",label:u("translation:default.fields.purchaseOrders.label"),name:"purchaseOrderNumber",editMode:t,rules:[{required:!0,message:u("translation:shipmentAdd.productDetails.salesOrders.label")}],maxLength:25})}),!0===p&&(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{margin:"mb-0",label:u("translation:default.fields.purchaseOrders.message"),name:"salesOrderNumber",editMode:t})}),!0===f&&(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)(T.Z,{children:u("translation:shipmentAdd.shipmentDetails.paidBy.label")}),(0,A.jsxs)(r.Z,{gutter:15,children:[(0,A.jsx)(o.Z,{sm:24,md:12,children:(0,A.jsx)(Ya.Z,{label:!1,name:"paymentTerms",placeholder:u("translation:shipmentAdd.shipmentDetails.paidBy.placeholder"),margin:"m-0",editMode:t})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(w.Z,{editMode:!1,label:!1,name:"currencyCode",margin:"m-0",placeholder:u("translation:default.fields.currency.label")})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(w.Z,{editMode:t,label:!1,name:"paidAmount",margin:"m-0",placeholder:u("translation:default.fields.amount.label"),inputType:"number"})})]})]})})]})}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsxs)(r.Z,{children:[(0,A.jsxs)(o.Z,{sm:24,children:[t?(0,A.jsx)(qa.Z,{label:u("translation:default.fields.shipmentType.label"),editMode:t,margin:"mb-15",name:"shipmentType",rules:[{required:!0,message:u("translation:default.fields.shipmentType.message")}],disableValidation:n,onChange:e=>{let{label:t}=e;return l.setFieldsValue({shipmentTypeDesc:t})}}):(0,A.jsx)(Ue.Z,{containerClass:"mt-0 mb-15",isRequired:!0,title:u("translation:default.fields.shipmentType.label"),children:S}),(0,A.jsx)(M.Z,{name:"shipmentType"}),(0,A.jsx)(M.Z,{name:"shipmentTypeDesc"})]}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{label:u("translation:shipment.drawer.details.freightAllowances"),editMode:t,margin:"mb-15",name:"freightAllowance",maxLength:"50"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{label:u("translation:shipment.drawer.details.customerAccountNumber"),editMode:t,margin:"mb-15",name:"accountNumber",maxLength:12})}),!0===f&&(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsxs)("div",{className:"",children:[(0,A.jsx)(T.Z,{children:u("translation:shipmentAdd.shipmentDetails.paidPercentage.label")}),(0,A.jsxs)(r.Z,{gutter:15,children:[(0,A.jsx)(o.Z,{sm:24,md:12,children:(0,A.jsx)(w.Z,{inputType:"number",editMode:t,label:!1,name:"paidPercentage",margin:"m-0",placeholder:u("translation:shipmentAdd.shipmentDetails.paidPercentage.placeholder")})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(w.Z,{editMode:!1,label:!1,name:"percentageOf",margin:"m-0",placeholder:"% Of"})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(w.Z,{editMode:!1,label:!1,name:"shipmentCost",margin:"m-0",placeholder:u("translation:default.fields.shipmentCost")})})]})]})})]})}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsxs)(r.Z,{children:[(0,A.jsxs)(o.Z,{sm:24,children:[t?(0,A.jsx)(Ga.Z,{label:u("translation:shipmentAdd.shipmentDetails.freeOnBoard.label"),editMode:t,margin:"mb-15",name:"fobCode"}):(0,A.jsx)(Ue.Z,{containerClass:"mt-0 mb-15",title:u("translation:shipmentAdd.shipmentDetails.freeOnBoard.label"),children:j.Jn[D]}),(0,A.jsx)(M.Z,{name:"fobCode"})]}),(0,A.jsxs)(o.Z,{sm:24,children:[t?(0,A.jsx)(Ha.Z,{label:u("translation:default.fields.incoTerm.label"),editMode:t,margin:"mb-15",name:"incoCode",onChange:e=>{let{label:t}=e;return l.setFieldsValue({incoTerms:t})}}):(0,A.jsx)(Ue.Z,{containerClass:"mt-0 mb-15",title:u("translation:default.fields.incoTerm.label"),children:k}),(0,A.jsx)(M.Z,{name:"incoCode"}),(0,A.jsx)(M.Z,{name:"incoTerms"})]}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{label:u("translation:shipmentAdd.shipmentDetails.incotermNamedPlace.label"),editMode:t,margin:"mb-15",name:"incoPoint",maxLength:30})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{label:u("translation:default.fields.contactName.label"),editMode:!1,margin:"mb-15",name:"hazmatContactName",maxLength:"50"})})]})}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsxs)(r.Z,{children:[(0,A.jsxs)(o.Z,{sm:24,children:[t?(0,A.jsx)(Dt.Z,{label:u("translation:shipment.drawer.details.createdBy"),editMode:!1,margin:"mb-15",name:"createdBy",onChange:e=>{let{label:t}=e;return l.setFieldsValue({createdByName:t})}}):(0,A.jsx)(Ue.Z,{containerClass:"mt-0 mb-15",title:u("translation:shipment.drawer.details.createdBy"),children:I}),(0,A.jsx)(M.Z,{name:"createdBy"}),(0,A.jsx)(M.Z,{name:"createdByName"})]}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsxs)("div",{className:"mb-10",children:[(0,A.jsx)(Ue.Z,{title:u("translation:default.fields.modifiedBy"),children:(0,A.jsx)(G.Z,{className:"f-14 fw-600 text-black",children:(0,z.Fx)(null===a||void 0===a?void 0:a.modifiedByName)})}),(0,A.jsx)(M.Z,{name:"modifiedBy"})]})}),(0,A.jsx)(o.Z,{sm:24,className:"mb-8",children:(0,A.jsxs)("div",{className:"form-input-container",children:[(0,A.jsx)(G.Z,{className:"form-input-label",children:u("translation:default.fields.modifiedOn")}),(0,A.jsx)("label",{className:"label-mode",style:{height:32},children:(0,A.jsxs)(y.Z,{className:"f-14",children:[(0,He.GW)(null===a||void 0===a?void 0:a.modifiedOn,c)," | ",(0,He.GW)(null===a||void 0===a?void 0:a.modifiedOn,d?"hh:mm A":"HH:mm")]})})]})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(w.Z,{label:u("translation:default.fields.containerNumber.label"),editMode:t,margin:"mb-0",name:"trailerNumber",maxLength:25})})]})}),(0,A.jsx)(M.Z,{name:"poNumber"}),(0,A.jsx)(M.Z,{name:"masterShipment"})]})},_a=()=>{var e,t;const[l,a]=(0,s.useState)(!1),[n,d]=(0,s.useState)([]),h=(0,c.I0)(),m=(0,c.v9)((e=>e.shipment.shipmentDetails.data)),u=(0,c.v9)((e=>e.auth.user.data.id),c.wU),p=(0,Ra.Z)(v.oz.DEFAULT_DATE_FORMAT),[f,j]=(0,s.useState)(!1),b=(0,c.v9)((e=>e.auth.selectedCompany.companyId),c.wU),{pathname:Z}=(0,i.TH)(),N=(0,s.useMemo)((()=>(0,E.F)(Z)),[Z]),{t:S}=(0,F.$G)([N,"translation"]),[w]=C.Z.useForm(),D=(0,jl.Z)();(0,s.useEffect)((()=>{var e;m&&w.setFieldsValue({...null!==m&&void 0!==m&&m.additionalDetails?{...null===m||void 0===m?void 0:m.additionalDetails,branchKey:(0,z.xe)(null===m||void 0===m||null===(e=m.additionalDetails)||void 0===e?void 0:e.branchKey)}:{},shipmentCost:null!==m&&void 0!==m&&m.rateShopCost?null===m||void 0===m?void 0:m.rateShopCost:0})}),[m]);const k=(0,s.useMemo)((()=>(0,z.Az)(null===m||void 0===m?void 0:m.status)),[null===m||void 0===m?void 0:m.status]),T=C.Z.useWatch("branchDesc",w),L=C.Z.useWatch("shipmentTermsDesc",w),B=(0,fa.Z)();return(0,A.jsx)(C.Z,{form:w,onFinish:e=>{try{h((0,lt.ef)(!0)),e.shipmentKey=m.shipmentKey,e.customerKey=m.customerKey,e.userId=u;let t=(0,el.DM)(e);t.URL=vl.SHIPMENT_ADDITIONAL_INFORMATION_SAVE,t.notificationTitle=J.ZP.t("translation:shipment.savingAdditionalDetailsIs"),t.callBack=()=>{a(!1)},t.refetchShipment={shipmentKey:m.shipmentKey,customerKey:m.customerKey},h((0,x.mLV)(t)),j(!1)}catch(t){h((0,lt.ef)(!1))}},initialValues:{percentageOf:"% of",shipmentCost:null!==m&&void 0!==m&&m.rateShopCost?null===m||void 0===m?void 0:m.rateShopCost:0},onFieldsChange:()=>j(!0),children:(0,A.jsx)(hl.Z,{forceRender:!0,handleTabClick:e=>d(e),activeKey:n,tabs:[{tabKey:"1",content:(0,A.jsx)("div",{className:"px-30 custom-scroll-bar h-100",children:1==n&&(0,A.jsx)(za,{editMode:l,form:w,additionalDetails:null===m||void 0===m?void 0:m.additionalDetails,isPartialSave:k,is12HoursFormat:B})}),header:(0,A.jsxs)(r.Z,{align:"middle",gutter:15,children:[(0,A.jsx)(o.Z,{flex:1,children:(0,A.jsxs)(r.Z,{gutter:15,onClick:e=>e.stopPropagation(),children:[(0,A.jsxs)(o.Z,{sm:8,children:[l?(0,A.jsx)(X.Z,{label:S("translation:default.fields.branch.label"),editMode:l,margin:"mb-0",name:"branchKey",rules:[{required:!0,message:S("translation:default.fields.branch.message")}],customerId:b,disableValidation:k,onChange:e=>{let{label:t}=e;return w.setFieldsValue({branchDesc:t})}}):(0,A.jsx)(Ue.Z,{containerClass:"mt-0 mb-0",isRequired:!0,title:S("translation:default.fields.branch.label"),children:T}),(0,A.jsx)(M.Z,{name:"branchKey"}),(0,A.jsx)(M.Z,{name:"branchDesc"})]}),(0,A.jsxs)(o.Z,{sm:8,children:[l?(0,A.jsx)(yt.Z,{label:S("translation:default.fields.shipmentTerms.label"),editMode:l,margin:"mb-0",name:"shipmentTerms",rules:[{required:!0,message:S("translation:default.fields.shipmentTerms.message")}],disableValidation:k,onChange:e=>{let{label:t}=e;return w.setFieldsValue({shipmentTermsDesc:t})}}):(0,A.jsx)(Ue.Z,{containerClass:"mt-0",isRequired:!0,title:S("translation:default.fields.shipmentTerms.label"),children:L}),(0,A.jsx)(M.Z,{name:"shipmentTerms"}),(0,A.jsx)(M.Z,{name:"shipmentTermsDesc"})]}),(0,A.jsxs)(o.Z,{sm:8,children:[(0,A.jsx)(G.Z,{className:"form-input-label",children:S("translation:default.fields.createdOn.title")}),(0,A.jsx)("br",{}),(0,A.jsx)("label",{className:"label-mode ",style:{height:32},children:(0,A.jsxs)(y.Z,{className:"f-14",children:[(0,He.GW)(null===m||void 0===m||null===(e=m.additionalDetails)||void 0===e?void 0:e.createdOn,p)," ","|"," ",(0,He.GW)(null===m||void 0===m||null===(t=m.additionalDetails)||void 0===t?void 0:t.createdOn,B?"hh:mm A":"HH:mm")]})})]})]})}),(0,A.jsx)(o.Z,{onClick:e=>e.stopPropagation(),children:l?(0,A.jsx)(I.Z,{onCancel:()=>{a(!1),w.setFieldsValue(null===m||void 0===m?void 0:m.additionalDetails),j(!1)},isModified:f}):(0,A.jsx)(g.Z,{disabled:!D,onClick:()=>{a(!0),d(["1"])},children:S("translation:default.buttons.edit")})})]})}]})})},Wa=(0,s.memo)(_a);var $a=l(25947);const Qa=e=>{var t,l,a;let{setAdvancedPlanningNoticeModal:n}=e;const d=(0,c.I0)(),{shipmentDetails:h,getAdvancePlanningNoticeEmails:m,sendAdvancePlanningNoticeEmail:u,customerRoutingsSettings:f}=(0,c.v9)((e=>e.shipment)),[j,b]=(0,s.useState)([]),{pathname:y}=(0,i.TH)(),C=(0,s.useMemo)((()=>(0,E.F)(y)),[y]),{t:S}=(0,F.$G)([C,"translation"]);(0,s.useEffect)((()=>{var e,t;null!==h&&void 0!==h&&null!==(e=h.data)&&void 0!==e&&e.shipmentKey&&(d((0,x.IMb)({shipmentKey:null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.shipmentKey})),d((0,x.GwU)()),b([]))}),[null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.shipmentKey]);const w=(e,t)=>{let l=(0,p.cloneDeep)(j);e.target.checked?l.push(t):l=(0,p.filter)(l,(e=>e!==t)),b(l)},D=(0,Ra.Z)(v.oz.DEFAULT_DATE_FORMAT);return(0,A.jsxs)("div",{className:"flex-1 overflow-hidden d-flex flex-direction-column",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(r.Z,{gutter:30,className:"mb-15",children:(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:S("translation:shipmentAdd.rateShopDetails.adminEmail"),children:null===f||void 0===f||null===(l=f.data)||void 0===l?void 0:l.adminEmail})})}),(0,A.jsxs)(r.Z,{gutter:30,className:"mb-15",justify:"start",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:"Pickup Date",children:(0,He.GW)(null===m||void 0===m?void 0:m.expShipDate,D)})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:"Delivery Date",children:(0,He.GW)(null===m||void 0===m?void 0:m.expDeliveryDate,D)})})]})]}),(0,A.jsx)("div",{children:(0,A.jsx)("p",{className:"f-18 fw-800 text-black mb-5",children:"Carrier Notification Details"})}),(0,A.jsx)("div",{className:"flex-1 overflow-hidden pb-30",children:(0,A.jsx)(ge.Z,{border:!0,className:"h-100 overflow-hidden pb-15",children:null!==m&&void 0!==m&&null!==(a=m.data)&&void 0!==a&&a.length?(0,A.jsx)(at.Z,{className:"h-100",children:m.data.map(((e,t)=>(0,A.jsx)($a.Z,{providerDetails:e,index:t,selected:j.includes(t),handleProviderClick:w},t)))}):(0,A.jsx)(A.Fragment,{children:m.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(Z.Z,{title:"No transportation provider emails found!",descriptionOne:"",descriptionTwo:""})})})}),(0,A.jsxs)(r.Z,{justify:"end",className:"align-items-center",gutter:15,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{variant:"success",disabled:!j.length,onClick:()=>{var e;const t=(0,p.filter)(m.data,((e,t)=>j.includes(t)));let l={shipmentKey:null===h||void 0===h||null===(e=h.data)||void 0===e?void 0:e.shipmentKey,advancePlanningEmailAddressList:t.map((e=>({carrierKey:e.carrierKey,emailAddress:e.tenderEmailAddress,ratedCost:e.rateShopCost}))),handleDone:()=>{n(!1)}};d((0,x.i11)(l))},loading:null===u||void 0===u?void 0:u.progressing,children:S("translation:default.buttons.select")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{type:"default",variant:"danger",onClick:()=>n(!1),children:S("translation:default.buttons.cancel")})})]})]})},Xa=()=>{var e,t;const l=(0,c.I0)(),{pathname:a}=(0,i.TH)(),n=(0,s.useMemo)((()=>(0,E.F)(a)),[a]),{t:d}=(0,F.$G)([n,"translation"]),[h,m]=(0,s.useState)(!1),[u,f]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[Z,N]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1),w=(0,jl.Z)(),D=(0,c.v9)((e=>e.shipment.shipmentDetails.data),c.wU),k=(0,c.v9)((e=>e.shipment.shipmentEditStatus),c.wU),M=(0,c.v9)((e=>e.shipment.validateRateEntry.progressing),c.wU),I=(0,s.useRef)([]);(0,c.v9)((e=>e.shipment.shipmentProductFullList.data),((e,t)=>(I.current=t,!0)));const L=(0,s.useMemo)((()=>null!==D&&void 0!==D&&D.transportationList?D.transportationList:[]),[D]),[B,R]=(0,s.useState)(!1),[K,V]=(0,s.useState)("1"),U=(0,Nt.Z)("IsRateEntry"),G=(0,s.useMemo)((()=>L?L.map((e=>{let{latitude:t,longitude:l}=e;return{latitude:t,longitude:l}})):[]),[L]),H=async()=>{l((0,x.oLh)({ShipmentKey:D.shipmentKey,callBack:q}))},q=e=>{if((null===e||void 0===e?void 0:e.length)>0){const t=(0,p.sum)(e.map((e=>{let{legMilesNew:t}=e;return(0,z.xe)(t)})));let a=(0,p.cloneDeep)(D);a.totalMileage=t,l((0,x.npl)(a))}},Y=e=>{b(!0===e),m(!0),V("4")},_=()=>{V("4"),N(!0)},W=async()=>{try{l((0,x.wWw)("3"));const e=(0,p.minBy)(I.current,(e=>{let{itemSequenceKey:t}=e;return t}));if(!e)throw"Failed to calculate freight class";await(0,z.XQ)([e]);let t=(0,z.Ug)(e.length,e.width,e.height,e.weight,e.weightUom,e.billQty,e.billQtyUom,e.dimUom,e.cube);if(t>0){let e={shipmentKey:D.shipmentKey,freightClass:t};l((0,x.i14)(e))}else l((0,lt.d7)({open:!0,description:"Freight class can't be update with 0"})),l((0,lt.ef)(!1))}catch(e){l((0,lt.d7)({open:!0,description:e})),l((0,lt.ef)(!1))}},$=()=>{let e={ShipmentKey:D.shipmentKey,handleSuccess:()=>{S(!0),V("4")}};l((0,x.mC$)(e))},Q=(0,s.useMemo)((()=>[{title:d("translation:shipmentAdd.titles.transportation"),content:(0,A.jsx)(ja,{calculateMileage:H,handleOnClickRateShopButton:Y,handleOnClickSpotBidButton:_,handleFreightClassCalculator:W,handleRateEntryClick:$}),contentKey:"1"},...j.rk.includes(D.status)?[{title:"Advanced Planning Notice",content:(0,A.jsx)(s.Fragment,{}),contentKey:"5"}]:[],{title:d("translation:shipmentAdd.shipmentDetails.rateShopResults"),content:(0,A.jsx)(Ua,{rateShopFilterModal:h,setRateShopFilterModal:m,handleOnClickRateShopButton:Y,spotBidModal:Z,setSpotBidModal:N,handleRateEntryClick:$,rateEntryModal:C,setRateEntryModal:S,isAPIRateShop:g}),contentKey:"4"},{title:d("translation:shipmentAdd.shipmentDetails.trackingDetails"),content:(0,A.jsx)(Ma,{}),contentKey:"2"},{title:d("translation:shipmentAdd.shipmentDetails.iTrack"),content:(0,A.jsx)(ka,{}),contentKey:"3"}]),[D.status,h,C,g,Z]),X=(0,s.useMemo)((()=>(0,z.Az)(D.status)),[D.status]);return(0,A.jsxs)("div",{className:"pt-10  h-100 overflow-y-inherit d-flex flex-direction-column overflow-x-hidden position-relative",children:[(0,A.jsx)("div",{className:"px-30",children:(0,A.jsxs)(r.Z,{className:"br-4 flex-nowrap",gutter:15,children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)("table",{className:"bordered-table w-100",children:[(0,A.jsx)("thead",{children:(0,A.jsx)("th",{children:(0,A.jsxs)(r.Z,{gutter:10,align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(Al.Z,{className:"text-black",children:L.length>0&&(null===(e=L[0])||void 0===e?void 0:e.city)})}),(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(Re.Z,{size:7})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Al.Z,{className:"text-black",children:L.length>0&&(null===(t=L[L.length-1])||void 0===t?void 0:t.city)})})]})})}),(0,A.jsx)("tbody",{children:(0,A.jsx)("tr",{children:(0,A.jsx)("td",{children:(0,A.jsxs)(r.Z,{className:"p-10 flex-nowrap",justify:"space-between",gutter:15,children:[(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{className:"flex-direction-column",children:[(0,A.jsx)(o.Z,{className:"mb-20",children:(0,A.jsxs)(r.Z,{align:"middle",gutter:4,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:zl.r})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,className:"lh-12",children:(0,A.jsx)(T.Z,{className:"lh-12",children:d("translation:default.fields.pickUp")})}),(0,A.jsx)(o.Z,{sm:24,className:"vw-0",children:(0,A.jsx)(y.Z,{normal:!0,children:(0,A.jsx)(Ee.h3,{value:"0"+(0,el.G$)("1",L),displayType:"text",isNumericString:!0})})})]})})]})}),(0,A.jsx)(o.Z,{className:"",children:(0,A.jsxs)(r.Z,{align:"middle",gutter:4,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:_l.r})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,className:"lh-12",children:(0,A.jsx)(T.Z,{className:"lh-12",children:d("translation:shipment.drawer.details.delivery")})}),(0,A.jsx)(o.Z,{sm:24,className:"vw-0",children:(0,A.jsx)(y.Z,{normal:!0,children:(0,A.jsx)(Ee.h3,{value:"0"+(0,el.G$)("2",L),displayType:"text",isNumericString:!0})})})]})})]})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{className:"flex-direction-column",children:[(0,A.jsx)(o.Z,{className:"mb-20",children:(0,A.jsxs)(r.Z,{align:"middle",gutter:4,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:Wl.r})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,className:"lh-12",children:(0,A.jsx)(T.Z,{className:"lh-12",children:d("translation:shipment.drawer.details.distanceKm")})}),(0,A.jsx)(o.Z,{sm:24,className:"vw-0",children:(0,A.jsx)(y.Z,{normal:!0,children:(0,A.jsx)(Ee.h3,{thousandSeparator:!0,thousandsGroupStyle:"lakh",value:String(parseFloat((0,z.xe)(1.6*(null===D||void 0===D?void 0:D.totalMileage))).toFixed(2)),displayType:"text",isNumericString:!0})})})]})})]})}),(0,A.jsx)(o.Z,{className:"",children:(0,A.jsxs)(r.Z,{align:"middle",gutter:4,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:Wl.r})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,className:"lh-12",children:(0,A.jsx)(T.Z,{className:"lh-12",children:d("translation:shipment.drawer.details.distanceMiles")})}),(0,A.jsx)(o.Z,{sm:24,className:"vw-0",children:(0,A.jsx)(y.Z,{normal:!0,children:(0,A.jsx)(Ee.h3,{thousandSeparator:!0,thousandsGroupStyle:"lakh",value:String(parseFloat((0,z.xe)(null===D||void 0===D?void 0:D.totalMileage)).toFixed(2)),displayType:"text",isNumericString:!0})})})]})})]})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{className:"flex-direction-column",children:[(0,A.jsx)(o.Z,{className:"mb-20",children:(0,A.jsxs)(r.Z,{align:"middle",gutter:4,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:_l.r})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,className:"lh-12",children:(0,A.jsx)(T.Z,{className:"lh-12",children:"Billed Qty"})}),(0,A.jsx)(o.Z,{sm:24,className:"vw-0",children:(0,A.jsx)(y.Z,{normal:!0,children:(0,A.jsx)(Ee.h3,{thousandSeparator:!0,thousandsGroupStyle:"lakh",value:String(null!==D&&void 0!==D&&D.shipmentTotalQty?null===D||void 0===D?void 0:D.shipmentTotalQty:0),displayType:"text",isNumericString:!0})})})]})})]})}),(0,A.jsx)(o.Z,{className:"",children:(0,A.jsxs)(r.Z,{align:"middle",gutter:4,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:_l.r})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,className:"lh-12",children:(0,A.jsx)(T.Z,{className:"lh-12",children:"UOM"})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(y.Z,{normal:!0,className:"word-break-keep-all",children:D.billQtyUOMDesc})})]})})]})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{className:"flex-direction-column",children:[(0,A.jsx)(o.Z,{className:"mb-20",children:(0,A.jsxs)(r.Z,{align:"middle",gutter:4,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:_l.r})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,className:"lh-12",children:(0,A.jsx)(T.Z,{className:"lh-12",children:"".concat(d("translation:default.fields.totalWeight"),"(\n                                      ").concat(D.weightUOM,")")})}),(0,A.jsx)(o.Z,{sm:24,className:"vw-0",children:(0,A.jsx)(y.Z,{normal:!0,children:(0,A.jsx)(Ee.h3,{thousandSeparator:!0,thousandsGroupStyle:"lakh",value:String(parseFloat((0,z.xe)(null===D||void 0===D?void 0:D.shipmentTotalWeight)).toFixed(2)),displayType:"text",isNumericString:!0})})})]})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{align:"middle",gutter:4,children:[(0,A.jsx)(o.Z,{className:"lh-0",children:(0,A.jsx)(O.Z,{Icon:_l.r})}),(0,A.jsx)(o.Z,{children:(0,A.jsxs)(r.Z,{children:[(0,A.jsx)(o.Z,{sm:24,className:"lh-12",children:(0,A.jsx)(T.Z,{className:"lh-12",children:"".concat(d("translation:default.fields.cube.label"))})}),(0,A.jsx)(o.Z,{sm:24,children:(0,A.jsx)(y.Z,{normal:!0,children:(0,A.jsx)(Ee.h3,{thousandSeparator:!0,thousandsGroupStyle:"lakh",value:String(null!==D&&void 0!==D&&D.shipmentTotalCube?null===D||void 0===D?void 0:D.shipmentTotalCube:0),displayType:"text",isNumericString:!0})})})]})})]})})]})})]})})})})]})}),(0,A.jsx)(o.Z,{className:"flex-1 ".concat(B?"map-fullscreen-container":""),children:(0,A.jsx)("div",{className:"w-100 h-100 br-4 overflow-hidden ",children:(null===G||void 0===G?void 0:G.length)>0&&(0,A.jsx)(na,{handleFullScreenClick:()=>R(!B),hasEnabledFullScreen:B,coordinates:G,transportationList:L})})})]})}),(0,A.jsx)(Oe.Z,{className:"mt-10 mb-0 ml-n16 vw-100 "}),(0,A.jsx)("div",{className:"px-30 pt-10",children:(0,A.jsx)(Wa,{})}),(0,A.jsx)(Oe.Z,{className:"mb-0 mt-0 ml-n16 vw-100 "}),(0,A.jsxs)("div",{className:"flex-1 overflow-hidden shipment-edit-transportation-tabs-container",children:[(0,A.jsx)(nl.Z,{onChange:e=>{if("5"==e)return f(!0),!1;V(e)},contents:Q,defaultActiveKey:"1",activeKey:K,className:"h-100 overflow-hidden shipment-transportation-tab-container"}),"1"!==K&&"4"!==K&&(0,A.jsxs)(r.Z,{gutter:10,className:"transportation-header-button-container",align:"middle",justify:"end",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",onClick:Y,disabled:!w||k||X,showBackground:!0,children:d("translation:default.buttons.rateShop")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",onClick:()=>Y(!0),disabled:!w||k||X,showBackground:!0,children:"API Rate Shop"})}),v.i1.includes(D.status)&&U?(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",loading:M,onClick:$,disabled:X,showBackground:!0,children:d("translation:shipmentAdd.rateShopDetails.rateEntry")})}):(0,A.jsx)(A.Fragment,{}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{className:"text-black f-14",onClick:_,disabled:!w||k||X,showBackground:!0,children:d("translation:default.fields.spotBid")})})]})]}),j.rk.includes(D.status)&&(0,A.jsx)(st.Z,{title:"Advanced Shipment Notice",open:u,onClose:()=>f(!1),className:"w-70 ",descriptionClassName:"d-flex flex-direction-column overflow-hidden",customFooter:(0,A.jsx)(A.Fragment,{}),children:(0,A.jsx)(Qa,{setAdvancedPlanningNoticeModal:f})})]})},Ja=(0,s.memo)(Xa);var es=l(69466);const ts=()=>{var e,t;const[l,a]=(0,s.useState)([]),{shipmentDetails:n}=(0,c.v9)((e=>e.shipment)),{user:d}=(0,c.v9)((e=>e.auth)),h=(0,c.I0)(),[m,u]=(0,s.useState)(!1),{pathname:p}=(0,i.TH)(),v=(0,s.useMemo)((()=>(0,E.F)(p)),[p]),{t:j}=(0,F.$G)([v,"translation"]),b=(e,t)=>{const a={1:j("translation:shipmentAdd.vendorDetails.addingNewVendorIs"),2:j("translation:shipmentAdd.vendorDetails.modifyingVendorIs"),3:j("translation:shipmentAdd.vendorDetails.deletingVendorIs")};try{var s,i,r,o;h((0,lt.ef)(!0));let c=f().cloneDeep(l);c[t]={...c[t],...e,gridOperation:e.gridOperation?e.gridOperation:2};let m={shipmentKey:null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.shipmentKey,shipmentVendorList:(0,el.F7)(c,null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.shipmentKey,d.data.id),URL:vl.SHIPMENT_VENDOR_DETAILS_SAVE,notificationTitle:a[c[t].gridOperation],refetchShipment:{shipmentKey:null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.shipmentKey,customerKey:null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.customerKey},callBack:()=>{u(!1)}};h((0,x.mLV)(m))}catch(c){h((0,lt.ef)(!1))}},N=(e,t)=>{let s=f().cloneDeep(l);t?(s.splice(e,1),a(s)):(s[e].gridOperation=3,b(s[e],e))};(0,s.useEffect)((()=>{n.success&&a(n.data.shipmentVendorList)}),[null===n||void 0===n?void 0:n.success,null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.shipmentVendorList]);const C=(0,jl.Z)(),S=(0,s.useMemo)((()=>{var e;return(0,z.Az)(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.status)}),[null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.status]);return(0,A.jsxs)("div",{className:"d-flex py-15 h-100 ",style:{flexDirection:"column"},children:[(0,A.jsxs)(r.Z,{className:"px-30",justify:"space-between",gutter:16,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"fw-700 f-18",children:j("translation:shipmentAdd.vendorDetails.title")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{disabled:!C,onClick:()=>{let e=f().cloneDeep(l);e=[{vendorKey:0,isNew:!0,gridOperation:1,id:0},...e],a(e)},children:j("translation:shipmentAdd.vendorDetails.addNewVendor")})})]}),(0,A.jsx)(Oe.Z,{className:"my-16 vw-100 ml-n30"}),(0,A.jsx)("div",{className:"px-30 custom-scroll-bar ",style:{flex:1},children:l.length>0?l.map(((e,t)=>(0,A.jsx)(es.Z,{vendorDetails:e,handleDelete:N,handleSubmit:b,index:t,shipmentEditStatus:m,setShipmentEditStatus:u,isPartialSave:S},e.id))):(0,A.jsx)(Z.Z,{descriptionTwo:j("translation:shipment.createSomeData")})})]})};var ls=l(90165);const as=e=>{let{data:t,isSelected:l,handleClickOnCard:a}=e;const{pathname:n}=(0,i.TH)(),d=(0,s.useMemo)((()=>(0,E.F)(n)),[n]),{t:c}=(0,F.$G)([d,"translation"]);return(0,A.jsx)(ge.Z,{className:"shipment-card default-cursor border-muted ".concat(l?"selected":""),children:(0,A.jsx)(r.Z,{className:"px-15 py-14",gutter:15,children:(0,A.jsxs)(o.Z,{className:"flex-1",children:[(0,A.jsxs)(r.Z,{className:"mb-15",gutter:15,children:[(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:c("translation:default.fields.shipmentNumber.label"),children:(0,A.jsx)("span",{className:"cursor-pointer",onClick:()=>a(t.shipmentKey),children:(0,A.jsx)(y.Z,{className:"text-primary f-16",children:(0,z.I3)(t.approvalNumber,t.status)?"":t.shipmentNumber})})})}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsx)(Ue.Z,{title:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(O.Z,{Icon:Ge.r,color:"success"}),(0,A.jsx)("span",{className:"ml-5",children:c("translation:default.fields.origin")})]}),children:(0,A.jsx)(G.Z,{className:"f-14 fw-600",children:t.origin})})}),(0,A.jsxs)(o.Z,{sm:8,children:[(0,A.jsx)(r.Z,{justify:"center",children:(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:c("translation:shipment.card.totalMiles"),children:(0,A.jsx)(y.Z,{normal:!0,children:t.totalMileage})})})}),(0,A.jsx)(Re.Z,{})]}),(0,A.jsx)(o.Z,{sm:6,children:(0,A.jsx)(Ue.Z,{title:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(O.Z,{Icon:Ge.r,color:"danger"}),(0,A.jsx)("span",{className:"ml-5",children:c("translation:default.fields.destination")})]}),children:(0,A.jsx)(G.Z,{className:"f-14 fw-600",children:t.destination})})})]}),(0,A.jsxs)(r.Z,{gutter:15,children:[(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:c("translation:shipment.masterChildShipment"),children:(0,A.jsx)(Ve.Z,{className:"background-highlight",children:"Y"===(null===t||void 0===t?void 0:t.isMasterShipment)?c("translation:shipmentAdd.shipmentScreen.masterShipment"):"Y"===(null===t||void 0===t?void 0:t.isChildShipment)?c("translation:shipment.childShipment"):""})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:c("translation:default.fields.transportationProvider.label"),children:(0,A.jsx)(y.Z,{className:"text-highlight f-14",children:t.transportationName})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:c("translation:default.fields.expectedShipDate.label"),children:(0,A.jsx)(y.Z,{normal:!0,children:(0,He.BZ)(t.expShipDate)})})}),(0,A.jsx)(o.Z,{sm:4,children:(0,A.jsx)(Ue.Z,{title:c("translation:default.fields.expectedDeliveryDate"),children:(0,A.jsx)(y.Z,{normal:!0,children:(0,He.BZ)(t.expDeliveryDate)})})}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsx)(Ue.Z,{title:c("translation:default.fields.quantity.label"),children:(0,A.jsx)(y.Z,{normal:!0,children:t.totalQuantity})})}),(0,A.jsx)(o.Z,{sm:3,children:(0,A.jsxs)(Ue.Z,{title:c("translation:default.fields.cost"),children:[(0,A.jsx)(y.Z,{className:"text-highlight",children:t.shipmentCost}),(0,A.jsx)(G.Z,{currencyLabel:!0,children:t.currencyCode})]})}),(0,A.jsx)(o.Z,{sm:2,children:(0,A.jsx)(Ue.Z,{title:c("translation:shipment.card.weight"),children:(0,A.jsx)(y.Z,{normal:!0,children:t.shipmentTotalWeight})})})]})]})})})},ss=()=>{var e,t,l,a,n,d,h,m,u;const p=(0,c.I0)(),[f,v]=(0,s.useState)(!1),[j,b]=(0,s.useState)(!1),{auth:{user:C},shipment:{shipmentDetails:S,createChildShipment:w,masterChildDetails:D,shipmentPartialSave:k}}=(0,c.v9)((e=>e)),{pathname:M}=(0,i.TH)(),T=(0,s.useMemo)((()=>(0,E.F)(M)),[M]),{t:I}=(0,F.$G)([T,"translation"]);(0,s.useEffect)((()=>{var e,t;v(Boolean(null===S||void 0===S||null===(e=S.data)||void 0===e||null===(t=e.additionalDetails)||void 0===t?void 0:t.isMasterShipment))}),[null===S||void 0===S||null===(e=S.data)||void 0===e||null===(t=e.additionalDetails)||void 0===t?void 0:t.isMasterShipment]),(0,s.useEffect)((()=>{var e,t;null!==S&&void 0!==S&&null!==(e=S.data)&&void 0!==e&&e.shipmentKey&&p((0,x.UzT)({Shipmentkey:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.shipmentKey}))}),[null===S||void 0===S||null===(l=S.data)||void 0===l?void 0:l.shipmentKey]);const L=(0,s.useMemo)((()=>{var e;return(null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.length)>0&&"string"!==typeof(null===D||void 0===D?void 0:D.data)?null===D||void 0===D?void 0:D.data:[]}),[D]),B=e=>{p((0,x.jE1)({shipmentKey:e}))};return(0,A.jsxs)("div",{className:"h-100 overflow hidden d-flex flex-direction-column",children:[(0,A.jsx)(r.Z,{justify:"space-between",align:"middle",className:"pt-13 pb-15 px-30",children:(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{children:I("translation:shipment.masterChildShipmentDetails")})})}),(0,A.jsx)(Oe.Z,{className:"m-0"}),(0,A.jsx)("div",{className:"pt-13 pb-15 px-30",children:(0,A.jsxs)(r.Z,{gutter:15,children:[(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(Ue.Z,{title:"Master Shipment",children:(0,A.jsx)(ls.Z,{checked:f,checkedChildren:"Yes",unCheckedChildren:"No",onClick:e=>{var t,l,a;v(e),b(!0);let s={progressing:!0,...null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.additionalDetails};s.shipmentKey=null===S||void 0===S||null===(l=S.data)||void 0===l?void 0:l.shipmentKey,s.customerKey=null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.customerKey,s.masterShipment=e,s.userId=C.data.id;let i=(0,el.DM)(s);i.URL=vl.SHIPMENT_ADDITIONAL_INFORMATION_SAVE,i.notificationTitle="".concat(I("translation:shipment.convertingAs")," ").concat(I(e?"translation:shipmentAdd.shipmentScreen.masterShipment":"translation:shipment.regularShipment")," ").concat(I("translation:shipment.progressHas")),i.callBack=()=>{v(e),b(!1)},i.handleError=()=>{v(!e),b(!1)},p((0,x.mLV)(i))},loading:j})})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(Ue.Z,{title:I("translation:shipmentAdd.shipmentScreen.masterShipment"),children:(0,A.jsx)(G.Z,{className:"f-14 fw-600 text-black",children:null!==S&&void 0!==S&&null!==(a=S.data)&&void 0!==a&&null!==(n=a.additionalDetails)&&void 0!==n&&n.isMasterShipment?null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.shipmentNo:null===S||void 0===S||null===(h=S.data)||void 0===h?void 0:h.masterShipmentNo})})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(Ue.Z,{title:I("translation:shipment.masterQuantityLeft"),children:(0,A.jsx)(G.Z,{className:"f-14 fw-600 text-black",children:null===S||void 0===S||null===(m=S.data)||void 0===m?void 0:m.masterShipmentCurrentQty})})}),(0,A.jsx)(o.Z,{sm:24,md:6,children:(0,A.jsx)(Ue.Z,{title:I("translation:shipment.masterWeightLeft"),children:(0,A.jsx)(G.Z,{className:"f-14 fw-600 text-black",children:null===S||void 0===S||null===(u=S.data)||void 0===u?void 0:u.masterShipmentCurrentWeight})})})]})}),(0,A.jsx)(Oe.Z,{className:"m-0"}),(0,A.jsxs)(r.Z,{justify:"space-between",align:"middle",className:"pt-13 pb-15 px-30",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{children:I("translation:shipment.childShipmentDetails")})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{loading:null===w||void 0===w?void 0:w.progressing,type:"primary",className:"mr-15",onClick:()=>{var e,t,l;p((0,x.PMP)({shipmentKey:null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.shipmentKey,shipmentNo:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.shipmentNo,UserId:null===C||void 0===C||null===(l=C.data)||void 0===l?void 0:l.id}))},disabled:!f||j,children:I("translation:shipment.addChildShipment")})})})]}),(0,A.jsx)(Oe.Z,{className:"m-0"}),(0,A.jsx)("div",{className:"flex-1 custom-scroll-bar py-15 px-30",children:null!==D&&void 0!==D&&D.progressing?(0,A.jsx)(N.Z,{}):(0,A.jsx)(A.Fragment,{children:(null===L||void 0===L?void 0:L.length)>0?L.map(((e,t)=>(0,A.jsx)(as,{data:e,handleClickOnCard:B},t))):(0,A.jsx)(Z.Z,{title:I("translation:shipment.noMasterChildshipments"),descriptionOne:"",descriptionTwo:""})})})]})},is=()=>{const e=(0,c.v9)((e=>e.shipment.shipmentActiveTab),c.wU),t=(0,c.v9)((e=>e.shipment.shipmentDetails.data),c.wU),l=(0,il.Z)("isMenuVisible"),a=(0,c.I0)(),{pathname:n}=(0,i.TH)(),d=(0,s.useMemo)((()=>(0,E.F)(n)),[n]),{t:r}=(0,F.$G)([d,"translation"]),o=(0,Nt.Z)("IsCategoryVisible"),h=(0,Nt.Z)("IsBillToVisible"),m=(0,Nt.Z)("IsVendorVisible"),u=(0,Nt.Z)("IsMasterShipmentCheckbox"),p=(0,s.useMemo)((()=>[{title:r("translation:shipment.drawer.tabs.transportationDetails"),content:(0,A.jsx)(Ja,{}),contentKey:"1"},{title:r("translation:default.fields.productDetails"),content:(0,A.jsx)(Yl,{}),contentKey:"3"},{title:r("translation:default.fields.notes"),content:(0,A.jsx)(wl,{}),contentKey:"5"},...m?[{title:r("translation:shipment.drawer.tabs.vendorDetails"),content:(0,A.jsx)(ts,{}),contentKey:"6"}]:[],...h?[{title:r("translation:shipment.drawer.tabs.billTo"),content:(0,A.jsx)(gl,{}),contentKey:"8"}]:[],...o?[{title:r("translation:shipment.drawer.tabs.categoryDetails"),content:(0,A.jsx)(Zl,{}),contentKey:"9"}]:[],{title:r("translation:default.documentManager.title"),content:(0,A.jsx)(Cl,{}),contentKey:"10"},...u?[{title:r("translation:shipment.drawer.tabs.masterChildShipmentDetails"),content:(0,A.jsx)(ss,{}),contentKey:"13"}]:[],{title:r("translation:shipment.drawer.tabs.auditLog"),content:(0,A.jsx)(pl,{}),contentKey:"11"},...l?[{title:r("translation:shipment.drawer.tabs.accounting"),content:(0,A.jsx)(cl,{}),contentKey:"12"}]:[]]),[m,h,o,u,l]);return(0,s.useEffect)((()=>{t.shipmentKey&&a((0,x.KHM)({ShipmentKey:t.shipmentKey}))}),[t.shipmentKey]),(0,A.jsx)(nl.Z,{onChange:e=>a((0,x.wWw)(e)),contents:p,defaultActiveKey:"1",activeKey:e})},ns=(0,s.memo)(is),ds=()=>{const e=(0,c.I0)(),t=(0,c.v9)((e=>e.common.shipmentSidebarVisible),c.wU),l=(0,c.v9)((e=>e.shipment.shipmentDetails.progressing),c.wU);return(0,s.useEffect)((()=>{t&&!0!==t&&e((0,x.jE1)({ShipmentKey:t}))}),[t]),(0,A.jsx)(fe.Z,{forceRender:!0,visible:Boolean(t),afterOpenChange:t=>{t||(e((0,lt.Fd)(!1)),e((0,x.fB)()))},headerContents:(0,A.jsx)(sl,{}),width:"90%",onClose:()=>e((0,lt.Ll)(!1)),destroyOnClose:!0,children:(0,A.jsx)(nt.Z,{size:"large",spinning:l,wrapperClassName:"h-100 overflow-hidden shipment-drawer-root-spinner",children:(0,A.jsx)(ns,{})})})},rs=(0,s.memo)(ds),os=e=>{let{placeholder:t=J.ZP.t("translation:default.fields.sortBy.select"),label:l=J.ZP.t("translation:default.fields.sortBy.label"),rules:a=[],name:i,editMode:n}=e;const[d,r]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1);(0,s.useEffect)((()=>{h()}),[]);const h=async()=>{try{c(!0);const{data:e}=await(0,ie.LQ)();let t=e.map((e=>({label:e.columnName,value:e.columnValue})));r(t),c(!1)}catch(e){console.log(e),r([]),c(!1)}};return(0,A.jsx)(D.Z,{loading:o,options:d,placeholder:t,label:l,margin:"mb-0",rules:a,name:i,editMode:n})},cs=()=>{const[e]=C.Z.useForm(),t=(0,c.I0)(),l=(0,c.v9)((e=>e.shipment.shipmentFilters.OrderByColumn),c.wU),a=(0,c.v9)((e=>e.shipment.shipmentFilters.OrderBySort),c.wU),n=(0,s.useRef)(!1);(0,c.v9)((e=>e.shipment.shipmentList.isFirstTime),((e,t)=>(n.current=t,!0)));const d=(0,c.v9)((e=>e.auth.selectedCompany),c.wU),{pathname:h}=(0,i.TH)(),m=(0,s.useMemo)((()=>(0,E.F)(h)),[h]),{t:u}=(0,F.$G)([m,"translation"]),p=C.Z.useWatch("OrderBySort",e),f=C.Z.useWatch("OrderByColumn",e);return(0,s.useEffect)((()=>{p&&f&&!n.current&&((e,l)=>{t((0,x.cFm)({OrderBySort:e,OrderByColumn:l,PageNumber:1})),t((0,x.tQ1)({data:[]})),d&&!n.current&&t((0,x.$oe)())})(p,f)}),[p,f]),(0,A.jsxs)(C.Z,{className:"w-100",form:e,initialValues:{OrderByColumn:l,OrderBySort:a},children:[(0,A.jsxs)(r.Z,{align:"middle",gutter:15,children:[(0,A.jsx)(o.Z,{sm:15,lg:10,children:(0,A.jsx)(os,{className:"w-100",margin:"m-0",placeholder:"".concat(u("translation:default.fields.sortBy.label"),"..."),name:"OrderByColumn",label:""})}),(0,A.jsx)(o.Z,{children:p&&(0,A.jsx)(P.Z,{onClick:()=>{return e.setFieldValue("OrderBySort",(t=p)===v.qQ.ASC?v.qQ.DESC:t===v.qQ.DESC?v.qQ.ASC:void 0);var t},children:(0,A.jsx)(O.Z,{className:"mr-5",Icon:p===v.qQ.ASC?R.r:K.r,height:18,width:18})})})]}),(0,A.jsx)(M.Z,{name:"OrderBySort"})]})},hs=(0,s.memo)(cs),ms=()=>{const e=(0,c.I0)(),t=(0,c.v9)((e=>e.shipment.shipmentList.data),c.wU),l=(0,c.v9)((e=>e.shipment.selectedShipments),c.wU),{pathname:a}=(0,i.TH)(),n=(0,s.useMemo)((()=>(0,E.F)(a)),[a]),{t:d}=(0,F.$G)([n,"translation"]),h=l=>{l&&(l.target.checked?e((0,x.lPN)(t.map((e=>{let{shipmentKey:t}=e;return t})))):e((0,x.lPN)([])))};return(0,A.jsxs)(r.Z,{align:"middle",gutter:20,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(S.Z,{className:"m-0 pl-1",checkBoxClass:"normal-checkbox",onChange:h,checked:t.length>0&&t.length===l.length,label:(0,A.jsx)("span",{className:"ml-7 f-14 text-black",children:d("translation:default.fields.selectAll")})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{type:"default",onClick:()=>h({target:{checked:!1}}),className:"clear-selection-button p-0 ml-n5",children:d("translation:default.buttons.clearSelection")})}),(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(hs,{})})]})};var us=l(35762);const xs=e=>{let{setConsolidateModal:t}=e;const{selectedShipments:l,shipmentsStops:a}=(0,c.v9)((e=>e.shipment)),n=(0,c.I0)(),[d]=C.Z.useForm(),h=C.Z.useWatch("shipmentsViewCount",d);(0,s.useEffect)((()=>{(null===l||void 0===l?void 0:l.length)>0&&n((0,x.RJN)({ShipmentKeys:l.slice(0,h).join(",")}))}),[l,h]);const{pathname:m}=(0,i.TH)(),u=(0,s.useMemo)((()=>(0,E.F)(m)),[m]),{t:p}=(0,F.$G)([u,"translation"]),f=(0,s.useMemo)((()=>null!==a&&void 0!==a&&a.data?a.data.map((e=>{let{shipmentKey:t,listLocationDetails:l}=e;return{shipmentKey:t,stops:(a=l,a?a.map((e=>({region:e.region,city:e.city,stateCode:e.state,countryName:e.countryName,zipCode:e.postalCode,countryCode:e.country}))):[])};var a})):[]),[a]);return(0,A.jsxs)(r.Z,{className:"flex-direction-column flex-nowrap h-100",children:[(0,A.jsx)(o.Z,{className:"px-15 pt-15",children:(0,A.jsxs)(r.Z,{justify:"space-between",align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(C.Z,{form:d,initialValues:{shipmentsViewCount:5},children:(0,A.jsx)(D.Z,{margin:"m-0",label:p("translation:shipmentAdd.shipmentToDisplayOnMap"),options:[1,2,3,4,5,6,7,8,9,10].map((e=>({label:String(e),value:e}))),allowClear:!1,name:"shipmentsViewCount"})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{onClick:()=>t(!0),children:p("translation:shipmentAdd.consolidate")})})]})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Oe.Z,{className:"mx-0 my-15"})}),(0,A.jsx)(o.Z,{flex:1,className:"px-15 pb-15",children:null!==a&&void 0!==a&&a.progressing?(0,A.jsx)(N.Z,{size:"large"}):(0,A.jsx)(na,{hasEnabledFullScreen:!0,showFullScreenToggleButton:!1,coordinates:f,transportationList:f,isMultiRoute:!0})})]})},ps=()=>{const{shipmentList:e,selectedShipments:t}=(0,c.v9)((e=>e.shipment)),{totalPieces:l,totalWeight:a,totalCube:n}=(0,s.useMemo)((()=>{const l={totalPieces:0,totalWeight:0,totalCube:0};return(0,p.filter)(null!==e&&void 0!==e&&e.data?null===e||void 0===e?void 0:e.data:[],(e=>{let{shipmentKey:l}=e;return t.includes(l)})).forEach((e=>{let{totalUnits:t,totalCube:a,totalWeight:s}=e;l.totalPieces=l.totalPieces+t,l.totalWeight=l.totalWeight+s,l.totalCube=l.totalCube+a})),l}),[e,t]),{pathname:d}=(0,i.TH)(),h=(0,s.useMemo)((()=>(0,E.F)(d)),[d]),{t:m}=(0,F.$G)([h,"translation"]);return(0,A.jsxs)(r.Z,{gutter:30,align:"middle",children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(y.Z,{className:"text-white f-16",children:"Map View"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:m("translation:shipmentAdd.totalPieces"),labelClass:"text-white",containerClass:"text-white fw-600",children:l})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:m("translation:default.fields.totalWeight"),labelClass:"text-white",containerClass:"text-white fw-600",children:a})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Ue.Z,{title:m("translation:default.fields.totalCube"),labelClass:"text-white",containerClass:"text-white fw-600",children:n})})]})},fs=e=>{let{consolidateMapViewModal:t,setConsolidateMapViewModal:l,setConsolidateModal:a}=e;const[i,n]=(0,s.useState)(!1);return(0,A.jsx)(fe.Z,{visible:t,onClose:()=>l(!1),headerContents:(0,A.jsx)(ps,{}),width:"85%",afterOpenChange:n,children:i?(0,A.jsx)(xs,{setConsolidateModal:a}):(0,A.jsx)(N.Z,{size:"large"})})};var vs=l(19279),js=l(37989),gs=l(75652);const bs=e=>{let{availableColumns:t,isColumnsLoading:l,handleOnDragEnd:a,selectedColumns:s=[],handleAddNewColumn:i,handleRemoveColumn:n,handleSelectValueChange:d,selectedColumnValuesArray:c=[]}=e;return(0,A.jsxs)("div",{children:[(0,A.jsx)(vs.Z5,{onDragEnd:a,children:(0,A.jsx)(vs.bK,{droppableId:"shipmentColumns",children:e=>(0,A.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[s.map(((e,a)=>(0,A.jsx)(vs._l,{draggableId:e.id,index:a,children:s=>(0,A.jsx)("div",{ref:s.innerRef,...s.draggableProps,children:(0,A.jsx)(js.Z,{dragHandleProps:s.dragHandleProps,availableColumns:(0,p.filter)(t,(t=>{let{value:l}=t;return e.columnValue===l||!c.includes(l)})),isColumnsLoading:l,handleRemoveColumn:n,index:a,data:e,handleSelectValueChange:d})})},e.id))),e.placeholder]})})}),(0,A.jsx)(P.Z,{onClick:i(),children:(0,A.jsxs)(r.Z,{align:"middle",gutter:5,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(O.Z,{Icon:gs.r,className:"d-flex",color:"header"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(G.Z,{className:"text-header f-16 fw-600",children:"Add a column"})})]})})]})},Zs=e=>{let{open:t,setOpen:l}=e;const[a,i]=(0,s.useState)([]),n=(0,c.I0)(),d=(0,c.v9)((e=>e.shipment.shipmentSortingFields),c.wU),h=(0,c.v9)((e=>e.shipment.tableViewColumns.data),c.wU),m=(0,c.v9)((e=>e.shipment.tableViewColumns.data.progressing),c.wU);(0,s.useEffect)((()=>{n((0,x.rtr)()),n((0,x.fP)())}),[]),(0,s.useEffect)((()=>{i(h||[])}),[h]);const u=(0,s.useMemo)((()=>{var e;let t=[];var l;(null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.length)>0?t=null===d||void 0===d||null===(l=d.data)||void 0===l?void 0:l.map((e=>{let{columnName:t,columnValue:l}=e;return{label:t,value:(0,p.camelCase)(l)}})):t=[];return t}),[d]),f=(0,s.useMemo)((()=>a.map((e=>{let{columnValue:t}=e;return t}))),[a]);return(0,A.jsx)(fe.Z,{visible:t,onClose:()=>l(!1),headerContents:(0,A.jsx)(y.Z,{className:"text-white f-16",children:"Column Options"}),width:"400px",children:(0,A.jsxs)(r.Z,{className:"h-100 overflow-hidden flex-direction-column",children:[(0,A.jsx)(o.Z,{className:"flex-1 py-15 overflow-hidden",children:(0,A.jsx)("div",{className:"px-15 h-100 custom-scroll-bar",children:(0,A.jsx)(bs,{availableColumns:u,isColumnsLoading:d.progressing,handleOnDragEnd:e=>{if(!e.destination)return;const t=Array.from(a),[l]=t.splice(e.source.index,1);t.splice(e.destination.index,0,l),i(t)},selectedColumns:a,handleAddNewColumn:()=>()=>{const e=(0,p.cloneDeep)(a);e.push({columnName:void 0,columnValue:void 0,id:(0,p.uniqueId)()}),i(e)},handleRemoveColumn:e=>()=>{const t=(0,p.cloneDeep)(a);t.splice(e,1),i(t)},handleSelectValueChange:(e,t)=>{let l=(0,p.cloneDeep)(a);l[t].columnName=e.label,l[t].columnValue=(0,p.camelCase)(e.value),i(l)},selectedColumnValuesArray:f})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Oe.Z,{className:"my-15 border-bottom-border"})}),(0,A.jsx)(o.Z,{className:"px-15 pb-15",children:(0,A.jsxs)(r.Z,{justify:"end",gutter:15,children:[(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{variant:"danger",type:"default",onClick:()=>l(!1),children:"Cancel"})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(g.Z,{onClick:()=>{n((0,x.bz)({data:a,handleDone:()=>{l(!1)}}))},loading:m,children:"Save"})})]})})]})})},ys=e=>{let{form:t}=e;const[l,a]=(0,s.useState)(!0),{notificationAPI:n}=(0,c.v9)((e=>e.common)),[d,h]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),{selectedShipments:x,shipmentList:f,shipmentFilters:g}=(0,c.v9)((e=>e.shipment)),{user:Z,selectedCompany:y}=(0,c.v9)((e=>e.auth)),N=(0,c.I0)();(0,s.useEffect)((()=>{t&&M((0,j.k6)(),!0)}),[t]);const{pathname:w}=(0,i.TH)(),D=(0,s.useMemo)((()=>(0,E.F)(w)),[w]),{t:k}=(0,F.$G)([D,"translation"]),M=(e,l)=>{e.forEach((e=>{let{name:a}=e;t.setFieldValue(a,l)}))},T=async(e,t)=>{e.splice(11,0,{label:k("translation:shipment.shipperAppointmentNumber"),name:"Shipper Appointment Number"}),e.splice(18,0,{label:k("translation:shipment.consigneeAppointmentNumber"),name:"Consignee Appointment Number"});try{N((0,lt.ef)(!0));let l={shipmentkeys:t,showSpotBidCarrier:(0,p.find)(e,{name:"showSpotBidCarrier"})?"1":"0",isTpaSelected:(0,p.find)(e,{name:"isTpaSelected"})?"1":"0",isDisplayStopShow:(0,p.find)(e,{name:"isDisplayStopShow"})?"1":"0"};const{data:a}=await(0,ie.R)(l);I((0,p.cloneDeep)(e),a)}catch(l){console.log(l),N((0,lt.ef)(!1)),(0,z.Nh)(n,{type:v.GT.ERROR,title:k("translation:shipment.shipmentExportSFiled")})}},I=(e,t)=>{let l=[];t.forEach((t=>{let a=[];e.forEach((e=>{let{name:l}=e;Object.hasOwnProperty.call(t,l)?a.push(t[l]):a.push("")})),l.push(a)})),e=e.map((e=>{let{label:t}=e;return{name:t.length>0?t:"---"}})),(0,q.gf)(e,l),N((0,lt.ef)(!1))};return(0,A.jsxs)(C.Z,{onFinish:async e=>{try{var t;const a=x.length===(null===f||void 0===f||null===(t=f.data)||void 0===t?void 0:t.length);let s=[];if(a){var l;N((0,lt.ef)(!0));const e={CustomerKey:null===y||void 0===y?void 0:y.companyId,uid:null===Z||void 0===Z||null===(l=Z.data)||void 0===l?void 0:l.id,...g,PageSize:null===f||void 0===f?void 0:f.totalRecords},{data:t}=await(0,ie.Pt)(e);s=t.shipmentData,N((0,lt.ef)(!1))}else s=null===f||void 0===f?void 0:f.data;let i=(0,p.omitBy)(e,(e=>!e)),n=[],d=[],r=[],o=(0,p.keyBy)([...(0,j.k6)(),...(0,j.rl)(),...(0,j.jZ)()],"name");for(const e in o)!0===i[e]&&((0,p.find)((0,j.k6)(),{name:e})?n.push((0,p.find)((0,j.k6)(),{name:e})):(0,p.find)((0,j.rl)(),{name:e})?d.push((0,p.find)((0,j.rl)(),{name:e})):(0,p.find)((0,j.jZ)(),{name:e})&&r.push((0,p.find)((0,j.jZ)(),{name:e})));if((0,z.bs)([...Object.keys(i),...j.YM])){const e=a?s.map((e=>{let{shipmentKey:t}=e;return t})).join(","):x.join(",");T([...n,...d,...r],e)}else{let e=s;a||(e=(0,p.filter)(s,(e=>{let{shipmentKey:t}=e;return x.includes(t)}))),I((0,p.cloneDeep)(n),e)}}catch(a){(0,z.Nh)(n,{type:v.GT.ERROR,title:k("translation:default.fields.failedToExportShipmentDetails")}),N((0,lt.ef)(!1))}},className:"h-100 custom-scroll-bar",form:t,children:[(0,A.jsx)(b.Z,{showBorder:!0,title:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipmentInformation"),className:"m-0",checked:l,onChange:e=>{a(e.target.checked),M((0,j.k6)(),e.target.checked)}}),className:"mb-20",children:(0,A.jsxs)(r.Z,{className:"px-16 pt-15",children:[(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipmentNumber.placeholder"),name:"shipmentNo",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipmentStatus"),name:"status",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipmentTerms.label"),name:"shipmentTermsDesc",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.palletLoadType.label"),name:"palletLoadType",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.expectedDeliveryDate"),name:"expDeliveryDate",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.multiStop"),name:"multiStop",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipperName.label"),name:"shipperName",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipperCountry.label"),name:"shipperCountryCode",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipperPostal"),name:"shipperZip",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.modifiedBy"),name:"modifiedFullName",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipperState"),name:"shipperState",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipperCity.label"),name:"shipperCity",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipperPortType"),name:"shipperPortType",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.printedBillOfLading"),name:"bolPrinted",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.consigneeCountry.label"),name:"countryCode",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.consigneePostalCode.label"),name:"consigneeZip",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.consigneeState.label"),name:"consigneeState",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.consigneeCity.label"),name:"consigneeCity",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.consigneePortType"),name:"consigneePortType",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.weightUOM"),name:"weightUom",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.billQty"),name:"totalUnits",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.packageBilledQuantityunitOfMeasure"),name:"uom",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.expectedShipDate.label"),name:"expShipDate",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.cube.label"),name:"totalCube",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipmentCargoType"),name:"projectNo",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipmentTransportationProvider"),name:"shipmentCargoType",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.chargebleWeight"),name:"totalWeight",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.notes"),name:"shipmentNotes",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.internalNotes.label"),name:"detailNotes",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.consigneeName.label"),name:"consigneeName",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.createdOn.title"),name:"createdOn",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.createdByFullName"),name:"fullName",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.createByEmailAddress"),name:"userEmail",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.modifiedOn"),name:"modifiedOn",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.totalMileage"),name:"totalMileage",className:"mb-15"})})]})]})}),(0,A.jsx)(b.Z,{showBorder:!0,title:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.shipmentAdditionalInformation"),className:"m-0",checked:d,onChange:e=>{h(e.target.checked),M((0,j.rl)(),e.target.checked)}}),className:"mb-20",children:(0,A.jsxs)(r.Z,{className:"px-16 pt-15",children:[(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.masterBOLNo"),name:"masterBolNumber",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.houseBOLNo"),name:"bolNumber",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.containerNumber.label"),name:"containerNumber",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.masterShipmentNo"),name:"masterShipmentNo",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.freightBillNumber"),name:"proNo",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.transportationProviderAppointmentNumber"),name:"isTpaSelected",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.purchaseOrderNumber"),name:"poNumber",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.salesOrderNumber"),name:"soNumber",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.displayStopOffs"),name:"isDisplayStopShow",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.partNumber"),name:"partNumber",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.partNumberDescription"),name:"partDescription",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.freightClass.label"),name:"FreightClass",className:"m-0"})})]})]})}),(0,A.jsx)(b.Z,{showBorder:!0,title:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.rateDetails"),className:"m-0",checked:m,onChange:e=>{u(e.target.checked),M((0,j.jZ)(),e.target.checked)}}),children:(0,A.jsxs)(r.Z,{className:"px-16 pt-15",children:[(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.pricingBasis.label"),name:"pricingBasis",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.rateSubmittedOn"),name:"rateSubmittedOn",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.transportationProvider.label"),name:"carrierName",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.cost"),name:"cost",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.costCurrency"),name:"convertedCurrency",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.showAllSpotBidCarrier"),name:"showSpotBidCarrier",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.cargoType.label"),name:"cargoType",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.serviceLevel.label"),name:"serviceType",className:"mb-15"})})]}),(0,A.jsxs)(o.Z,{lg:6,children:[(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.transitDays"),name:"stdTransitDay",className:"mb-15"})}),(0,A.jsx)(o.Z,{lg:24,children:(0,A.jsx)(S.Z,{checkBoxClass:"normal-checkbox",label:k("translation:default.fields.rateStatus"),name:"rateStatus",className:"mb-15"})})]})]})})]})};var Ns,Cs,Ss,ws,Ds,ks,Ms,Ts;function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},Is.apply(this,arguments)}function Fs(e,t){let{title:l,titleId:a,...i}=e;return s.createElement("svg",Is({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),l?s.createElement("title",{id:a},l):null,Ns||(Ns=s.createElement("path",{d:"M8.06071 6.43952C7.93271 6.43952 7.80471 6.39077 7.70721 6.29302C6.92746 5.51327 5.65871 5.51302 4.87871 6.29302C4.68371 6.48827 4.36671 6.48827 4.17171 6.29302C3.97646 6.09777 3.97646 5.78127 4.17171 5.58602C5.34146 4.41602 7.24471 4.41627 8.41421 5.58602C8.60946 5.78127 8.60946 6.09777 8.41421 6.29302C8.31671 6.39077 8.18846 6.43952 8.06071 6.43952Z",fill:"black"})),Cs||(Cs=s.createElement("path",{d:"M7.70726 9.29172C6.93901 9.29172 6.17076 8.99922 5.58601 8.41447C5.39076 8.21922 5.39076 7.90272 5.58601 7.70747C5.78101 7.51222 6.09801 7.51222 6.29301 7.70747C7.07276 8.48722 8.34151 8.48747 9.12151 7.70747C9.31651 7.51222 9.63351 7.51222 9.82851 7.70747C10.0238 7.90272 10.0238 8.21922 9.82851 8.41447C9.24351 8.99922 8.47526 9.29172 7.70726 9.29172Z",fill:"black"})),Ss||(Ss=s.createElement("path",{d:"M9.47479 8.56076C9.34679 8.56076 9.21879 8.51201 9.12129 8.41426C8.92604 8.21901 8.92604 7.90251 9.12129 7.70726L11.9143 4.91426C12.1093 4.71901 12.4263 4.71901 12.6213 4.91426C12.8165 5.10951 12.8165 5.42601 12.6213 5.62126L9.82829 8.41426C9.73079 8.51201 9.60279 8.56076 9.47479 8.56076Z",fill:"black"})),ws||(ws=s.createElement("path",{d:"M5.26776 12.7677C5.13976 12.7677 5.01176 12.719 4.91426 12.6212C4.71901 12.426 4.71901 12.1095 4.91426 11.9142L6.47551 10.353C6.67051 10.1577 6.98751 10.1577 7.18251 10.353C7.37776 10.5482 7.37776 10.8647 7.18251 11.06L5.62126 12.6212C5.52376 12.719 5.39576 12.7677 5.26776 12.7677Z",fill:"black"})),Ds||(Ds=s.createElement("path",{d:"M1.73224 9.23226C1.60424 9.23226 1.47624 9.18351 1.37874 9.08576C1.18349 8.89051 1.18349 8.57401 1.37874 8.37876L4.17174 5.58601C4.36699 5.39076 4.68374 5.39076 4.87874 5.58601C5.07399 5.78126 5.07399 6.09776 4.87874 6.29301L2.08574 9.08576C1.98799 9.18326 1.85999 9.23226 1.73224 9.23226Z",fill:"black"})),ks||(ks=s.createElement("path",{d:"M7.17096 3.79374C7.04296 3.79374 6.91521 3.74499 6.81746 3.64749C6.62221 3.45224 6.62221 3.13574 6.81746 2.94024L8.37871 1.37874C8.57396 1.18349 8.89046 1.18349 9.08596 1.37874C9.28121 1.57399 9.28121 1.89049 9.08596 2.08599L7.52471 3.64749C7.42696 3.74474 7.29871 3.79374 7.17096 3.79374Z",fill:"black"})),Ms||(Ms=s.createElement("path",{d:"M3.49999 13.4837C2.72674 13.4837 1.95349 13.1962 1.37874 12.6212C0.228735 11.4712 0.228735 9.52849 1.37874 8.37849C1.57374 8.18324 1.89074 8.18324 2.08574 8.37849C2.28099 8.57374 2.28099 8.89024 2.08574 9.08549C1.31924 9.85199 1.31924 11.1475 2.08574 11.914C2.85224 12.6805 4.14774 12.6805 4.91424 11.914C5.10924 11.7187 5.42624 11.7187 5.62124 11.914C5.81649 12.1092 5.81649 12.4257 5.62124 12.621C5.04649 13.1962 4.27324 13.4837 3.49999 13.4837Z",fill:"black"})),Ts||(Ts=s.createElement("path",{d:"M12.2677 5.76774C12.1397 5.76774 12.0117 5.71899 11.9142 5.62124C11.719 5.42599 11.719 5.10949 11.9142 4.91424C12.6807 4.14774 12.6807 2.85224 11.9142 2.08574C11.1477 1.31924 9.85224 1.31924 9.08574 2.08574C8.89074 2.28099 8.57374 2.28099 8.37874 2.08574C8.18349 1.89049 8.18349 1.57399 8.37874 1.37874C9.52874 0.228735 11.4715 0.228735 12.6215 1.37874C13.7715 2.52874 13.7715 4.47149 12.6215 5.62149C12.5237 5.71899 12.3957 5.76774 12.2677 5.76774Z",fill:"black"})))}const Es=s.forwardRef(Fs);l.p;var As,Ls,Bs=l(16452);function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},Ps.apply(this,arguments)}function Os(e,t){let{title:l,titleId:a,...i}=e;return s.createElement("svg",Ps({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),l?s.createElement("title",{id:a},l):null,As||(As=s.createElement("g",{clipPath:"url(#clip0_774_3711)"},s.createElement("path",{d:"M1.85339 8.01526C1.85339 10.0708 2.87463 11.8878 4.43738 12.9866C4.71277 13.1803 4.72742 13.5825 4.46289 13.7908L4.45544 13.7966C4.28271 13.9326 4.04053 13.9417 3.8606 13.8153C2.03625 12.5341 0.84375 10.4138 0.84375 8.01526C0.84375 4.12476 4.06409 0.966431 7.94678 0.933228V1.94312C4.62134 1.97607 1.85339 4.68213 1.85339 8.01526Z",fill:"#131432"}),s.createElement("path",{d:"M8.1322 0.0301477L9.98767 1.29931C10.087 1.36731 10.087 1.51391 9.98767 1.58191L8.1322 2.85107C8.01855 2.92883 7.86438 2.84741 7.86438 2.70984V0.171505C7.86438 0.0338098 8.01855 -0.047489 8.1322 0.0301477Z",fill:"#131432"}),s.createElement("path",{d:"M14.137 7.98469C14.137 5.92915 13.1156 4.11214 11.5529 3.01338C11.2775 2.81966 11.2628 2.41743 11.5273 2.20918L11.5348 2.20332C11.7075 2.06734 11.9497 2.0583 12.1296 2.18465C13.9541 3.4659 15.1465 5.58614 15.1465 7.98469C15.1465 11.8752 11.9316 15.0335 8.04883 15.0667V14.0568C11.3743 14.0239 14.137 11.3179 14.137 7.98469Z",fill:"#131432"}),s.createElement("path",{d:"M7.85822 15.9698L6.00275 14.7006C5.90338 14.6326 5.90338 14.486 6.00275 14.418L7.85822 13.1489C7.97174 13.0711 8.12604 13.1525 8.12604 13.2901V15.8284C8.12604 15.9661 7.97174 16.0475 7.85822 15.9698Z",fill:"#131432"}),s.createElement("path",{d:"M11.1446 7.21316L8.10529 9.73366L7.33906 10.3692C7.15852 10.5187 6.93 10.5999 6.69758 10.5999C6.65888 10.5999 6.62019 10.5977 6.58112 10.5932C6.31 10.5613 6.06049 10.4175 5.8968 10.1989L4.71491 8.62343C4.44807 8.2676 4.52021 7.76247 4.87617 7.49514C5.23237 7.22829 5.73749 7.30044 6.00446 7.65639L6.80231 8.72024L6.80878 8.71499L10.1159 5.97231C10.4586 5.68837 10.9666 5.73574 11.2507 6.07839C11.5347 6.42104 11.4873 6.9291 11.1446 7.21316Z",fill:"#131432"}),s.createElement("path",{d:"M11.1447 7.21316L8.10535 9.73366C7.60828 9.48549 7.17114 9.14248 6.80884 8.71499L10.116 5.97231C10.4586 5.68837 10.9667 5.73574 11.2507 6.07839C11.5348 6.42104 11.4873 6.9291 11.1447 7.21316Z",fill:"#131432"}))),Ls||(Ls=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_774_3711"},s.createElement("rect",{width:16,height:16,fill:"white"})))))}const Rs=s.forwardRef(Os);l.p;var Ks=l(66202);const Vs=()=>{const e=(0,c.I0)(),t=(0,s.useRef)([]);(0,c.v9)((e=>e.shipment.shipmentList.data),((e,l)=>(t.current=l,!0)));const l=(0,c.v9)((e=>e.shipment.selectedShipments),c.wU),a=(0,c.v9)((e=>e.shipment.shipmentViewMode),c.wU),d=(0,c.v9)((e=>e.auth.user.data.id),c.wU),[h,m]=(0,s.useState)(!1),[u,f]=(0,s.useState)(!1),[j,b]=(0,s.useState)(!1),[Z,y]=(0,s.useState)(!1),[N,S]=(0,s.useState)(!1),[w,D]=(0,s.useState)(!1),[k,M]=(0,s.useState)(""),[T,I]=(0,s.useState)([]),[L]=C.Z.useForm(),[R]=C.Z.useForm(),{pathname:K}=(0,i.TH)(),G=(0,s.useMemo)((()=>(0,E.F)(K)),[K]),{t:H}=(0,F.$G)([G,"translation"]),q=l.length<=0;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(r.Z,{gutter:6,align:"middle",children:[(0,A.jsx)(o.Z,{className:"mr-5",children:(0,A.jsx)(Rt.rU,{to:n.QY.ADD_SHIPMENT,children:(0,A.jsx)(g.Z,{children:H("translation:shipment.header.addShipment")})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(B.Z,{placement:"topRight",title:H("translation:default.fields.deleteConfirm.title"),onConfirm:()=>{e((0,lt.ef)(!0)),e((0,x.F7r)({ShipmentKeyList:l.join(",")}))},okText:H("translation:default.options.yes"),cancelText:H("translation:default.buttons.cancel"),overlayClassName:"",children:(0,A.jsx)(us.Z,{icon:(0,A.jsx)(O.Z,{Icon:V.r}),disabled:q,children:(0,A.jsx)("label",{className:"ml-5",children:H("translation:default.buttons.delete")})})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(us.Z,{disabled:q,icon:(0,A.jsx)(O.Z,{Icon:U.r}),onClick:()=>y(!0),children:(0,A.jsx)("label",{className:"ml-5",children:H("translation:default.buttons.export")})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(us.Z,{onClick:()=>f(!0),disabled:q,icon:(0,A.jsx)(O.Z,{Icon:Bs.r}),children:(0,A.jsx)("label",{className:"ml-5",children:H("translation:default.fields.mapView")})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(us.Z,{onClick:()=>m(!0),disabled:q,icon:(0,A.jsx)(O.Z,{Icon:Es}),children:(0,A.jsx)("label",{className:"ml-5",children:H("translation:shipment.header.consolidate")})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(us.Z,{onClick:()=>{if(1===l.length){const t={ShipmentKey:l[0]};e((0,x.jE1)(t)),e((0,lt.Ll)(l[0])),e((0,x.wWw)("11"))}else D(!0),M(H("translation:shipment.header.warningModalDescription"))},disabled:q,icon:(0,A.jsx)(O.Z,{Icon:Fl.r,height:16,width:16}),children:(0,A.jsx)("label",{className:"ml-5",children:H("translation:shipment.drawer.tabs.auditLog")})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(us.Z,{onClick:()=>{let e=(0,p.filter)(t.current,(e=>{let{shipmentKey:t}=e;return l.includes(t)}));e=e.map((e=>{let{shipmentKey:t,shipmentNo:l,status:a,customerKey:s}=e;return{shipmentKey:t,shipmentNumber:l,fromShipmentStatus:a,customerKey:s,userId:d,isDelivered:0}})),I(e),b(!0)},disabled:q,icon:(0,A.jsx)(O.Z,{Icon:Rs}),children:(0,A.jsx)("label",{className:"ml-5",children:H("translation:shipment.header.updateShipmentStatus")})})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(P.Z,{onClick:()=>{e((0,x.tHZ)(a===v.L0.CARD?v.L0.TABLE:v.L0.CARD))},children:(0,A.jsx)(O.Z,{Icon:a===v.L0.CARD?Fl.r:Il.r,color:"header",width:22,height:22})})}),a===v.L0.TABLE?(0,A.jsx)(o.Z,{children:(0,A.jsx)(us.Z,{onClick:()=>S(!0),icon:(0,A.jsx)(O.Z,{Icon:Ks.r,height:22,width:22}),children:(0,A.jsx)("label",{className:"ml-0",children:"Column Options"})})}):(0,A.jsx)(A.Fragment,{})]}),(0,A.jsx)(We.Z,{onOk:async()=>{try{e((0,lt.ef)(!0));let a=l.map((e=>find(t.current,{shipmentKey:e}).shipmentNo)),s=l;const i=()=>{f(!1)};e((0,x.JrK)({FirstSelectShipmentNumber:l[0],ShipmentKeyList:s.join(","),shipmentNoList:a.join(", "),UserId:d,handleSuccess:i})),m(!1)}catch(a){console.log(a)}},onCancel:()=>m(!1),onClose:()=>m(!1),open:h,title:H("translation:shipment.header.confirmationModal.title"),description:H("translation:shipment.header.confirmationModal.description"),okText:H("translation:shipment.header.confirmationModal.okText"),cancelText:H("translation:default.buttons.cancel")}),(0,A.jsx)(fs,{consolidateMapViewModal:u,setConsolidateMapViewModal:f,setConsolidateModal:m}),(0,A.jsx)(Zs,{open:N,setOpen:S}),(0,A.jsx)(st.Z,{open:j,title:H("translation:shipment.header.commonUpdateModal.title"),okText:H("translation:default.buttons.update"),cancelText:H("translation:default.buttons.cancel"),onCancel:()=>b(!1),onClose:()=>b(!1),onOk:()=>L.submit(),className:"h-50 w-40",children:(0,A.jsx)(ft,{parentFormRef:L,handleUpdateStatus:e=>{e&&b(!1)},selectedShipments:T})}),(0,A.jsx)(st.Z,{className:"vw-80",open:Z,title:H("translation:shipment.header.commonExportModal.title"),okText:H("translation:default.buttons.export"),cancelText:H("translation:default.buttons.close"),onCancel:()=>y(!1),onClose:()=>y(!1),onOk:()=>R.submit(),children:(0,A.jsx)(ys,{form:R})}),(0,A.jsx)(ht.Z,{open:w,description:k,onClose:()=>{D(!1),M("")},onOk:()=>{D(!1),M("")}})]})},Us=()=>(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(r.Z,{justify:"space-between",className:"py-15 px-14",align:"middle",children:[(0,A.jsx)(o.Z,{className:"flex-1",children:(0,A.jsx)(ms,{})}),(0,A.jsx)(o.Z,{children:(0,A.jsx)(Vs,{})})]})}),Gs=()=>{const{pathname:e}=(0,i.TH)(),t=(0,s.useMemo)((()=>(0,E.F)(e)),[e]),{t:l}=(0,F.$G)([t,"translation"]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ue.Z,{filterElement:(0,A.jsx)(Bt,{}),contentElement:(0,A.jsx)(gt,{}),filterTitle:l("translation:default.fields.filter"),pageTitle:l("translation:shipment.header.title"),footerContent:(0,A.jsx)(Le,{}),headerContent:(0,A.jsx)(Us,{})}),(0,A.jsx)(rs,{})]})},Hs=(0,s.memo)(Gs),qs=()=>{const e=(0,i.s0)(),{pathname:t}=(0,i.TH)(),l=(0,s.useMemo)((()=>(0,E.F)(t)),[t]),{t:r}=(0,F.$G)([l,"translation"]);return(0,A.jsxs)(a.default,{className:"page-level-tab-container",onChange:t=>e(t),activeKey:t.includes(n.QY.SHIPMENT_PARCEL_EXPRESS)?n.QY.SHIPMENT_PARCEL_EXPRESS:t,children:[(0,A.jsx)(a.default.TabPane,{tab:r("translation:shipment.title"),children:(0,A.jsx)(Hs,{})},n.QY.SHIPMENT),(0,A.jsx)(a.default.TabPane,{tab:r("translation:parcelExpress.titles.parcelExpress"),children:(0,A.jsx)(me.Z,{})},n.QY.SHIPMENT_PARCEL_EXPRESS),(0,A.jsx)(a.default.TabPane,{tab:r("translation:getQuote.titles.getQuote"),children:(0,A.jsx)(d.Z,{})},n.QY.SHIPMENT_GET_QUOTE),(0,A.jsx)(a.default.TabPane,{tab:r("translation:notificationSettings.title"),children:(0,A.jsx)(he,{})},n.QY.SHIPMENT_NOTIFICATION_ROUTING)]})}},37989:(e,t,l)=>{l.d(t,{Z:()=>h});var a=l(66106),s=l(30914),i=(l(72791),l(10089)),n=l(99361),d=l(28478),r=l(88858),o=l(10686),c=l(80184);const h=e=>{let{dragHandleProps:t={},availableColumns:l=[],isColumnsLoading:h=!1,handleRemoveColumn:m,index:u,handleSelectValueChange:x,data:p}=e;return(0,c.jsx)("div",{className:"shipment-column-options-card-dnd",children:(0,c.jsx)("div",{className:"shipment-column-container",children:(0,c.jsxs)(a.Z,{gutter:10,align:"middle",children:[(0,c.jsx)(s.Z,{children:(0,c.jsxs)(a.Z,{gutter:2,...t,children:[(0,c.jsx)(s.Z,{children:(0,c.jsx)(d.Z,{Icon:i.r,color:"header",className:"d-flex",height:15})}),(0,c.jsx)(s.Z,{children:(0,c.jsx)(d.Z,{Icon:i.r,color:"header",className:"d-flex",height:15})}),(0,c.jsx)(s.Z,{children:(0,c.jsx)(d.Z,{Icon:i.r,color:"header",className:"d-flex",height:15})})]})}),(0,c.jsx)(s.Z,{className:"flex-1",children:(0,c.jsx)(r.Z,{margin:"m-0",placeholder:"Select A column",defaultValue:(null===p||void 0===p?void 0:p.columnValue)||(null===p||void 0===p?void 0:p.label),options:l,loading:h,onChange:e=>x(e,u)})}),(0,c.jsx)(s.Z,{children:(0,c.jsx)(a.Z,{className:"flex-direction-column ",justify:"center",children:(0,c.jsx)(o.Z,{onClick:()=>m(u),children:(0,c.jsx)(d.Z,{Icon:n.r,color:"danger",className:"d-flex",height:20,width:20})})})})]})})})}}}]);
//# sourceMappingURL=999.05c6efc0.chunk.js.map