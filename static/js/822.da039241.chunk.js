"use strict";(self.webpackChunknvision_TMS=self.webpackChunknvision_TMS||[]).push([[822,6473],{14611:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(72791),o=n(95048),c=n(9835),i=n(72330),r=n(48673),l=n(763),d=n.n(l),s=(n(5045),n(48740),n(67766),n(16871)),p=n(39230),g=n(60914),m=(n(38841),n(46130)),b=n(66106),h=n(30914),u=n(47970),f=n(80184);function y(e){let{form:t}=e;(0,o.I0)(),(0,o.v9)((e=>e.common.notificationAPI));const n=(0,i.Z)(c.mS.SHIPMENT),[l,y]=(0,a.useState)([]),{pathname:x}=(0,s.TH)(),v=(0,a.useMemo)((()=>(0,g.F)(x)),[x]),{t:S}=(0,p.$G)([v,"translation"]),{projectCopy:j}=(0,o.v9)((e=>e.procurementProject));(0,a.useEffect)((()=>{const e=null===j||void 0===j?void 0:j.data;if(e&&Object.keys(e).length){var t;let n=[];null===e||void 0===e||null===(t=e.projectDocumentList)||void 0===t||t.forEach((e=>{var t;n.push({...e,fileGuid:!0,docTypeCode:(null===e||void 0===e?void 0:e.docType)||"",isNew:!1,isUpdate:!1,file:e.documentName,documentPath:(null===e||void 0===e||null===(t=e.cloudUrl)||void 0===t?void 0:t[0])||"",documentID:0,projectID:0,tenderID:0,documentName:e.documentName||"",comments:e.documentTitle?e.documentTitle:"",renderKey:d().uniqueId()})})),y(n)}}),[j]),(0,a.useEffect)((()=>{t.setFieldsValue({documents:l})}),[l]);const O=async(e,t,n)=>{let a=[...l];const o=a.findIndex((e=>e.renderKey===n.renderKey));a=[...a.slice(0,o),{...a[o],...n,isNew:!1,isUpdate:!1},...a.slice(o+1)],y(a)},w=e=>{let t=[...l];t[e].isUpdate=!0,y(t)},C=async(e,t)=>{let n=d().cloneDeep(l);null!==t&&n.splice(t,1),y(n)};return(0,f.jsx)("div",{className:"d-flex flex-direction-column overflow-hidden h-100 br-4",children:(0,f.jsxs)("div",{className:"custom-scroll-bar overflow-x-hidden mb-15 flex-1 pl-15 pr-15",children:[(0,f.jsxs)(b.Z,{className:"align-items-center mb-15",justify:"space-between",children:[(0,f.jsx)(h.Z,{}),(0,f.jsx)(h.Z,{children:(0,f.jsx)(b.Z,{justify:"end",gutter:16,children:(0,f.jsx)(h.Z,{children:(0,f.jsx)(m.Z,{onClick:()=>{let e=d().cloneDeep(l);e=[{renderKey:d().uniqueId(),isNew:!0,isUpdate:!0},...e],y(e)},children:S("translation:default.documentManager.addNewFile")})})})})]}),l.map(((e,t)=>(0,f.jsx)(r.Z,{handleDelete:C,fileDetails:e,handleSave:O,isNew:e.isNew,index:t,allowedExtentions:n,editRecord:w,isProjectUpload:!0,renderKey:e.renderKey,handleResetValueAction:(e,t)=>((e,t)=>{let n=d().cloneDeep(l);if(t){let e=n.filter((e=>1!=e.isNew));y(e)}else{let t=n[e];t.isUpdate=!1,n[e]=t,y(n)}})(e,t)},e.renderKey))),0==l.length&&(0,f.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:S("translation:default.notification.noRecondfound")}),(0,f.jsx)(u.Z,{name:"documents"})]})})}},36473:(e,t,n)=>{n.d(t,{Z:()=>P});var a=n(41418),o=n.n(a),c=n(41818),i=n(72791),r=n(71929),l=n(84107),d=n(86443),s=n(51379),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const g=e=>{var{prefixCls:t,className:n,hoverable:a=!0}=e,c=p(e,["prefixCls","className","hoverable"]);const{getPrefixCls:l}=i.useContext(r.E_),d=l("card",t),s=o()("".concat(d,"-grid"),n,{["".concat(d,"-grid-hoverable")]:a});return i.createElement("div",Object.assign({},c,{className:s}))};var m=n(67521),b=n(55564),h=n(89922);const u=e=>{const{antCls:t,componentCls:n,headerHeight:a,cardPaddingBase:o,tabsMarginBottom:c}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:a,marginBottom:-1,padding:"0 ".concat(o,"px"),color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorderSecondary),borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0")},(0,m.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},m.vS),{["\n          > ".concat(n,"-typography,\n          > ").concat(n,"-typography-edit-content\n        ")]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),["".concat(t,"-tabs-top")]:{clear:"both",marginBottom:c,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorderSecondary)}}})},f=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:a,lineWidth:o}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:"\n      ".concat(o,"px 0 0 0 ").concat(n,",\n      0 ").concat(o,"px 0 0 ").concat(n,",\n      ").concat(o,"px ").concat(o,"px 0 0 ").concat(n,",\n      ").concat(o,"px 0 0 0 ").concat(n," inset,\n      0 ").concat(o,"px 0 0 ").concat(n," inset;\n    "),transition:"all ".concat(e.motionDurationMid),"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:a}}},y=e=>{const{componentCls:t,iconCls:n,actionsLiMargin:a,cardActionsIconSize:o,colorBorderSecondary:c,actionsBg:i}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:i,borderTop:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(c),display:"flex",borderRadius:"0 0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px ")},(0,m.dF)()),{"& > li":{margin:a,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:2*e.cardActionsIconSize,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:"color ".concat(e.motionDurationMid)},["a:not(".concat(t,"-btn), > ").concat(n)]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:"".concat(e.fontSize*e.lineHeight,"px"),transition:"color ".concat(e.motionDurationMid),"&:hover":{color:e.colorPrimary}},["> ".concat(n)]:{fontSize:o,lineHeight:"".concat(o*e.lineHeight,"px")}},"&:not(:last-child)":{borderInlineEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(c)}}})},x=e=>Object.assign(Object.assign({margin:"-".concat(e.marginXXS,"px 0"),display:"flex"},(0,m.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},m.vS),"&-description":{color:e.colorTextDescription}}),v=e=>{const{componentCls:t,cardPaddingBase:n,colorFillAlter:a}=e;return{["".concat(t,"-head")]:{padding:"0 ".concat(n,"px"),background:a,"&-title":{fontSize:e.fontSize}},["".concat(t,"-body")]:{padding:"".concat(e.padding,"px ").concat(n,"px")}}},S=e=>{const{componentCls:t}=e;return{overflow:"hidden",["".concat(t,"-body")]:{userSelect:"none"}}},j=e=>{const{antCls:t,componentCls:n,cardShadow:a,cardHeadPadding:o,colorBorderSecondary:c,boxShadowTertiary:i,cardPaddingBase:r,extraColor:l}=e;return{[n]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,["&:not(".concat(n,"-bordered)")]:{boxShadow:i},["".concat(n,"-head")]:u(e),["".concat(n,"-extra")]:{marginInlineStart:"auto",color:l,fontWeight:"normal",fontSize:e.fontSize},["".concat(n,"-body")]:Object.assign({padding:r,borderRadius:" 0 0 ".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px")},(0,m.dF)()),["".concat(n,"-grid")]:f(e),["".concat(n,"-cover")]:{"> *":{display:"block",width:"100%"},["img, img + ".concat(t,"-image-mask")]:{borderRadius:"".concat(e.borderRadiusLG,"px ").concat(e.borderRadiusLG,"px 0 0")}},["".concat(n,"-actions")]:y(e),["".concat(n,"-meta")]:x(e)}),["".concat(n,"-bordered")]:{border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(c),["".concat(n,"-cover")]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},["".concat(n,"-hoverable")]:{cursor:"pointer",transition:"box-shadow ".concat(e.motionDurationMid,", border-color ").concat(e.motionDurationMid),"&:hover":{borderColor:"transparent",boxShadow:a}},["".concat(n,"-contain-grid")]:{["".concat(n,"-body")]:{display:"flex",flexWrap:"wrap"},["&:not(".concat(n,"-loading) ").concat(n,"-body")]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},["".concat(n,"-contain-tabs")]:{["> ".concat(n,"-head")]:{["".concat(n,"-head-title, ").concat(n,"-extra")]:{paddingTop:o}}},["".concat(n,"-type-inner")]:v(e),["".concat(n,"-loading")]:S(e),["".concat(n,"-rtl")]:{direction:"rtl"}}},O=e=>{const{componentCls:t,cardPaddingSM:n,headerHeightSM:a,headerFontSizeSM:o}=e;return{["".concat(t,"-small")]:{["> ".concat(t,"-head")]:{minHeight:a,padding:"0 ".concat(n,"px"),fontSize:o,["> ".concat(t,"-head-wrapper")]:{["> ".concat(t,"-extra")]:{fontSize:e.fontSize}}},["> ".concat(t,"-body")]:{padding:n}},["".concat(t,"-small").concat(t,"-contain-tabs")]:{["> ".concat(t,"-head")]:{["".concat(t,"-head-title, ").concat(t,"-extra")]:{minHeight:a,paddingTop:0,display:"flex",alignItems:"center"}}}}},w=(0,b.Z)("Card",(e=>{const t=(0,h.TS)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[j(t),O(t)]}),(e=>({headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:"".concat(e.paddingSM,"px 0"),tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText})));var C=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const N=i.forwardRef(((e,t)=>{const{prefixCls:n,className:a,rootClassName:p,style:m,extra:b,headStyle:h={},bodyStyle:u={},title:f,loading:y,bordered:x=!0,size:v,type:S,cover:j,actions:O,tabList:N,children:E,activeTabKey:T,defaultActiveTabKey:z,tabBarExtraContent:P,hoverable:B,tabProps:I={}}=e,M=C(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),{getPrefixCls:H,direction:L,card:R}=i.useContext(r.E_),D=i.useMemo((()=>{let e=!1;return i.Children.forEach(E,(t=>{t&&t.type&&t.type===g&&(e=!0)})),e}),[E]),W=H("card",n),[k,G]=w(W),Z=i.createElement(d.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},E),K=void 0!==T,F=Object.assign(Object.assign({},I),{[K?"activeKey":"defaultActiveKey"]:K?T:z,tabBarExtraContent:P});let A;const U=(0,l.Z)(v),_=U&&"default"!==U?U:"large",X=N?i.createElement(s.default,Object.assign({size:_},F,{className:"".concat(W,"-head-tabs"),onChange:t=>{var n;null===(n=e.onTabChange)||void 0===n||n.call(e,t)},items:N.map((e=>{var{tab:t}=e,n=C(e,["tab"]);return Object.assign({label:t},n)}))})):null;(f||b||X)&&(A=i.createElement("div",{className:"".concat(W,"-head"),style:h},i.createElement("div",{className:"".concat(W,"-head-wrapper")},f&&i.createElement("div",{className:"".concat(W,"-head-title")},f),b&&i.createElement("div",{className:"".concat(W,"-extra")},b)),X));const q=j?i.createElement("div",{className:"".concat(W,"-cover")},j):null,V=i.createElement("div",{className:"".concat(W,"-body"),style:u},y?Z:E),$=O&&O.length?i.createElement("ul",{className:"".concat(W,"-actions")},function(e){return e.map(((t,n)=>i.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},i.createElement("span",null,t))))}(O)):null,J=(0,c.Z)(M,["onTabChange"]),Q=o()(W,null===R||void 0===R?void 0:R.className,{["".concat(W,"-loading")]:y,["".concat(W,"-bordered")]:x,["".concat(W,"-hoverable")]:B,["".concat(W,"-contain-grid")]:D,["".concat(W,"-contain-tabs")]:N&&N.length,["".concat(W,"-").concat(U)]:U,["".concat(W,"-type-").concat(S)]:!!S,["".concat(W,"-rtl")]:"rtl"===L},a,p,G),Y=Object.assign(Object.assign({},null===R||void 0===R?void 0:R.style),m);return k(i.createElement("div",Object.assign({ref:t},J,{className:Q,style:Y}),A,q,V,$))}));var E=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const T=e=>{const{prefixCls:t,className:n,avatar:a,title:c,description:l}=e,d=E(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:s}=i.useContext(r.E_),p=s("card",t),g=o()("".concat(p,"-meta"),n),m=a?i.createElement("div",{className:"".concat(p,"-meta-avatar")},a):null,b=c?i.createElement("div",{className:"".concat(p,"-meta-title")},c):null,h=l?i.createElement("div",{className:"".concat(p,"-meta-description")},l):null,u=b||h?i.createElement("div",{className:"".concat(p,"-meta-detail")},b,h):null;return i.createElement("div",Object.assign({},d,{className:g}),m,u)},z=N;z.Grid=g,z.Meta=T;const P=z}}]);
//# sourceMappingURL=822.da039241.chunk.js.map