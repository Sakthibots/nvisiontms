"use strict";(self.webpackChunknvision_TMS=self.webpackChunknvision_TMS||[]).push([[5828],{79010:(e,l,t)=>{t.d(l,{r:()=>o});var i,n=t(72791);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a.apply(this,arguments)}function s(e,l){let{title:t,titleId:s,...o}=e;return n.createElement("svg",a({width:4,height:4,viewBox:"0 0 4 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l,"aria-labelledby":s},o),t?n.createElement("title",{id:s},t):null,i||(i=n.createElement("circle",{cx:2,cy:2,r:1.5,fill:"#131432",stroke:"#131432"})))}const o=n.forwardRef(s);t.p},2197:(e,l,t)=>{t.d(l,{Z:()=>g});var i,n,a=t(66106),s=t(30914),o=t(72791),d=t(28478),r=t(79010);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c.apply(this,arguments)}function u(e,l){let{title:t,titleId:a,...s}=e;return o.createElement("svg",c({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 5.3 7",style:{enableBackground:"new 0 0 5.3 7"},xmlSpace:"preserve",ref:l,"aria-labelledby":a},s),t?o.createElement("title",{id:a},t):null,i||(i=o.createElement("style",{type:"text/css"},"\n\t.st0{fill:#C5C5C5;}\n")),n||(n=o.createElement("polygon",{className:"st0",points:"5.3,3.5 0.4,0.6 0.3,6.4 "})))}const m=o.forwardRef(u);t.p;var h=t(80184);const g=e=>{let{size:l=10,dotIcon:t=!0,rightArrow:i=!0}=e;return(0,h.jsxs)(a.Z,{className:"horizontal-bar-container",align:"middle",children:[!0===t&&(0,h.jsx)(s.Z,{className:"icon-container lh-".concat(l),style:{height:l},children:(0,h.jsx)(d.Z,{Icon:r.r,color:"distanceColor",width:l,height:l})}),(0,h.jsx)(s.Z,{className:"flex-1",style:{height:1},children:(0,h.jsx)("div",{className:"line"})}),!0===i&&(0,h.jsx)(s.Z,{className:"icon-container lh-".concat(l),style:{height:l},children:(0,h.jsx)(d.Z,{Icon:m,color:"",width:l,height:l})})]})}},56119:(e,l,t)=>{t.d(l,{Z:()=>h});var i=t(48490),n=(t(72791),t(5045)),a=t(88858),s=t(47970),o=t(66106),d=t(30914),r=t(84446),c=t(80184);const u=e=>{let{data:l,accessors:t}=e;return(0,c.jsxs)(o.Z,{className:"custom-options-container",gutter:5,children:[(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:null===l||void 0===l?void 0:l.zip})}),(0,c.jsx)(d.Z,{className:"custom-label",children:(0,c.jsxs)(o.Z,{gutter:5,children:[(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:"-"})}),(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:null===l||void 0===l?void 0:l.city})}),(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:"-"})}),(0,c.jsx)(d.Z,{children:(0,c.jsx)(r.Z,{className:"f-14",children:null===l||void 0===l?void 0:l.state})})]})})]})};var m=t(68825);const h=e=>{let{placeholder:l=m.ZP.t("translation:default.fields.postalCode.selectPlaceholder"),label:t=m.ZP.t("translation:default.fields.postalCode.label"),rules:o=[],name:d,editMode:r,margin:h,singleLineMode:g,inverMode:x,onChange:f=(()=>{}),colon:v,form:p={},countryCode:j,className:y=""}=e;const Z=i.Z.useWatch(d,p);return(0,c.jsxs)("div",{className:"async-select-box",children:[(0,c.jsx)(a.Z,{className:y,placeholder:l,label:t,rules:o,editMode:r,margin:h,singleLineMode:g,inverMode:x,colon:v,asyncFetchMode:!0,asynchFuntion:n.H4,defaultParams:{PageSize:10,PageIndex:1,CountryCode:j},onChange:e=>{p.setFieldValue(d,null===e||void 0===e?void 0:e.zip),f(e)},value:Z,accessors:{label:"zip",value:"zip"},onClear:()=>p.setFieldsValue({[d]:void 0}),searchParamName:"PostalCode",CustomOptionsComponent:u}),(0,c.jsx)(s.Z,{name:d,rules:o})]})}},83111:(e,l,t)=>{t.d(l,{Z:()=>c});var i=t(48490),n=t(44322),a=(t(72791),t(95048)),s=t(5045),o=t(88858),d=t(68825),r=t(80184);const c=e=>{let{placeholder:l=d.ZP.t("translation:default.fields.serviceLevel.placeholder"),label:t=d.ZP.t("translation:default.fields.serviceLevel.label"),rules:c=[],name:u,form:m,onChange:h=!1,margin:g="mb-0",editMode:x=!0}=e;const{selectedCompany:f}=(0,a.v9)((e=>e.auth));i.Z.useWatch(u,m);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{editMode:x,placeholder:l,label:t,margin:g,rules:c,asyncFetchMode:!0,asynchFuntion:s.Vg,defaultParams:{CustomerKey:null===f||void 0===f?void 0:f.companyId,PageSize:10,PageNumber:1},onChange:e=>{m.setFieldsValue({[u]:null!==e&&void 0!==e&&e.serviceKey?null===e||void 0===e?void 0:e.serviceKey:void 0}),h&&h(e)},value:m.getFieldValue(u),accessors:{label:"serviceDesc",value:"serviceKey"},onClear:()=>m.setFieldsValue({[u]:void 0})}),(0,r.jsx)(i.Z.Item,{name:u,className:"d-none",children:(0,r.jsx)(n.Z,{})})]})}},15828:(e,l,t)=>{t.r(l),t.d(l,{default:()=>qe});var i=t(72791),n=t(95048),a=t(39230),s=t(16871),o=t(29128),d=(t(64802),t(35762)),r=t(48490),c=t(66106),u=t(30914),m=t(91082),h=t(93835),g=t(75450),x=t(99361),f=t(80182),v=t(72351),p=t(9835),j=t(10686),y=t(88858),Z=t(47970),C=t(28478),b=t(65081),N=t(20424),P=t(60914),F=t(89510),S=t(80184);const w=()=>{const[e]=r.Z.useForm(),l=(0,n.I0)(),{pathname:t}=(0,s.TH)(),o=(0,i.useMemo)((()=>(0,P.F)(t)),[t]),{t:d}=(0,a.$G)([o,"translation"]),m=r.Z.useWatch("OrderASC",e),h=r.Z.useWatch("OrderBy",e);return(0,i.useEffect)((()=>{m&&h&&(l((0,F.fp)()),l((0,F.Tr)({OrderByColumn:h,OrderBySort:m,PageSize:10,PageNo:1})))}),[m,h]),(0,S.jsxs)(r.Z,{className:"w-100",form:e,initialValues:{OrderBy:"CreatedOn",OrderASC:p.qQ.DESC},children:[(0,S.jsxs)(c.Z,{align:"middle",gutter:15,children:[(0,S.jsx)(u.Z,{sm:16,lg:16,children:(0,S.jsx)(y.Z,{options:p.Dy,className:"w-100",margin:"m-0",placeholder:d("translation:default.fields.sortBy.label"),name:"OrderBy",label:""})}),(0,S.jsx)(u.Z,{children:m&&(0,S.jsx)(j.Z,{onClick:()=>{return e.setFieldValue("OrderASC",(l=m)===p.qQ.ASC?p.qQ.DESC:l===p.qQ.DESC?p.qQ.ASC:void 0);var l},children:(0,S.jsx)(C.Z,{className:"mr-5",Icon:m===p.qQ.ASC?b.r:N.r,height:18,width:18})})})]}),(0,S.jsx)(Z.Z,{name:"OrderASC"})]})};var D=t(43504),T=t(99660),V=t(46130),M=t(48740),K=t(55936),G=t(9682),E=t(81160),R=t(37859),O=t.n(R),k=t(67766);let I=[".xls",".xlsx"];const z=function(){const[e]=r.Z.useForm(),[l,t]=(0,i.useState)(!1),o=r.Z.useWatch("file",e),[j,y]=(0,i.useState)(!1),{pathname:b}=(0,s.TH)(),N=(0,i.useMemo)((()=>(0,P.F)(b)),[b]),{t:R}=(0,a.$G)([N,"translation"]),{selectedRoutingGuides:z,routingGuideDetails:W}=(0,n.v9)((e=>e.routingGuide)),B=(0,n.v9)((e=>e.common.notificationAPI)),{user:{data:q},selectedCompany:U}=(0,n.v9)((e=>e.auth)),A=(0,n.I0)(),H=(0,i.useMemo)((()=>z.length<=0),[null===z||void 0===z?void 0:z.length]);return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(c.Z,{justify:"space-between",className:'py-15 px-14 align="middle',children:(0,S.jsx)(u.Z,{className:"flex-1",children:(0,S.jsxs)(c.Z,{align:"middle",gutter:20,children:[(0,S.jsx)(u.Z,{sm:12,children:(0,S.jsxs)("div",{className:"d-flex gap-1",children:[(0,S.jsx)(g.Z,{className:"m-0",checkBoxClass:"normal-checkbox",onChange:e=>{e&&(e.target.checked?A((0,F.g9)(W.data.map((e=>{let{routingGuideId:l}=e;return l})))):A((0,F.g9)([])))},checked:W.data.length>0&&W.data.length===z.length,label:(0,S.jsx)(h.Z,{className:"white-space-nowrap",children:R("translation:default.fields.selectAll")})}),(0,S.jsx)(w,{})]})}),(0,S.jsx)(u.Z,{sm:12,children:(0,S.jsxs)("div",{className:"d-flex justify-content-end gap-1 align-items-center",children:["VEND"!==(null===q||void 0===q?void 0:q.userType)&&(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(D.rU,{to:T.QY.ADD_ROUTING_GUIDE,children:(0,S.jsx)(V.Z,{children:R("Add Routing Guide")})}),(0,S.jsx)(m.Z,{placement:"topRight",title:R("translation:default.fields.deleteConfirm.title"),onConfirm:()=>{A((0,M.ef)(!0));const e=z.map((e=>({RoutingGuideId:e})));A((0,F.OQ)(e)),A((0,M.ef)(!1))},okText:R("translation:default.options.yes"),cancelText:R("translation:default.buttons.cancel"),overlayClassName:"",children:(0,S.jsx)(d.Z,{icon:(0,S.jsx)(C.Z,{Icon:x.r}),disabled:H,children:(0,S.jsx)("label",{className:"ml-5",children:R("translation:default.buttons.delete")})})}),(0,S.jsx)(d.Z,{icon:(0,S.jsx)(v.Z,{}),onClick:()=>{e.setFieldValue("file",""),y(!0)},children:(0,S.jsx)("label",{className:"ml-5",children:"Upload"})})]}),(0,S.jsx)(d.Z,{icon:(0,S.jsx)(f.r,{}),onClick:async()=>{if(z.length>0){const l={CustomerKey:null===U||void 0===U?void 0:U.companyId,RoutingKey:z.join(",")};try{A((0,M.ef)(!0));const{data:e}=await(0,K.hG)(l),t=document.createElement("a");t.download="RoutingGuide",t.href=null===e||void 0===e?void 0:e.fileURL,t.click(),A((0,M.ef)(!1))}catch(e){A((0,M.ef)(!1)),console.log(e)}}},disabled:H,children:(0,S.jsx)("label",{className:"ml-5",children:R("translation:default.buttons.export")})})]})})]})})}),(0,S.jsx)(G.Z,{className:"vw-30 h-30",open:j,title:"File Upload",okText:"Upload",cancelText:R("translation:default.buttons.cancel"),onCancel:()=>{y(!1)},onClose:()=>{y(!1)},onOk:()=>e.submit(),children:(0,S.jsx)(r.Z,{onFinish:e=>(async e=>{const t=new FormData;l&&t.append("files",l),A((0,M.ef)(!0));try{await(0,K.q2)(t),(0,k.Nh)(B,{type:p.GT.SUCCESS,title:"Routing Guide Upload Document Successfully."}),A((0,M.ef)(!1)),y(!1)}catch(i){let e=(0,k.vJ)(i);A((0,M.ef)(!1)),(0,k.Nh)(B,{type:p.GT.ERROR,title:e})}})(),form:e,initialValues:{},children:(0,S.jsx)("div",{className:"d-flex gap-1 align-items-center h-100 pt-30",children:(0,S.jsxs)(i.Fragment,{children:[(0,S.jsxs)(E.Z,{title:R("translation:default.fields.fileName"),textClass:"d-flex align-items-center gap-1",children:[(0,S.jsx)(O(),{className:"files-dropzone",onChange:l=>{try{l.length>0&&(t(l[0]),e.setFieldsValue({file:l[0].name}))}catch(i){console.log(i)}},onError:l=>{try{l&&e.setFields([{name:"file",errors:[l.message]}])}catch(l){console.log(l)}},accepts:I,multiple:!1,minFileSize:0,clickable:!0,children:(0,S.jsx)(V.Z,{className:"auction-btn w-100 border-radion-5 white-font",children:R("translation:default.documentManager.chooseFile")})}),(0,S.jsx)(Z.Z,{name:"file",rules:[{required:!0,message:R("translation:default.documentManager.chooseFileMessage")},()=>({validator(e,l){if(!l)return Promise.resolve();let t=l.match(/\.([^.]+)$/)[1];return t=".".concat(t),I.includes(t)?Promise.resolve():I.includes(t)?void 0:Promise.reject(new Error("".concat(R("translation:default.documentManager.only")," ").concat(I.join(",")," ").concat(R("translation:default.documentManager.filesAreAllowed")," ")))}})]})]}),(0,S.jsx)("label",{className:"f-14 fw-600",children:o})]})})})})]})};var W=t(24925),B=t(98580),q=t(44259),U=t(84123),A=t(46942),H=t(76546),$=t(83111),L=t(92679),Q=t(17446),Y=t(79795),J=t(96942),X=t(58);const ee=function(e){let{form:l}=e;const{user:{data:t},selectedCompany:o}=(0,n.v9)((e=>e.auth)),{pathname:d}=(r.Z.useWatch("shipmentDate",l),(0,s.TH)()),m=(0,i.useMemo)((()=>(0,P.F)(d)),[d]),{t:h}=(0,a.$G)([m,"translation"]);let g=r.Z.useWatch("customerKey",l);const x=(0,n.I0)();return(0,i.useEffect)((()=>{"VEND"==(null===t||void 0===t?void 0:t.userType)&&"undefined"!=typeof g&&""!=g&&(x((0,F._d)()),x((0,F.Tr)({customerKey:g,VendorKey:null===o||void 0===o?void 0:o.companyId,PageSize:10,PageNo:1})))}),[g]),(0,S.jsxs)(c.Z,{className:"pt-10",children:["VEND"===(null===t||void 0===t?void 0:t.userType)&&(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(J.Z,{name:"customerKey",form:l,setDetafuleValue:!0,rules:[{required:!0,message:h("translation:default.fields.customerName.placeholderEnter")}]})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(B.Z,{placeholder:h("translation:routingGuide.routingKey"),label:h("translation:routingGuide.routingKey"),editMode:!0,name:"RoutingKey"})}),(0,S.jsxs)(u.Z,{sm:24,children:["VEND"!==(null===t||void 0===t?void 0:t.userType)&&(0,S.jsx)(q.Z,{name:"BranchKey",label:h("translation:default.fields.branch.label"),placeholder:h("translation:default.fields.branch.placeholder"),customerId:null===o||void 0===o?void 0:o.companyId,margin:"mb-15",mode:"multiple",showAll:!0}),"VEND"===(null===t||void 0===t?void 0:t.userType)&&(0,S.jsx)(X.Z,{form:l,customerKey:g,label:h("translation:default.fields.branch.label"),placeholder:h("translation:default.fields.branch.placeholder"),name:"BranchKey",margin:"mb-15"})]}),"VEND"!==(null===t||void 0===t?void 0:t.userType)&&(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(U.Z,{name:"VendorKey"})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(Q.Z,{margin:"mb-15",label:h("translation:default.fields.shipmentType.label"),name:"shipmentType",editMode:!0})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(A.Z,{margin:"mb-15",name:"cargoType"})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(H.Z,{name:"CarrierKey",editMode:!0,form:l,margin:"mb-15",rules:[],onChange:e=>{}})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)($.Z,{label:h("translation:default.fields.serviceLevel.label"),placeholder:h("translation:default.fields.serviceLevel.placeholder"),form:l,margin:"mb-15",name:"ServiceKey"})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(y.Z,{name:"Hazmat",label:h("translation:routingGuide.hazmat.label"),placeholder:h("translation:routingGuide.hazmat.placeholder"),margin:"mb-15",className:"w-100",options:p.F1})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(L.Z,{label:h("translation:default.fields.shipmentDate"),placeholder:h("translation:default.fields.shipmentDate"),margin:"mb-15",name:"ShipmentDate",disableFuture:!0})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(B.Z,{name:"Weight",label:h("translation:default.fields.weight"),margin:"mb-15",editMode:!0,inputType:"number",placeholder:h("translation:default.fields.weight"),className:"w-100"})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(y.Z,{loading:!1,options:[{label:h("translation:tms-settings.fields.weightUnitMeasure.option_k"),value:"Kilogram"},{label:h("translation:tms-settings.fields.weightUnitMeasure.option_p"),value:"Pound"}],placeholder:h("translation:default.fields.selectWeightUOM"),label:h("translation:default.fields.weightUOM"),rules:[],name:"WeightUOM",editMode:!0,margin:"mb-15"})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(B.Z,{name:"pieces",label:h("translation:routingGuide.pieces.label"),margin:"mb-15",editMode:!0,inputType:"number",placeholder:h("translation:routingGuide.pieces.label"),className:"w-100"})}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(Y.Z,{placeholder:h("translation:routingGuide.piecesUOM.placeholder"),label:h("translation:routingGuide.piecesUOM.label"),name:"PiecesUOM",editMode:!0,margin:"mb-15"})})]})};var le=t(2083),te=t(99740),ie=t(38416),ne=(t(56119),t(85757)),ae=t(11864);const se=function(e){let{form:l}=e;const[t,n]=(0,i.useState)([]),{pathname:o}=(r.Z.useWatch("selectedCountry",l),r.Z.useWatch("state",l),(0,s.TH)()),d=(0,i.useMemo)((()=>(0,P.F)(o)),[o]),{t:m}=(0,a.$G)([d,"translation"]),h=r.Z.useWatch("OriginCountryCode",l),g=r.Z.useWatch("OriginStateCode",l);return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(c.Z,{className:"mt-15",children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(le.Z,{label:m("translation:default.fields.country.label"),name:"OriginCountryCode",editMode:!0,margin:"mb-15",onChange:()=>{l.setFieldsValue({cityName:[],portCode:[],postalCode:[],state:[]})}})})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(te.Z,{label:m("translation:default.fields.stateProvince.label"),name:"OriginStateCode",countryCode:h,editMode:!0,margin:"mb-15"})})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(ie.Z,{label:m("translation:default.fields.city.label"),name:"OriginCity",countryCode:h,stateCode:g,margin:"mb-15"})})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(ne.Z,{form:l,editMode:!0,margin:"mb-15",name:"OriginPostalFrom",label:m("translation:default.fields.postalCode.label"),countryCode:h,handleZipDetails:e=>{let{city:t,state:i,countryCode:n,zip:a}=e;l.setFieldsValue((0,k.Hk)({OriginCity:t,OriginStateCode:i,OriginCountryCode:n,OriginPostalFrom:a}))}})})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(ae.Z,{form:l,label:m("translation:rateShop.rateShop.port"),editMode:!0,margin:"mb-15",name:"OriginPortKey",countryCode:h,stateCode:g,handlePortDetails:e=>{let{portName:t}=e;l.setFieldsValue((0,k.Hk)({OriginPortKey:t}))}})})})]})};const oe=function(e){let{form:l}=e;const[t,n]=(0,i.useState)([]),{pathname:o}=(r.Z.useWatch("selectedCountry",l),r.Z.useWatch("state",l),(0,s.TH)()),d=(0,i.useMemo)((()=>(0,P.F)(o)),[o]),{t:m}=(0,a.$G)([d,"translation"]),h=r.Z.useWatch("DestinationCountryCode",l),g=r.Z.useWatch("DestinationStateCode",l);return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(c.Z,{className:"mt-15",children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(le.Z,{label:m("translation:default.fields.country.label"),name:"DestinationCountryCode",editMode:!0,margin:"mb-15",onChange:()=>{l.setFieldsValue({cityName:[],portCode:[],postalCode:[],state:[]})}})})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(te.Z,{label:m("translation:default.fields.stateProvince.label"),name:"DestinationStateCode",countryCode:h,editMode:!0,margin:"mb-15"})})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(ie.Z,{form:l,editMode:!0,label:m("translation:default.fields.city.label"),name:"DestinationCity",countryCode:h,stateCode:g,margin:"mb-15",handleCityDetails:e=>{let{city:t,state:i,countryCode:n,zip:a}=e;l.setFieldsValue((0,k.Hk)({DestinationCity:t,DestinationStateCode:i,DestinationCountryCode:n,DestinationPostalFrom:a}))}})})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(ne.Z,{form:l,editMode:!0,margin:"mb-15",name:"DestinationPostalFrom",label:m("translation:default.fields.postalCode.label"),countryCode:h,handleZipDetails:e=>{let{city:t,state:i,countryCode:n,zip:a}=e;l.setFieldsValue((0,k.Hk)({DestinationCity:t,DestinationStateCode:i,DestinationCountryCode:n,DestinationPostalFrom:a}))}})})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsx)(ae.Z,{label:m("translation:rateShop.rateShop.port"),editMode:!0,margin:"mb-15",name:"DestinationPortKey",countryCode:h,stateCode:g,handlePortDetails:e=>{let{portName:t}=e;l.setFieldsValue((0,k.Hk)({DestinationPortKey:t}))}})})})]})},{Panel:de}=W.default,re=e=>{let{form:l}=e;const[t,n]=(0,i.useState)("1"),{pathname:o}=(0,s.TH)(),d=(0,i.useMemo)((()=>(0,P.F)(o)),[o]),{t:r}=(0,a.$G)([d,"translation"]);return(0,S.jsxs)(W.default,{ghost:!0,className:"filter-collapse-container px-16",activeKey:t,onChange:e=>{e&&e[1]?n(e[1]):n("")},children:[(0,S.jsx)(de,{header:r("translation:routingGuide.generalSearch"),children:(0,S.jsx)(ee,{form:l})},"1"),(0,S.jsx)(de,{header:r("translation:routingGuide.searchByOrigin"),children:(0,S.jsx)(se,{form:l})},"2"),(0,S.jsx)(de,{header:r("translation:routingGuide.searchByDestination"),children:(0,S.jsx)(oe,{form:l})},"3")]})};t(62658);var ce=t(88073);const ue=function(){const[e]=r.Z.useForm(),{pathname:l}=(0,s.TH)(),t=(0,i.useMemo)((()=>(0,P.F)(l)),[l]),{t:o}=(0,a.$G)([t,"translation"]),d=(0,n.I0)(),{user:{data:m},selectedCompany:h}=(0,n.v9)((e=>e.auth));return(0,S.jsxs)("div",{className:"d-flex flex-direction-column overflow-hidden h-100 br-4",children:[(0,S.jsx)("div",{className:"custom-scroll-bar overflow-x-hidden mb-15 flex-1",children:(0,S.jsx)(r.Z,{onFinish:e=>{var l;for(const t in e)ce.Qt.includes(t)&&e[t]&&(e[t]=e[t].format(p.K_));d((0,F.fp)()),e.BranchKey=null===e||void 0===e||null===(l=e.BranchKey)||void 0===l?void 0:l.join(","),"VEND"===(null===m||void 0===m?void 0:m.userType)&&(e.VendorKey=null===h||void 0===h?void 0:h.companyId),d((0,F.Tr)({...e,PageSize:10,PageNo:1}))},form:e,initialValues:{Hazmat:!1},children:(0,S.jsx)(re,{form:e})})}),(0,S.jsxs)(c.Z,{className:"px-15",gutter:15,children:[(0,S.jsx)(u.Z,{sm:24,md:12,children:(0,S.jsx)(V.Z,{fullWidth:!0,type:"default",onClick:()=>e.resetFields(),buttonType:"button",children:o("translation:default.buttons.clear")})}),(0,S.jsx)(u.Z,{sm:24,md:12,children:(0,S.jsx)(V.Z,{fullWidth:!0,type:"primary",onClick:()=>e.submit(),buttonType:"submit",children:o("translation:default.buttons.search")})})]})]})};var me=t(14692),he=t(43769),ge=t(66319),xe=t(25786),fe=t(89862),ve=t(41583),pe=t(30822),je=t(75880),ye=(t(2197),t(84446)),Ze=t(10089),Ce=t(77128),be=t(15610),Ne=t(90165),Pe=t(5368),Fe=t(38111),Se=t(73054),we=t(79593),De=t(87375),Te=t(88318),Ve=t(89892);const Me=e=>{let{formInstance:l,routingGuideId:t}=e;const{user:{data:o},selectedCompany:d}=(0,n.v9)((e=>e.auth)),{data:m}=(0,n.v9)((e=>{var l;return null===e||void 0===e||null===(l=e.routingGuide)||void 0===l?void 0:l.routingGuideData})),g=(0,n.v9)((e=>e.common.notificationAPI)),{createRoutingGuide:x}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.routingGuide)),f=(0,n.I0)(),[v]=r.Z.useForm(),{pathname:j}=(0,s.TH)(),b=(0,i.useMemo)((()=>(0,P.F)(j)),[j]),{t:N}=(0,a.$G)([b,"translation"]);let w=r.Z.useWatch("originCountry",v);const D=r.Z.useWatch("originState",v),T=r.Z.useWatch("originCity",v),M=r.Z.useWatch("destinationCountry",v),K=r.Z.useWatch("destinationState",v),G=r.Z.useWatch("descPortType",v),E=r.Z.useWatch("originPortType",v),R=r.Z.useWatch("hazmat",v),[O,I]=(0,i.useState)(!1),z=r.Z.useWatch("destinationCity",v),[W,A]=(0,i.useState)([]),[H,$]=(0,i.useState)([]),[L,Y]=(0,i.useState)([]),[J,X]=(0,i.useState)([]),[ee,te]=(0,i.useState)([]),[ie,ne]=(0,i.useState)([]),[ae,se]=(0,i.useState)([]),[oe,de]=(0,i.useState)([]),[re,ce]=(0,i.useState)([]),[ue,me]=(0,i.useState)([]),[he,ge]=(0,i.useState)({branchKey:[],vendors:[],originCountry:[],destinationCountry:[]});(0,i.useEffect)((()=>{null!==x&&void 0!==x&&x.success&&(f((0,F.DC)()),I(!1),f((0,F.RD)({id:m.routingKey})))}),[x]),(0,i.useEffect)((()=>{if(ie.length>0){let e=ue.filter((e=>ie.includes(e.countryCode))),l=ae.filter((e=>ie.includes(e.countryCode)));v.setFieldValue("originState",e),v.setFieldValue("originCity",l),me(e),se(l)}else 0===ie.length&&(v.setFieldValue("originState",void 0),v.setFieldValue("originCity",void 0),v.setFieldValue("originPostalFrom",void 0),v.setFieldValue("originPostalTo",void 0),me([]),se([]))}),[ie]),(0,i.useEffect)((()=>{if(H.length>0){let e=W.filter((e=>H.includes(e.countryCode))),l=L.filter((e=>H.includes(e.countryCode)));v.setFieldValue("destinationState",e),v.setFieldValue("destinationCity",l),A(e),Y(l)}else 0===H.length&&(v.setFieldValue("destinationState",void 0),v.setFieldValue("destinationCity",void 0),v.setFieldValue("destinationPostalFrom",void 0),v.setFieldValue("destinationPostalTo",void 0),A([]),Y([]))}),[H]),(0,i.useEffect)((()=>{if(m&&Object.keys(m).length>0){var e,l,t,i,n,a,s,o,d,r,c,u;let h=null===m||void 0===m?void 0:m.originCountry.filter((e=>null===e||void 0===e?void 0:e.countryCode)).map((e=>null===e||void 0===e?void 0:e.countryCode)),g=null===m||void 0===m?void 0:m.originState.map((e=>({...e,label:e.stateName,value:e.stateCode}))),x=null===m||void 0===m?void 0:m.originCity.map((e=>({...e,label:e.city,value:e.city}))),f=null===m||void 0===m?void 0:m.originPostalFrom.map((e=>({...e,label:e.zipCode.trim(),value:e.zipCode.trim(),country:e.countryCode,zip:e.zipCode.trim()}))),p=null===m||void 0===m?void 0:m.originPostalTo.map((e=>({...e,label:e.zipCode.trim(),value:e.zipCode.trim(),country:e.countryCode,zip:e.zipCode.trim()}))),j=null===m||void 0===m?void 0:m.destinationCountry.filter((e=>null===e||void 0===e?void 0:e.countryCode)).map((e=>null===e||void 0===e?void 0:e.countryCode)),y=null===m||void 0===m?void 0:m.destinationState.map((e=>({...e,label:e.stateName,value:e.stateCode}))),Z=null===m||void 0===m?void 0:m.destinationCity.map((e=>({...e,label:e.city,value:e.city}))),C=null===m||void 0===m?void 0:m.destinationPostalFrom.map((e=>({...e,label:e.zipCode.trim(),value:e.zipCode.trim(),country:e.countryCode,zip:e.zipCode.trim()}))),b=null===m||void 0===m?void 0:m.destinationPostalTo.map((e=>({...e,label:e.zipCode.trim(),value:e.zipCode.trim(),country:e.countryCode,zip:e.zipCode.trim()}))),N=null===m||void 0===m?void 0:m.branchKey.map((e=>({...e,label:e.value,value:e.key}))),P=null===m||void 0===m?void 0:m.vendors.map((e=>({...e,label:e.value,value:e.key})));v.setFieldsValue({...m,originCountry:h,originState:g,originCity:x,originPostalFrom:f,originPostalTo:p,destinationCountry:j,destinationState:y,destinationCity:Z,destinationPostalFrom:C,destinationPostalTo:b,branchKey:N,vendors:P,originPortType:(null===m||void 0===m||null===(e=m.originPortCode)||void 0===e||null===(l=e[0])||void 0===l?void 0:l.portType)||"",descPortType:(null===m||void 0===m||null===(t=m.destinationPortCode)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.portType)||"",destinationPortCode:{value:(null===m||void 0===m||null===(n=m.destinationPortCode)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.portRecKey).toString()||"",label:(null===m||void 0===m||null===(s=m.destinationPortCode)||void 0===s||null===(o=s[0])||void 0===o?void 0:o.portCode)||""},originPortCode:{value:(null===m||void 0===m||null===(d=m.originPortCode)||void 0===d||null===(r=d[0])||void 0===r?void 0:r.portRecKey).toString()||"",label:(null===m||void 0===m||null===(c=m.originPortCode)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.portCode)||""}}),ge((e=>({...e,branchKey:N,vendors:P,originCountry:null===m||void 0===m?void 0:m.originCountry.map((e=>({...e,label:e.value}))),destinationCountry:null===m||void 0===m?void 0:m.destinationCountry.map((e=>({...e,label:e.value})))}))),ne(h),me(g),se(x),de(f),ce(p),$(j),A(y),Y(Z),X(C),te(b),I(!1)}}),[m]);return(0,S.jsx)(r.Z,{form:v,onFinish:e=>{var l,t,i,n,a,s,o,d,r,c;let u=_.cloneDeep(e);if(u.originPostalFrom.length!=u.originPostalTo.length||u.destinationPostalFrom.length!=u.destinationPostalTo.length)return(0,k.Nh)(g,{type:p.GT.ERROR,title:"Origin PostalFrom and ProstalTo must be equal number of records."}),!1;u.vendors=u.vendors.map((e=>e.value+"")),u.branchKey=u.branchKey.map((e=>e.value+""));let h=[];null===u||void 0===u||null===(l=u.originCountry)||void 0===l||l.forEach((e=>{h.push({routingKey:(null===e||void 0===e?void 0:e.routingKey)||0,countryCode:e,routingCountryKey:(null===e||void 0===e?void 0:e.routingCountryKey)||0})})),u.originCountry=h,u.originPortType=E,u.descPortType=G,null===u||void 0===u||null===(t=u.originState)||void 0===t||t.forEach((e=>{e.stateCode=e.value})),null===u||void 0===u||null===(i=u.originCity)||void 0===i||i.forEach((e=>{e.routingCityKey=e.routingCityKey?e.routingCityKey:0,e.routingKey=e.routingKey?e.routingKey:0,e.city=e.value}));let x=[];null===u||void 0===u||null===(n=u.destinationCountry)||void 0===n||n.forEach((e=>{x.push({routingKey:0,countryCode:e,routingCountryKey:0})})),u.destinationCountry=x,null===u||void 0===u||null===(a=u.destinationState)||void 0===a||a.forEach((e=>{e.stateCode=e.value})),null===u||void 0===u||null===(s=u.destinationCity)||void 0===s||s.forEach((e=>{e.routingCityKey=0,e.routingKey=0,e.city=e.value})),null===u||void 0===u||null===(o=u.originPostalFrom)||void 0===o||o.forEach((e=>{e.routingKey=0,e.routingZipKey=0,e.zipCode=e.zip,e.countryCode=e.country})),null===u||void 0===u||null===(d=u.originPostalTo)||void 0===d||d.forEach((e=>{e.routingKey=0,e.routingZipKey=0,e.zipCode=e.zip,e.countryCode=e.country})),null===u||void 0===u||null===(r=u.destinationPostalFrom)||void 0===r||r.forEach((e=>{e.routingKey=0,e.routingZipKey=0,e.zipCode=e.zip,e.countryCode=e.country})),null===u||void 0===u||null===(c=u.destinationPostalTo)||void 0===c||c.forEach((e=>{e.routingKey=0,e.routingZipKey=0,e.zipCode=e.zip,e.countryCode=e.country})),u.routingKey=m.routingKey,u.destinationPortCode&&""!=u.destinationPortCode&&(u.destinationPortCode=[{routingKey:0,portRecKey:u.destinationPortCodeVal.value,portName:u.destinationPortCodeVal.label}]),u.originPortCode&&""!=u.originPortCode&&(u.originPortCode=[{routingKey:0,portRecKey:u.originPortCodeVal.value,portName:u.originPortCodeVal.label}]),u.routingDetail=m.routingDetail,f((0,F.Ie)(u))},children:(0,S.jsxs)("div",{className:"vw-75 pt-15",children:[(0,S.jsxs)(c.Z,{className:"px-30 w-100",justify:"space-between",gutter:16,align:"middle",children:[(0,S.jsx)(u.Z,{sm:12,children:(0,S.jsx)(je.Z,{className:"fw-700 f-18",children:"Routing Guide Entry"})}),"VEND"!==(null===o||void 0===o?void 0:o.userType)&&(0,S.jsxs)(u.Z,{sm:12,className:"p-0 d-flex justify-content-end",children:[!1===O&&(0,S.jsx)(V.Z,{onClick:()=>I(!0),children:"Edit"}),!0===O&&(0,S.jsx)(Fe.Z,{onCancel:()=>I(!1)})]})]}),(0,S.jsx)(Ce.Z,{className:"my-16 vw-100 ml-n30"}),(0,S.jsxs)(c.Z,{className:"pl-30 pr-30",gutter:30,children:[(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:"Routing Guide",children:(0,S.jsxs)(je.Z,{normal:!0,children:[" ",null===m||void 0===m?void 0:m.routingName]})})}),(0,S.jsxs)(u.Z,{sm:6,children:[O&&(0,S.jsx)(q.Z,{labelWithValue:!0,name:"branchKey",label:N("translation:default.fields.branch.label"),placeholder:N("translation:default.fields.branch.placeholder"),customerId:null===d||void 0===d?void 0:d.companyId,margin:"mb-15",rules:[{required:!0,message:"Please select branch"}],mode:"multiple",editMode:O,showAll:!0,onChange:e=>{v.setFieldValue("branchKey",e),ge((l=>({...l,branchKey:e})))}}),!O&&(0,S.jsxs)("div",{children:[(0,S.jsxs)(h.Z,{className:"fw-700",children:[N("translation:default.fields.branch.label"),(0,S.jsx)("span",{className:"required date-label",children:"*"})]}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600 ",children:he.branchKey.map((e=>e.label)).join(", ")})]})]}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(Q.Z,{margin:"mb-15",label:N("translation:default.fields.shipmentType.label"),name:"shipmentType",editMode:O,rules:[{required:!0,message:N("translation:default.fields.shipmentType.message")}]})}),(0,S.jsx)(u.Z,{sm:6,className:"d-flex",children:(0,S.jsx)(c.Z,{children:(0,S.jsxs)(u.Z,{className:"d-flex pt-5",style:{flexDirection:"column"},children:[(0,S.jsx)(h.Z,{className:"pb-5",children:"Hazmat"}),(0,S.jsx)(Ne.Z,{checkedChildren:"On",unCheckedChildren:"Off",checked:R,disabled:!O,onClick:()=>v.setFieldValue("hazmat",!R)}),(0,S.jsx)(Z.Z,{name:"hazmat"})]})})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(B.Z,{inputType:"text",editMode:O,label:"Routing Name",name:"routingName",rules:[{required:!0,message:"Please enter routing name"}],margin:"m-0",placeholder:"Routing Name",maxLength:80})}),(0,S.jsxs)(u.Z,{sm:6,children:[O&&(0,S.jsx)(U.Z,{placeholder:"Vendors",name:"vendors",label:"Vendor Name",margin:"m-0",mode:"multiple",editMode:O,onChange:e=>{v.setFieldValue("vendors",e),ge((l=>({...l,vendors:e})))},labelWithValue:!0}),!O&&(0,S.jsxs)("div",{children:[(0,S.jsx)(h.Z,{children:"Vendor Name"}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600 ",children:he.vendors.map((e=>e.label)).join(", ")})]})]}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(y.Z,{label:"Inclusive/Exclusive",className:"w-100",margin:"m-0",editMode:O,rules:[{required:!0,message:"Please select Inclusive/Exclusive  "}],placeholder:"Inclusive/Exclusive",name:"routingType",options:p.aS})})]}),(0,S.jsx)(Ce.Z,{className:"my-16 w-100",dashed:!0}),(0,S.jsxs)(c.Z,{className:"pl-30 pr-30",gutter:30,children:[(0,S.jsxs)(u.Z,{sm:12,className:"d-flex w-100 gap-1 align-items-center",children:[(0,S.jsx)(C.Z,{Icon:be.r,color:"success"}),"".concat(N("translation:default.fields.origin")),(0,S.jsx)("hr",{className:"w-83 border-top-success"})]}),(0,S.jsxs)(u.Z,{sm:12,className:"d-flex w-100 gap-1 align-items-center",children:[(0,S.jsx)(C.Z,{Icon:be.r,color:"danger"}),(0,S.jsx)(ye.Z,{className:"f-14 text-danger",children:"".concat(N("translation:default.fields.destination"))}),(0,S.jsx)("hr",{className:"w-75 border-top-danger"})]})]}),(0,S.jsxs)(c.Z,{className:"pl-30 pr-30 pt-15",gutter:30,children:[(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsxs)(c.Z,{gutter:30,children:[(0,S.jsxs)(u.Z,{sm:24,children:[O&&(0,S.jsx)(le.Z,{labelWithValue:!0,isRemoved:!0,editMode:O,label:"".concat(N("translation:default.fields.country.label")),name:"originCountry",rules:[{required:!0,message:"Please enter country "}],mode:"multiple",onChange:e=>{ge((l=>({...l,originCountry:e}))),ne(e.map((e=>e.value)))}}),!O&&(0,S.jsxs)("div",{children:[(0,S.jsxs)(h.Z,{className:"fw-700",children:["".concat(N("translation:default.fields.country.label")),(0,S.jsx)("span",{className:"required date-label",children:"*"})]}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600 ",children:he.originCountry.map((e=>e.label)).join(", ")})]})]}),(0,S.jsxs)(u.Z,{sm:24,children:[O&&(0,S.jsx)(we.Z,{editMode:O,label:"".concat(N("translation:default.fields.state.label")),placeholder:N("translation:default.fields.state.label"),margin:"mb-10",mode:"multiple",name:"originState",handleStateDetails:e=>{v.setFieldValue("originState",[...ue,...e]),me([...ue,...e])},countryCode:w,updateStateValue:e=>{let l=_.cloneDeep(ue).filter((l=>e.includes(l.value)));me(l),v.setFieldValue("originState",l);let t=[];l.forEach((e=>{let l=ae.filter((l=>l.countryCode===e.countryCode&&l.stateCode===e.value));t=[...t,...l]})),se(t),v.setFieldValue("originCity",t)}}),!O&&(0,S.jsxs)("div",{className:"mt-15",children:[(0,S.jsx)(h.Z,{children:N("translation:default.fields.state.label")}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600 ",children:ue.map((e=>e.label)).join(", ")})]})]}),(0,S.jsxs)(u.Z,{sm:24,children:[O&&(0,S.jsx)(De.Z,{editMode:O,label:"".concat(N("translation:default.fields.city.label")),placeholder:N("translation:default.fields.city.label"),margin:"mb-15",mode:"multiple",name:"originCity",handleStateDetails:e=>{v.setFieldValue("originCity",[...ae,...e]),se([...ae,...e])},updateStateValue:e=>{let l=_.cloneDeep(ae).filter((l=>e.includes(l.value)));v.setFieldValue("originCity",l),se(l)},countryCode:w,stateCode:D}),!O&&(0,S.jsxs)("div",{className:"mt-15",children:[(0,S.jsx)(h.Z,{children:N("translation:default.fields.city.label")}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600",children:ae.map((e=>e.label)).join(", ")})]})]})]})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsxs)(c.Z,{gutter:30,children:[(0,S.jsxs)(u.Z,{sm:24,className:"mb-16",children:[O&&(0,S.jsx)(Te.Z,{editMode:O,label:"Postal From",placeholder:N("translation:default.fields.postalCode.label"),margin:"mb-0",name:"originPostalFrom",mode:"multiple",handleSelectedDetails:e=>{v.setFieldValue("originPostalFrom",[...oe,e]),de([...oe,e])},updateStateValue:e=>{let l=_.cloneDeep(oe).filter((l=>e.includes(l.value)));de(l)},countryCode:w,stateCode:D,cityCode:T}),!O&&(0,S.jsxs)("div",{children:[(0,S.jsx)(h.Z,{children:"Postal From"}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600",children:oe.map((e=>e.label)).join(", ")})]})]}),(0,S.jsxs)(u.Z,{sm:24,className:"mb-16",children:[O&&(0,S.jsx)(Te.Z,{editMode:O,label:"Postal To",placeholder:N("translation:default.fields.postalCode.label"),margin:"mb-0",name:"originPostalTo",mode:"multiple",handleSelectedDetails:e=>{v.setFieldValue("originPostalTo",[...re,e]),ce([...re,e])},updateStateValue:e=>{let l=_.cloneDeep(re).filter((l=>e.includes(l.value)));ce(l)},countryCode:w,stateCode:D,cityCode:T}),!O&&(0,S.jsxs)("div",{children:[(0,S.jsx)(h.Z,{children:"Postal To"}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600",children:re.map((e=>e.label)).join(", ")})]})]}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsxs)(c.Z,{gutter:12,children:[(0,S.jsx)(u.Z,{sm:12,children:(0,S.jsx)(Se.Z,{name:"originPortType",margin:"m-0",editMode:O})}),(0,S.jsxs)(u.Z,{sm:12,children:[(0,S.jsx)(Pe.Z,{name:"originPortCode",label:N("translation:default.fields.portCode.label"),editMode:O,handleValueRender:e=>null===e||void 0===e?void 0:e.value,countryCode:w,portType:E,handleChange:e=>v.setFieldValue("originPortCodeVal",e)}),(0,S.jsx)(Z.Z,{name:"originPortCodeVal"})]})]})})]})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsxs)(c.Z,{gutter:30,children:[(0,S.jsxs)(u.Z,{sm:24,children:[O&&(0,S.jsx)(le.Z,{labelWithValue:!0,isRemoved:!0,editMode:O,label:"".concat(N("translation:default.fields.country.label")),name:"destinationCountry",rules:[{required:!0,message:"Please enter country "}],mode:"multiple",onChange:e=>{ge((l=>({...l,destinationCountry:e}))),$(e.map((e=>e.value)))}}),!O&&(0,S.jsxs)("div",{children:[(0,S.jsxs)(h.Z,{className:"fw-700",children:[N("translation:default.fields.country.label"),(0,S.jsx)("span",{className:"required date-label",children:"*"})]}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600",children:he.destinationCountry.map((e=>e.label)).join(", ")})]})]}),(0,S.jsxs)(u.Z,{sm:24,children:[O&&(0,S.jsx)(we.Z,{editMode:O,label:"".concat(N("translation:default.fields.state.label")),placeholder:N("translation:default.fields.state.label"),margin:"mb-10",mode:"multiple",name:"destinationState",handleStateDetails:e=>{v.setFieldValue("destinationState",[...W,...e]),A([...W,...e])},countryCode:M,updateStateValue:e=>{let l=_.cloneDeep(W).filter((l=>e.includes(l.value)));A(l),v.setFieldValue("destinationState",l);let t=[];l.forEach((e=>{let l=L.filter((l=>l.countryCode===e.countryCode&&l.stateCode===e.value));t=[...t,...l]})),Y(t),v.setFieldValue("destinationCity",t)}}),!O&&(0,S.jsxs)("div",{className:"mt-15",children:[(0,S.jsx)(h.Z,{children:N("translation:default.fields.state.label")}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600",children:W.map((e=>e.label)).join(", ")})]})]}),(0,S.jsxs)(u.Z,{sm:24,children:[O&&(0,S.jsx)(De.Z,{editMode:O,label:"".concat(N("translation:default.fields.city.label")),placeholder:N("translation:default.fields.city.label"),margin:"mb-15",mode:"multiple",name:"destinationCity",handleStateDetails:e=>{v.setFieldValue("destinationCity",[...L,...e]),Y([...L,...e])},updateStateValue:e=>{let l=_.cloneDeep(L).filter((l=>e.includes(l.value)));Y(l),v.setFieldValue("destinationCity",l)},countryCode:M,stateCode:K}),!O&&(0,S.jsxs)("div",{className:"mt-15",children:[(0,S.jsx)(h.Z,{children:N("translation:default.fields.city.label")}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600",children:L.map((e=>e.label)).join(", ")})]})]})]})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsxs)(c.Z,{gutter:30,children:[(0,S.jsxs)(u.Z,{sm:24,className:"mb-16",children:[O&&(0,S.jsx)(Te.Z,{editMode:O,label:"Postal From",placeholder:N("translation:default.fields.postalCode.label"),margin:"mb-0",name:"destinationPostalFrom",mode:"multiple",handleSelectedDetails:e=>{v.setFieldValue("destinationPostalFrom",[...J,e]),X([...J,e])},updateStateValue:e=>{let l=_.cloneDeep(J).filter((l=>e.includes(l.value)));X(l)},countryCode:M,stateCode:K,cityCode:z}),!O&&(0,S.jsxs)("div",{children:[(0,S.jsx)(h.Z,{children:"Postal From"}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600",children:J.map((e=>e.label)).join(", ")})]})]}),(0,S.jsxs)(u.Z,{sm:24,className:"mb-16",children:[O&&(0,S.jsx)(Te.Z,{editMode:O,label:"Postal To",placeholder:N("translation:default.fields.postalCode.label"),margin:"mb-0",name:"destinationPostalTo",mode:"multiple",handleSelectedDetails:e=>{v.setFieldValue("destinationPostalTo",[...ee,e]),te([...ee,e])},updateStateValue:e=>{let l=_.cloneDeep(ee).filter((l=>e.includes(l.value)));te(l)},countryCode:M,stateCode:K,cityCode:z}),!O&&(0,S.jsxs)("div",{children:[(0,S.jsx)(h.Z,{children:"Postal To"}),(0,S.jsx)("br",{}),(0,S.jsx)(Ve.Z,{className:"f-14 fw-600",children:ee.map((e=>e.label)).join(", ")})]})]}),(0,S.jsx)(u.Z,{sm:24,children:(0,S.jsxs)(c.Z,{gutter:12,children:[(0,S.jsx)(u.Z,{sm:12,children:(0,S.jsx)(Se.Z,{name:"descPortType",margin:"m-0",editMode:O})}),(0,S.jsxs)(u.Z,{sm:12,children:[(0,S.jsx)(Pe.Z,{name:"destinationPortCode",label:N("translation:default.fields.portCode.label"),editMode:O,handleValueRender:e=>null===e||void 0===e?void 0:e.value,countryCode:M,portType:G,handleChange:e=>v.setFieldValue("destinationPortCodeVal",e)}),(0,S.jsx)(Z.Z,{name:"destinationPortCodeVal"})]})]})})]})})]})]})})};var Ke=t(85781),Ge=t(15243),Ee=t(763),Re=t.n(Ee);const Oe=function(e){let{routingKey:l=0}=e;const[t,a]=(0,i.useState)(0),[s,o]=(0,i.useState)([]),{routingGuideData:d}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.routingGuide)),{updateRoutingGuideTransport:r}=(0,n.v9)((e=>null===e||void 0===e?void 0:e.routingGuide)),m=(0,n.I0)(),{user:{data:h}}=(0,n.v9)((e=>e.auth)),g=(0,n.v9)((e=>e.common.notificationAPI));(0,i.useEffect)((()=>{if(!0===r.success){const e=(0,Ee.cloneDeep)(s);e[t]={...e[t],editMode:!1},o(e)}}),[r]),(0,i.useEffect)((()=>{var e;null!==d&&void 0!==d&&null!==(e=d.data)&&void 0!==e&&e.routingDetail&&(m((0,M.ef)(!0)),setTimeout((()=>{var e;const l=Re().cloneDeep(null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.routingDetail);l.forEach((e=>{e.editMode=!1,e.isNew=!1})),o(l),m((0,M.ef)(!1))}),300))}),[d]);const x=(e,l)=>{const t=[...s];t[l]={...t[l],...e},a(l),o(t)},f=(0,i.useMemo)((()=>s.map((e=>{let{editMode:l}=e;return Boolean(l)})).includes(!0)),[s]),v=async(e,t)=>{const i=[...s];i[t]={...i[t],...e},m((0,M.ef)(!0));try{const e=await(0,K.RQ)({routingDetail:[i[t]]});if(200===(null===e||void 0===e?void 0:e.status)){(0,k.Nh)(g,{type:p.GT.SUCCESS,title:"Successfully Updated"});try{var n;let e=await(0,K.dT)({id:l}),s=(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.routingDetail)||[];if(i[t].isNew){let e=0===(a=s).length?null:a.reduce(((e,l)=>l.routingDetailKey>e.routingDetailKey?l:e),a[0]);i[t]={...e,editMode:!1},o(i)}else{let e=s.find((e=>e.routingDetailKey===i[t].routingDetailKey));i[t]={...e,editMode:!1},o(i)}m((0,M.ef)(!1))}catch(d){m((0,M.ef)(!1))}}else(0,k.Nh)(g,{type:p.GT.ERROR,title:"Data is not saved."}),m((0,M.ef)(!1))}catch(d){m((0,M.ef)(!1))}var a},j=async(e,l)=>{let t=[...s];if(l)t.splice(e,1),o(t);else{var i;let l=(null===t||void 0===t||null===(i=t[e])||void 0===i?void 0:i.routingDetailKey)||!1;if(l){m((0,M.ef)(!0));try{let i=await(0,K.zr)({RoutingDetailsKey:l});var n;if(200===(null===i||void 0===i?void 0:i.status))(0,k.Nh)(g,{type:p.GT.SUCCESS,title:null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.successMessage}),t.splice(e,1),o(t)}catch(a){(0,k.Nh)(g,{type:p.GT.ERROR,title:"Record not deleted"})}m((0,M.ef)(!1))}}};return(0,S.jsxs)(i.Fragment,{children:[(0,S.jsxs)(c.Z,{className:"px-30 w-100 pt-15",justify:"space-between",gutter:16,align:"middle",children:[(0,S.jsx)(u.Z,{sm:12,children:(0,S.jsx)(je.Z,{className:"fw-700 f-18",children:"Transportation Details"})}),(0,S.jsx)(u.Z,{children:"VEND"!==(null===h||void 0===h?void 0:h.userType)&&(0,S.jsx)(V.Z,{onClick:()=>{o([{editMode:!0,isNew:!0,SequenceKey:0,routingKey:l,status:!1,cubeBreakFrom:null,cubeBreakTo:null,weightBreakFrom:null,weightBreakTo:null,piecesBreakFrom:null,piecesBreakTo:null,effectiveDateFrom:void 0,effectiveDateTo:void 0,autoTender:null},...s])},disabled:f,children:"Add New Record"})})]}),(0,S.jsx)(Ce.Z,{className:"my-16 vw-100 ml-n30"}),(0,S.jsx)(c.Z,{className:"h-87 overflow-y-inherit mt-15",children:(0,S.jsx)(u.Z,{sm:24,className:"h-100 pb-15 overflow-y-inherit d-flex flex-direction-column pl-30 pr-30",children:(0,S.jsx)("div",{className:"h-100 overflow-y-inherit d-flex flex-direction-column",children:(0,S.jsx)("div",{className:"d-flex flex-direction-column overflow-hidden h-100 br-4",children:(0,S.jsx)("div",{className:"custom-scroll-bar overflow-x-hidden mb-15 flex-1",children:s&&s.length>0&&(null===s||void 0===s?void 0:s.map(((e,l)=>(0,S.jsx)("div",{className:"pb-15",children:(0,S.jsx)(Ge.Z,{index:l,data:e,handleDataChange:x,handleSave:v,handleRemove:j},l)},l))))})})})})})]})};var ke=t(14626);const Ie=function(e){let{handleDelete:l=(()=>{}),isSelected:t,handleRoutingGuidesClick:o,data:d,onSelect:r=(()=>{}),onClickContent:m=(()=>{})}=e;const{pathname:h}=(0,s.TH)(),{selectedCompany:g}=(0,n.v9)((e=>e.auth)),x=(0,i.useMemo)((()=>(0,P.F)(h)),[h]),{t:f}=(0,a.$G)([x,"translation"]),[v,p]=(0,i.useState)(!1),y=(0,n.I0)();return(0,S.jsx)(ge.Z,{className:"shipment-card border-muted",children:(0,S.jsxs)("div",{onClick:e=>{e.stopPropagation(),m(e,d.routingGuideId)},children:[(0,S.jsx)(c.Z,{className:"px-15 py-14",gutter:15,children:(0,S.jsx)(u.Z,{children:(0,S.jsxs)("div",{className:"text-center d-flex gap-half",children:[(0,S.jsx)(fe.Z,{onClick:e=>{e.stopPropagation(),r(null===d||void 0===d?void 0:d.routingGuideId,t)},checked:t,className:"normal-checkbox"}),(0,S.jsx)("div",{children:(0,S.jsxs)("span",{children:["Routing Guide ID : ",d.routingGuideId]})})]})})}),(0,S.jsxs)(c.Z,{className:"mb-15 px-15",gutter:15,children:[(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:f("translation:routingGuide.routingName"),children:(0,S.jsx)(je.Z,{normal:!0,children:d.routingName})})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:f("translation:default.fields.shipmentType.label"),children:(0,S.jsx)(je.Z,{normal:!0,children:d.shipmentType})})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:f("translation:routingGuide.createdBy"),children:(0,S.jsx)(je.Z,{normal:!0,children:d.createdByName})})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:f("translation:default.fields.modifiedBy"),children:(0,S.jsx)(je.Z,{normal:!0,children:d.modifiedByName})})})]}),(0,S.jsxs)(c.Z,{className:"mb-15 px-15",gutter:15,children:[(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:f("translation:default.fields.branch.label"),children:(0,S.jsx)(je.Z,{normal:!0,children:d.branchDesc})})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:f("translation:default.fields.vendorName.label"),children:(0,S.jsx)(je.Z,{normal:!0,children:d.vendorName})})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:f("translation:default.fields.createdOn.title"),children:(0,S.jsx)(je.Z,{normal:!0,children:"".concat((0,ke.GW)(null===d||void 0===d?void 0:d.createdOn,"MM/DD/YYYY hh:mm:ss"))})})}),(0,S.jsx)(u.Z,{sm:6,children:(0,S.jsx)(pe.Z,{title:f("translation:default.fields.modifiedOn"),children:(0,S.jsx)(je.Z,{normal:!0,children:"".concat((0,ke.GW)(null===d||void 0===d?void 0:d.modifiedOn,"MM/DD/YYYY hh:mm:ss"))})})})]}),(0,S.jsx)("div",{className:"more-button-container",children:(0,S.jsx)(ve.Z,{overlay:(0,S.jsx)(xe.Z,{items:[{key:"1",label:(0,S.jsx)("a",{onClick:e=>(async e=>{e.stopPropagation();const l={CustomerKey:null===g||void 0===g?void 0:g.companyId,RoutingKey:null===d||void 0===d?void 0:d.routingGuideId};try{y((0,M.ef)(!0));const{data:e}=await(0,K.hG)(l),t=document.createElement("a");t.download="RoutingGuide",t.href=null===e||void 0===e?void 0:e.fileURL,t.click(),y((0,M.ef)(!1))}catch(t){y((0,M.ef)(!1)),console.log(t)}})(e),children:f("translation:default.buttons.export")})}]}),placement:"bottomRight",children:(0,S.jsx)(V.Z,{ghost:!0,className:"bg-none border-none w-0 p-0 ",size:"small",shape:"circle",type:"ghost",children:(0,S.jsx)(j.Z,{className:"py-4 px-10",children:(0,S.jsx)(Ze.r,{})})})})})]})})};var ze=t(32311),We=t(56521);const Be=function(){var e,l,t,o,d,m;const[h,g]=(0,i.useState)(""),[x,f]=(0,i.useState)(!1),{pathname:v}=(0,s.TH)(),p=(0,i.useMemo)((()=>(0,P.F)(v)),[v]),{t:j}=(0,a.$G)([p,"translation"]),y=(0,n.I0)(),{routingGuideDetails:Z,selectedRoutingGuides:C}=(0,n.v9)((e=>e.routingGuide)),[b]=r.Z.useForm(),{user:{data:N},selectedCompany:w}=(0,n.v9)((e=>e.auth));(0,i.useEffect)((()=>{"VEND"!==(null===N||void 0===N?void 0:N.userType)&&(y((0,F._d)()),y((0,F.Tr)()))}),[]),(0,i.useEffect)((()=>{h&&(y((0,F.Gl)()),y((0,M.ef)(!0)),y((0,F.RD)({id:h})))}),[h]);const D=e=>{routingguidesSidebarVisible||y(setFilterToggle(!1)),y(getRoutingGuidesDetailsInProgress(e)),y(setRoutingGuidesModal(!0))},T=e=>{y((0,M.ef)(!0)),y(deleteRoutingGuidesInProgress([{RoutingGuideId:e}]))},V=(e,l)=>{let t=[...C];if(l){let l=t.indexOf(e);t.splice(l,1)}else t.push(e);y((0,F.g9)(t))};return(0,S.jsxs)(S.Fragment,{children:[!0===Z.progressing&&0===(null===Z||void 0===Z||null===(e=Z.data)||void 0===e?void 0:e.length)&&(0,S.jsx)(me.Z,{className:"d-flex justify-content-center align-items-center h-100",size:"large",tip:j("translation:default.loading"),spinning:Z.progressing}),!Z.progressing&&!(null!==Z&&void 0!==Z&&null!==(l=Z.data)&&void 0!==l&&l.length)&&(0,S.jsx)(We.Z,{}),(null===Z||void 0===Z||null===(t=Z.data)||void 0===t?void 0:t.length)&&(0,S.jsxs)(i.Fragment,{children:[(0,S.jsx)(he.Z,{visible:x,onClose:()=>{f(!1),y((0,F.fp)()),y((0,F.Tr)()),g("")},headerContents:(0,S.jsxs)("h2",{className:"header-text m-0",children:["Routing Guide Id"," : ",h," "]}),width:"75%",children:(0,S.jsx)("div",{className:"d-flex  h-100",style:{flexDirection:"column"},children:(0,S.jsx)(Ke.Z,{contents:[{title:"Routing Guide Entry",content:(0,S.jsx)(Me,{formInstance:b,isPartialSave:!1,routingGuideId:h}),contentKey:"1"},{title:"Transportation Details",content:(0,S.jsx)(Oe,{routingKey:h}),contentKey:"2"}],defaultActiveKey:"1"})})}),(0,S.jsx)(c.Z,{gutter:15,className:"h-100 overflow-y-inherit mt-15",children:(0,S.jsx)(u.Z,{sm:24,className:"h-100 pb-15 overflow-y-inherit d-flex flex-direction-column",children:(0,S.jsx)("div",{className:"h-100 overflow-y-inherit d-flex flex-direction-column",children:(0,S.jsxs)("div",{className:"d-flex flex-direction-column overflow-hidden h-100 br-4",children:[!1===Z.progressing&&0===(null===Z||void 0===Z?void 0:Z.data.length)&&(0,S.jsx)(We.Z,{}),(0,S.jsx)(ze.Z,{className:"".concat((null===Z||void 0===Z||null===(o=Z.data)||void 0===o?void 0:o.length)>0?"mb-15":"pb-15"," h-100"),loadMore:()=>{y((0,F.Tr)({...Z.req,PageNo:Z.req.PageNo+1}))},hasMore:(null===Z||void 0===Z||!Z.progressing)&&(null===Z||void 0===Z||null===(d=Z.data)||void 0===d?void 0:d.length)<(null===Z||void 0===Z?void 0:Z.totalCount),isLoading:!0===Z.progressing&&Z.data.length>0,scrollOffset:100,children:(null===Z||void 0===Z||null===(m=Z.data)||void 0===m?void 0:m.length)>0&&(null===Z||void 0===Z?void 0:Z.data.map(((e,l)=>(0,S.jsx)(Ie,{data:e,handleRoutingGuidesClick:D,handleDelete:T,onSelect:V,isSelected:C.includes(null===e||void 0===e?void 0:e.routingGuideId),onClickContent:(e,l)=>{f(!0),g(l)}},l))))})]})})})})]})]})},qe=()=>{const{pathname:e}=(0,s.TH)(),l=(0,i.useMemo)((()=>(0,P.F)(e)),[e]),{t:t}=(0,a.$G)([l,"translation"]);return(0,S.jsx)(i.Fragment,{children:(0,S.jsx)(o.Z,{headerContent:(0,S.jsx)(z,{}),filterTitle:t("translation:default.buttons.search"),filterElement:(0,S.jsx)(ue,{}),contentElement:(0,S.jsx)(Be,{}),pageTitle:t("translation:default.options.routingGuide")})})}}}]);
//# sourceMappingURL=5828.08168cdb.chunk.js.map