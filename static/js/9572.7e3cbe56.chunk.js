"use strict";(self.webpackChunknvision_TMS=self.webpackChunknvision_TMS||[]).push([[9572],{58209:(e,l,s)=>{s.d(l,{r:()=>o});var a,t=s(72791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var s=arguments[l];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},n.apply(this,arguments)}function i(e,l){let{title:s,titleId:i,...o}=e;return t.createElement("svg",n({width:24,height:18,viewBox:"0 0 24 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l,"aria-labelledby":i},o),s?t.createElement("title",{id:i},s):null,a||(a=t.createElement("path",{d:"M21.75 0H2.25002C1.00928 0 0 1.00928 0 2.25002V15.75C0 16.9907 1.00928 18 2.25002 18H21.75C22.9907 18 24 16.9907 24 15.75V2.25002C24 1.00928 22.9907 0 21.75 0ZM21.75 1.49999C21.8519 1.49999 21.9488 1.52114 22.0374 1.55806L12 10.2576L1.9625 1.55806C2.05113 1.52119 2.14807 1.49999 2.24997 1.49999H21.75ZM21.75 16.5H2.25002C1.8362 16.5 1.49999 16.1638 1.49999 15.75V3.14282L11.5085 11.8169C11.6499 11.9392 11.825 12 12 12C12.175 12 12.3501 11.9392 12.4915 11.8169L22.5 3.14282V15.75C22.5 16.1638 22.1638 16.5 21.75 16.5Z",fill:"white"})))}const o=t.forwardRef(i);s.p},7752:(e,l,s)=>{s.d(l,{Z:()=>c});var a=s(72791),t=s(16584),n=s(52443),i=s.n(n),o=s(14692),r=s(80184);const c=e=>{let{value:l="",onChange:s=(()=>{})}=e;const[n,c]=(0,a.useState)(!1);return(0,r.jsx)("div",{className:"text-editor-container",children:(0,r.jsx)(o.Z,{spinning:!n,children:(0,r.jsx)(t.CKEditor,{editor:i(),data:String(l),onReady:e=>{c(!0)},onChange:(e,l)=>s(l.getData()),config:{fontFamily:{options:["default","Ubuntu, Arial, sans-serif","Ubuntu Mono, Courier New, Courier, monospace"]},toolbar:{fontFamily:{options:["default","Ubuntu, Arial, sans-serif","Ubuntu Mono, Courier New, Courier, monospace"]},items:["heading","|","fontFamily","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","imageUpload","blockQuote","insertTable","mediaEmbed","alignment","code","codeBlock","findAndReplace","fontColor","fontFamily","fontSize","fontBackgroundColor","highlight","horizontalLine","htmlEmbed","imageInsert","|","undo","redo"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}}})})})}},89572:(e,l,s)=>{s.r(l),s.d(l,{default:()=>sl});var a,t,n,i,o=s(72791),r=s(16871),c=s(66106),d=s(30914),m=s(55725),u=s(16726),h=s(86443),x=s(41583),v=s(71046),f=s(49367),p=s(94433);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var s=arguments[l];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},j.apply(this,arguments)}function g(e,l){let{title:s,titleId:r,...c}=e;return o.createElement("svg",j({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l,"aria-labelledby":r},c),s?o.createElement("title",{id:r},s):null,a||(a=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0H1H0V0.974138V6.81897H1V0.974138H7V0Z",fill:"white"})),t||(t=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 15.5862L15 15.5862L16 15.5862L16 14.6121L16 8.76724L15 8.76724L15 14.6121L9 14.6121L9 15.5862Z",fill:"white"})),n||(n=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 6.81897L16 0.974138L16 0L15 -4.37114e-08L9 -3.0598e-07L9 0.974138L15 0.974138L15 6.81897L16 6.81897Z",fill:"white"})),i||(i=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.1794e-07 8.76724L1.31135e-07 14.6121L0 15.5862L1 15.5862L7 15.5862L7 14.6121L1 14.6121L1 8.76724L9.1794e-07 8.76724Z",fill:"white"})))}const C=o.forwardRef(g);s.p;var Z,N,b,w,_,y,I,S,E,M,F,L,D,V=s(58209),k=s(91989),H=s(74057),O=s(43504),R=s(10686),T=s(95048),P=s(33646);function U(){return U=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var s=arguments[l];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},U.apply(this,arguments)}function A(e,l){let{title:s,titleId:a,...t}=e;return o.createElement("svg",U({width:147,height:17,viewBox:"0 0 147 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:l,"aria-labelledby":a},t),s?o.createElement("title",{id:a},s):null,Z||(Z=o.createElement("path",{d:"M10.61 16.2187H7.23V10.2765C7.23 8.62042 6.62 7.7924 5.41 7.7924C4.82 7.7924 4.34 8.01645 3.96 8.45482C3.58 8.88344 3.39 9.43869 3.39 10.1109V16.209H0V5.52266H3.39V7.21766H3.43C4.24 5.91232 5.41 5.25964 6.96 5.25964C9.39 5.25964 10.61 6.73059 10.61 9.67249V16.2187Z",fill:"white"})),N||(N=o.createElement("path",{d:"M26.4202 1.23657L21.1202 16.2188H17.2002L11.9702 1.23657H15.7002L18.9102 11.6598C19.0802 12.2248 19.1802 12.7217 19.2202 13.1503H19.2802C19.3302 12.6827 19.4402 12.1761 19.6102 11.6111L22.8002 1.23657H26.4202Z",fill:"white"})),b||(b=o.createElement("path",{d:"M29.6502 3.82774C29.0802 3.82774 28.6102 3.66214 28.2502 3.33093C27.8902 2.99973 27.7002 2.59059 27.7002 2.11326C27.7002 1.61645 27.8802 1.21705 28.2502 0.90533C28.6202 0.593606 29.0802 0.437744 29.6502 0.437744C30.2302 0.437744 30.7002 0.593606 31.0602 0.90533C31.4202 1.21705 31.6002 1.62619 31.6002 2.11326C31.6002 2.61007 31.4202 3.02895 31.0602 3.35042C30.7002 3.66214 30.2302 3.82774 29.6502 3.82774ZM31.3302 16.2188H27.9402V5.52274H31.3302V16.2188Z",fill:"white"})),w||(w=o.createElement("path",{d:"M33.4602 15.9363V13.2574C34.0202 13.5886 34.5702 13.8321 35.1302 13.988C35.6802 14.1439 36.2102 14.2315 36.7002 14.2315C37.3002 14.2315 37.7702 14.1536 38.1202 13.988C38.4702 13.8321 38.6402 13.5886 38.6402 13.2574C38.6402 13.0528 38.5602 12.8775 38.4002 12.7314C38.2402 12.595 38.0402 12.4683 37.7902 12.3612C37.5402 12.254 37.2702 12.1664 36.9802 12.0787C36.6902 11.991 36.4002 11.9033 36.1302 11.7962C35.6902 11.6403 35.3102 11.465 34.9802 11.2799C34.6502 11.0948 34.3702 10.8805 34.1402 10.637C33.9102 10.3934 33.7402 10.1109 33.6302 9.78946C33.5102 9.46799 33.4502 9.08808 33.4502 8.64972C33.4502 8.04575 33.5802 7.5392 33.8502 7.10084C34.1202 6.66248 34.4802 6.31179 34.9202 6.03903C35.3702 5.76627 35.8802 5.5617 36.4502 5.43506C37.0202 5.30842 37.6202 5.24023 38.2502 5.24023C38.7402 5.24023 39.2302 5.2792 39.7302 5.34739C40.2302 5.41558 40.7202 5.52273 41.2102 5.66886V8.2211C40.7802 7.97756 40.3202 7.79248 39.8302 7.67558C39.3402 7.55868 38.8602 7.49049 38.3902 7.49049C38.1702 7.49049 37.9602 7.50998 37.7602 7.54894C37.5602 7.58791 37.3902 7.64636 37.2402 7.71455C37.0902 7.79248 36.9702 7.88015 36.8902 7.99705C36.8002 8.11394 36.7602 8.24058 36.7602 8.3867C36.7602 8.58153 36.8202 8.74713 36.9502 8.88351C37.0802 9.01989 37.2502 9.14653 37.4502 9.24394C37.6602 9.34136 37.8902 9.43877 38.1402 9.5167C38.3902 9.59463 38.6502 9.6823 38.9002 9.76023C39.3502 9.9161 39.7602 10.0817 40.1202 10.257C40.4802 10.4421 40.8002 10.6467 41.0602 10.8902C41.3202 11.1338 41.5202 11.4163 41.6602 11.7475C41.8002 12.0787 41.8702 12.4683 41.8702 12.9164C41.8702 13.5496 41.7302 14.0951 41.4502 14.5433C41.1702 14.9914 40.7902 15.3615 40.3202 15.644C39.8502 15.9265 39.3102 16.1311 38.7002 16.2577C38.0902 16.3844 37.4502 16.4526 36.8002 16.4526C35.6102 16.4818 34.4902 16.2967 33.4602 15.9363Z",fill:"white"})),_||(_=o.createElement("path",{d:"M45.5599 3.82774C44.9899 3.82774 44.5199 3.66214 44.1599 3.33093C43.7999 2.99973 43.6099 2.59059 43.6099 2.11326C43.6099 1.61645 43.7899 1.21705 44.1599 0.90533C44.5299 0.593606 44.9899 0.437744 45.5599 0.437744C46.1399 0.437744 46.6099 0.593606 46.9699 0.90533C47.3299 1.21705 47.5099 1.62619 47.5099 2.11326C47.5099 2.61007 47.3299 3.02895 46.9699 3.35042C46.6099 3.66214 46.1399 3.82774 45.5599 3.82774ZM47.2299 16.2188H43.8399V5.52274H47.2299V16.2188Z",fill:"white"})),y||(y=o.createElement("path",{d:"M55.3202 16.4817C53.4902 16.4817 52.0502 15.9849 51.0002 14.9815C49.9502 13.9782 49.4302 12.6241 49.4302 10.9096C49.4302 9.13671 49.9702 7.75344 51.0602 6.75982C52.1502 5.75645 53.6202 5.25964 55.4702 5.25964C57.2902 5.25964 58.7202 5.75645 59.7602 6.75982C60.8002 7.76318 61.3202 9.07826 61.3202 10.7246C61.3202 12.4975 60.7902 13.9002 59.7202 14.9328C58.6502 15.9654 57.1702 16.4817 55.3202 16.4817ZM55.4002 7.78266C54.6002 7.78266 53.9802 8.05542 53.5302 8.5912C53.0902 9.12697 52.8702 9.8868 52.8702 10.8707C52.8702 12.9261 53.7202 13.949 55.4202 13.949C57.0402 13.949 57.8502 12.8969 57.8502 10.783C57.8602 8.78602 57.0402 7.78266 55.4002 7.78266Z",fill:"white"})),I||(I=o.createElement("path",{d:"M74.1198 16.2187H70.7398V10.2765C70.7398 8.62042 70.1298 7.7924 68.9198 7.7924C68.3298 7.7924 67.8498 8.01645 67.4698 8.45482C67.0898 8.88344 66.8998 9.43869 66.8998 10.1109V16.209H63.5098V5.52266H66.8998V7.21766H66.9398C67.7498 5.91232 68.9198 5.25964 70.4698 5.25964C72.8998 5.25964 74.1198 6.73059 74.1198 9.67249V16.2187Z",fill:"white"})),S||(S=o.createElement("path",{d:"M95.8102 15.2153C94.3102 16.0531 92.4402 16.4817 90.2102 16.4817C87.7402 16.4817 85.7902 15.8193 84.3602 14.4847C82.9302 13.1502 82.2202 11.3188 82.2202 8.97111C82.2202 6.6137 83.0002 4.69464 84.5602 3.21395C86.1202 1.73326 88.1902 0.99292 90.7802 0.99292C92.4102 0.99292 93.8502 1.21697 95.0902 1.65533V4.82128C93.9002 4.14913 92.4502 3.81792 90.7402 3.81792C89.3002 3.81792 88.1302 4.27576 87.2302 5.18171C86.3302 6.08766 85.8702 7.30533 85.8702 8.82499C85.8702 10.3641 86.2802 11.5526 87.0902 12.4001C87.9002 13.2476 89.0002 13.6665 90.3802 13.6665C91.2102 13.6665 91.8702 13.5496 92.3502 13.3255V10.4031H89.2702V7.68525H95.8102V15.2153Z",fill:"white"})),E||(E=o.createElement("path",{d:"M101.86 16.2188H98.4702V0.379272H101.86V16.2188Z",fill:"white"})),M||(M=o.createElement("path",{d:"M109.94 16.4817C108.11 16.4817 106.67 15.9849 105.62 14.9815C104.57 13.9782 104.05 12.6241 104.05 10.9096C104.05 9.13671 104.59 7.75344 105.68 6.75982C106.77 5.75645 108.24 5.25964 110.09 5.25964C111.91 5.25964 113.34 5.75645 114.38 6.75982C115.42 7.76318 115.94 9.07826 115.94 10.7246C115.94 12.4975 115.41 13.9002 114.34 14.9328C113.27 15.9654 111.8 16.4817 109.94 16.4817ZM110.03 7.78266C109.23 7.78266 108.61 8.05542 108.16 8.5912C107.72 9.12697 107.5 9.8868 107.5 10.8707C107.5 12.9261 108.35 13.949 110.05 13.949C111.67 13.949 112.48 12.8969 112.48 10.783C112.49 8.78602 111.67 7.78266 110.03 7.78266Z",fill:"white"})),F||(F=o.createElement("path",{d:"M121.57 14.9719H121.53V16.2188H118.14V0.379272H121.53V7.13005H121.57C122.41 5.88315 123.6 5.2597 125.14 5.2597C126.56 5.2597 127.65 5.73703 128.41 6.68194C129.17 7.62686 129.56 8.92246 129.56 10.5688C129.56 12.3514 129.11 13.7834 128.22 14.8647C127.33 15.946 126.13 16.4818 124.64 16.4818C123.29 16.4818 122.26 15.9752 121.57 14.9719ZM121.47 10.4616V11.5624C121.47 12.254 121.67 12.819 122.08 13.2769C122.49 13.725 123.01 13.9588 123.65 13.9588C124.42 13.9588 125.02 13.6665 125.45 13.082C125.88 12.4975 126.09 11.6793 126.09 10.6077C126.09 9.72126 125.9 9.02962 125.51 8.53281C125.12 8.036 124.56 7.78272 123.84 7.78272C123.16 7.78272 122.6 8.02626 122.15 8.52307C121.7 9.01988 121.47 9.66281 121.47 10.4616Z",fill:"white"})),L||(L=o.createElement("path",{d:"M140.68 16.2187H137.47V14.6796H137.43C136.69 15.8777 135.6 16.472 134.16 16.472C133.09 16.472 132.26 16.1797 131.65 15.5855C131.04 15.001 130.73 14.212 130.73 13.2281C130.73 11.1532 131.99 9.95499 134.52 9.63352L137.5 9.24387C137.5 8.0749 136.85 7.49042 135.55 7.49042C134.24 7.49042 133 7.87033 131.82 8.63016V6.15585C132.29 5.92206 132.94 5.70775 133.76 5.5324C134.58 5.34732 135.32 5.25964 136 5.25964C139.13 5.25964 140.7 6.7793 140.7 9.82835V16.2187H140.68ZM137.5 11.874V11.1532L135.51 11.4065C134.41 11.5428 133.86 12.0299 133.86 12.8579C133.86 13.2378 133.99 13.5398 134.26 13.7834C134.53 14.0269 134.89 14.1438 135.35 14.1438C135.99 14.1438 136.5 13.9295 136.91 13.5009C137.3 13.0625 137.5 12.5267 137.5 11.874Z",fill:"white"})),D||(D=o.createElement("path",{d:"M146.75 16.2188H143.36V0.379272H146.75V16.2188Z",fill:"white"})))}const z=o.forwardRef(A);s.p;var B=s(48740),G=s(60914),W=s(39230),Y=s(80184);const $="-30%",q="-10%",J="10%",K=()=>{const[e,l]=(0,o.useState)(q),{pathname:s}=(0,r.TH)(),a=(0,o.useMemo)((()=>(0,G.F)(s)),[s]),{t:t}=(0,W.$G)([a,"translation"]);(0,o.useEffect)((()=>{const e=localStorage.getItem("fontZoomLevel");e&&n(e)}),[]);const n=e=>{localStorage.setItem("fontZoomLevel",e),l(e),document.documentElement.style.setProperty("--fontSizePercent",e)};return(0,Y.jsxs)("div",{className:"dynamic-font-size-container",children:[(0,Y.jsxs)(c.Z,{className:"text-container",gutter:5,justify:"space-between",children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(R.Z,{onClick:()=>n($),className:"".concat(e===$&&"active"),children:"A"})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(R.Z,{onClick:()=>n(q),className:"".concat(e===q&&"active"),children:"A"})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(R.Z,{onClick:()=>n(J),className:"".concat(e===J&&"active"),children:"A"})})]}),(0,Y.jsxs)("div",{className:"line-container",children:[(0,Y.jsx)("span",{className:"".concat(e===$&&"active")}),(0,Y.jsx)("span",{className:"".concat(e===q&&"active")}),(0,Y.jsx)("span",{className:"".concat(e===J&&"active")})]})]})};var Q=s(99660),X=s(28478),ee=s(89041),le=s(9682),se=s(73855),ae=s(75880),te=s(46130);const ne=e=>{let{title:l,active:s,badge:a=!1,onClick:t=(()=>{})}=e;return(0,Y.jsxs)("button",{onClick:t,className:"email-folder-button f-14 ".concat(s?"active":""," ").concat(a?"fw-800":""),children:[l,a?"(".concat(a,")"):""]})},ie=()=>{const e=(0,T.I0)(),{folders:l,activeFolderId:s}=(0,T.v9)((e=>e.messageCenter));(0,o.useEffect)((()=>{var e;l.success&&null!==l&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&e.length&&!s&&a(l.data[0].folderID)()}),[l.success,s]);const a=l=>()=>{e((0,se.Wc)(l))};return(0,Y.jsx)("div",{className:"h-100 custom-scroll-bar email-folder-container border-right-border",children:l.data.map((e=>(0,Y.jsx)(ne,{title:e.folderName,badge:e.unReadMail,active:e.folderID===s,onClick:a(e.folderID)},e.folderID)))})};var oe=s(48490),re=s(14692),ce=s(91082),de=s(98580),me=s(89252),ue=s(99361),he=s(84446),xe=s(28985),ve=s(53540),fe=s(67766),pe=s(763),je=s(32311),ge=s(9281);const Ce=()=>{var e;const[l]=oe.Z.useForm(),{pathname:s}=(0,r.TH)(),a=(0,o.useMemo)((()=>(0,G.F)(s)),[s]),{t:t}=(0,W.$G)([a,"translation"]),n=(0,T.I0)(),i=(0,T.v9)(xe.Uz),{messageList:m,activeMessageId:u,activeFolderId:h,deleteMessage:x}=(0,T.v9)((e=>e.messageCenter)),v=oe.Z.useWatch("searchEmailValue",l),[f]=(0,ge.Nr)(v,1e3);(0,o.useEffect)((()=>{i&&n((0,se.fv)({folderId:i.folderID,pageIndex:1,pageSize:m.pageSize,SearchValue:f||void 0}))}),[i,f]),(0,o.useEffect)((()=>{var e;m.success&&null!==m&&void 0!==m&&null!==(e=m.data)&&void 0!==e&&e.length&&p(m.data[0].msgID)()}),[m.success,h]);const p=e=>()=>{n((0,se.NQ)(e))},j=(0,o.useMemo)((()=>(0,fe.Mj)(null===i||void 0===i?void 0:i.folderID)),[i]);return(0,Y.jsx)("div",{className:"h-100 overflow-hidden email-list-container border-right-border",children:(0,Y.jsxs)(c.Z,{className:"h-100 overflow-hidden flex-direction-column flex-nowrap pb-10",children:[(0,Y.jsx)(d.Z,{className:"p-10",children:(0,Y.jsx)(oe.Z,{form:l,children:(0,Y.jsx)(de.Z,{editMode:!0,placeholder:"Search...",suffix:(0,Y.jsx)(X.Z,{Icon:me.r,color:""}),margin:"m-0",name:"searchEmailValue"})})}),(0,Y.jsx)(d.Z,{className:"flex-1 overflow-hidden ",children:null!==m&&void 0!==m&&m.progressing&&1===m.pageIndex?(0,Y.jsx)("div",{children:(0,Y.jsx)(ee.Z,{})}):(0,Y.jsx)(je.Z,{loadMore:()=>{n((0,se.fv)({folderId:i.folderID,pageIndex:m.pageIndex+1,pageSize:m.pageSize,SearchValue:f||void 0}))},hasMore:!m.progressing&&(null===m||void 0===m?void 0:m.pageIndex)<Math.floor(((null===m||void 0===m?void 0:m.totalRecords)+(m.pageSize-1))/m.pageSize),className:"h-100",isLoading:null===m||void 0===m?void 0:m.progressing,scrollOffset:10,children:(null===m||void 0===m||null===(e=m.data)||void 0===e?void 0:e.length)>0?(0,Y.jsx)(Y.Fragment,{children:m.data.map((e=>{return(0,Y.jsx)(Ze,{data:e,active:e.msgID===u,onClick:p(e.msgID),handleDelete:(l=e.msgID,()=>{n((0,se.NU)({msgID:l,folderId:i.folderID}))}),isDeleting:(0,pe.includes)(x.data?x.data:[],e.msgID),isSentItemFolder:j},e.msgID);var l}))}):(0,Y.jsx)("div",{className:"text-center",children:(0,Y.jsx)(he.Z,{className:"f-14 text-danger",children:"No messages found!"})})})})]})})},Ze=e=>{let{data:l,active:s,onClick:a=(()=>{}),handleDelete:t=(()=>{}),isDeleting:n=!1,isSentItemFolder:i}=e;const{pathname:c}=(0,r.TH)(),d=(0,o.useMemo)((()=>(0,G.F)(c)),[c]),{t:m}=(0,W.$G)([d,"translation"]),u=(0,ve.ZP)(l.msgBody);return(0,Y.jsx)(re.Z,{spinning:n,children:(0,Y.jsxs)("div",{onClick:a,className:"message-card px-10 py-5 ".concat(s?"active":""),children:[(0,Y.jsx)("div",{children:(0,Y.jsx)(ae.Z,{className:"".concat(l.isRead||i?"fw-400":""),children:l.fromEmail})}),(0,Y.jsx)("div",{children:(0,Y.jsxs)(he.Z,{className:"lh-10",children:[(0,Y.jsx)("span",{className:"".concat(l.isRead||i?"fw-400":"fw-800"),children:"Subject:"}),l.msgSubject]})}),l.msgBody?(0,Y.jsx)("div",{children:(0,Y.jsx)(he.Z,{ellipsis:{rows:1,expandable:!1,tooltip:!1},className:"mt-5",children:"string"===typeof u?String((0,ve.ZP)(l.msgBody)).replace(/<\/?[^>]+(>|$)/g,""):""})}):(0,Y.jsx)(Y.Fragment,{}),(0,Y.jsx)("div",{onClick:fe.UW,children:(0,Y.jsx)(ce.Z,{placement:"topRight",title:m("translation:default.popConfirm.title"),okText:m("translation:default.buttons.delete"),cancelText:m("translation:default.options.no"),overlayClassName:"delete-popup-container",onConfirm:t,children:(0,Y.jsx)(R.Z,{onClick:fe.UW,className:"delete-button",children:(0,Y.jsx)(X.Z,{Icon:ue.r,color:"white"})})})})]})})};var Ne=s(77128),be=s(14626);const we=e=>{var l,s,a,t,n,i;let{handleReply:r,handleForward:m}=e;const u=(0,T.I0)(),h=(0,T.v9)(xe.Uz),x=(0,T.v9)(xe.xA),{messageDetails:v}=(0,T.v9)((e=>e.messageCenter)),f=(0,o.useMemo)((()=>(0,fe.Mj)(null===h||void 0===h?void 0:h.folderID)),[h]);(0,o.useEffect)((()=>{null!==h&&void 0!==h&&h.folderName&&null!==x&&void 0!==x&&x.msgID&&u((0,se.nl)({msgId:null===x||void 0===x?void 0:x.msgID}))}),[null===h||void 0===h?void 0:h.folderName,null===x||void 0===x?void 0:x.msgID]),(0,o.useEffect)((()=>{var e,l,s;null===x||void 0===x||!x.msgID||null===v||void 0===v||null===(e=v.data)||void 0===e||!e.messsageId||(null===x||void 0===x?void 0:x.msgID)!==(null===v||void 0===v||null===(l=v.data)||void 0===l?void 0:l.messsageId)||null!==x&&void 0!==x&&x.isRead||f||u((0,se.y)({messageId:null===v||void 0===v||null===(s=v.data)||void 0===s?void 0:s.messsageId}))}),[null===v||void 0===v?void 0:v.data,x,f]);const p=(0,ve.ZP)(null!==v&&void 0!==v&&null!==(l=v.data)&&void 0!==l&&l.messageBody?null===v||void 0===v||null===(s=v.data)||void 0===s?void 0:s.messageBody:"");return(0,Y.jsx)("div",{className:"h-100 overflow-hidden email-list-container border-right-border",children:(0,Y.jsxs)(c.Z,{className:"h-100 overflow-hidden flex-direction-column flex-nowrap pb-10",children:[null!==v&&void 0!==v&&v.data?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)(d.Z,{className:"px-30 py-10",children:[(0,Y.jsx)("div",{children:(0,Y.jsxs)(ae.Z,{children:["From: ",null===v||void 0===v||null===(a=v.data)||void 0===a?void 0:a.fromUserName]})}),(0,Y.jsx)("div",{children:(0,Y.jsxs)(ae.Z,{children:["Sent:"," ",(0,be.GW)((null===v||void 0===v||null===(t=v.data)||void 0===t?void 0:t.sendingDate)+"Z","dddd MMMM DD, YYYY hh:mm A")]})}),(0,Y.jsx)("div",{children:(0,Y.jsxs)(he.Z,{children:["Subject : ",null===v||void 0===v||null===(n=v.data)||void 0===n?void 0:n.messageSubject]})})]}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(Ne.Z,{className:"m-0"})})]}):(0,Y.jsx)(Y.Fragment,{}),(0,Y.jsx)(d.Z,{className:"py-15 px-30 border-bottom-border flex-1 custom-scroll-bar",children:null!==v&&void 0!==v&&v.progressing?(0,Y.jsx)(ee.Z,{size:"large"}):(0,Y.jsx)(Y.Fragment,{children:null!==v&&void 0!==v&&v.error?(0,Y.jsx)("div",{className:"text-center",children:(0,Y.jsx)(he.Z,{className:"f-14 text-danger",children:v.message})}):(0,Y.jsx)(Y.Fragment,{children:null!==v&&void 0!==v&&v.data?(0,Y.jsx)(Y.Fragment,{children:"string"===typeof p?(0,Y.jsx)("div",{className:"message-details-container",dangerouslySetInnerHTML:{__html:(0,ve.ZP)(String(null===v||void 0===v||null===(i=v.data)||void 0===i?void 0:i.messageBody))}}):(0,Y.jsx)(Y.Fragment,{})}):(0,Y.jsx)("div",{className:"text-center",children:(0,Y.jsx)(he.Z,{className:"f-14 text-danger",children:"Please select A message..."})})})})}),v.success?(0,Y.jsx)(d.Z,{className:"pt-10 px-15",children:f?(0,Y.jsx)(te.Z,{onClick:m(null===v||void 0===v?void 0:v.data),className:"float-right",children:"Forward"}):(0,Y.jsx)(te.Z,{onClick:r(null===v||void 0===v?void 0:v.data),className:"float-right",children:"Reply"})}):(0,Y.jsx)(Y.Fragment,{})]})})};var _e=s(59962),ye=s.n(_e),Ie=s(10089);const Se=e=>{let{customHeader:l,title:s,open:a=!0,setOpen:t=(()=>{}),children:n,...i}=e;const[r,m]=(0,o.useState)(!0),[u,h]=(0,o.useState)({left:0,top:0,bottom:0,right:0}),x=(0,o.useRef)(null);return(0,Y.jsx)(le.Z,{...i,draggable:!0,customHeader:(0,Y.jsxs)(c.Z,{gutter:30,align:"middle",className:"flex-nowrap w-100",children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsxs)(c.Z,{gutter:3,align:"middle",style:{cursor:"move"},className:"flex-nowrap",onMouseOver:()=>{r&&m(!1)},onMouseOut:()=>{m(!0)},onFocus:()=>{},onBlur:()=>{},children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(X.Z,{className:"d-flex",Icon:Ie.r,color:"white",height:18,width:5})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(X.Z,{className:"d-flex",Icon:Ie.r,color:"white",height:18,width:5})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(X.Z,{className:"d-flex",Icon:Ie.r,color:"white",height:18,width:5})})]})}),(0,Y.jsx)(d.Z,{className:"flex-1",children:l||(0,Y.jsx)("label",{className:"title",children:s})})]}),open:a,modalRender:e=>(0,Y.jsx)(ye(),{disabled:r,bounds:u,nodeRef:x,onStart:(e,l)=>((e,l)=>{var s;const{clientWidth:a,clientHeight:t}=window.document.documentElement,n=null===(s=x.current)||void 0===s?void 0:s.getBoundingClientRect();n&&h({left:-n.left+l.x,right:a-(n.right-l.x),top:-n.top+l.y,bottom:t-(n.bottom-l.y)})})(0,l),children:(0,Y.jsx)("div",{ref:x,children:e})}),children:n})};var Ee=s(46434),Me=s(88858),Fe=s(72351),Le=s(7752),De=s(9835);const Ve=e=>{let{startingValue:l,handleFilterChange:s}=e;const[a]=oe.Z.useForm(),t=oe.Z.useWatch("searchValue",a),[n]=(0,ge.Nr)(t,800);(0,o.useEffect)((()=>{s(n,!0)}),[n]);return(0,Y.jsxs)(c.Z,{gutter:30,align:"middle",className:"flex-nowrap",children:[(0,Y.jsx)(d.Z,{className:"flex-1",children:(0,Y.jsx)("div",{className:"email-filter-char-container",children:De.bN.map((e=>(0,Y.jsx)("div",{onClick:()=>(e=>{s(e,!1),a.setFieldValue("searchValue",void 0)})(e),className:"filter-char-button f-12 ".concat(l===e?"active":""),children:e},e)))})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(oe.Z,{form:a,initialValues:{searchValue:void 0},children:(0,Y.jsx)(de.Z,{editMode:!0,label:!1,placeholder:"Search...",margin:"m-0",name:"searchValue"})})})]})};var ke=s(800);const He=e=>{let{title:l}=e;return(0,Y.jsxs)("div",{className:"d-flex flex-direction-row align-items-center",children:[(0,Y.jsx)(he.Z,{className:"f-14 mr-5",children:"Company Name:"}),(0,Y.jsx)(ae.Z,{children:l})]})};var Oe=s(75450);const Re=e=>{let{emails:l,handleSelect:s,selectedEmails:a}=e;return(0,Y.jsx)("div",{className:"pl-40",children:l.map((e=>(0,Y.jsx)("div",{children:(0,Y.jsx)(Oe.Z,{checkBoxClass:"normal-checkbox",label:"".concat(e.text),className:"mb-5",onChange:l=>s(l,e),checked:Boolean((0,pe.find)(a,e))})},e.email)))})};var Te=s(65605);const Pe=e=>{let{selectedEmails:l=[],handleSelect:s}=e;return(0,Y.jsx)(Te.Z,{showBorder:!0,className:"h-100 overflow-hidden d-flex flex-direction-column",title:(0,Y.jsx)(ae.Z,{className:"mb-10 text-header",children:"Selected Emails"}),children:(0,Y.jsx)("div",{className:"p-15 flex-1 custom-scroll-bar",children:l.map((e=>{var l,a;return(0,Y.jsxs)(c.Z,{className:"mb-5",align:"middle",children:[(0,Y.jsx)(d.Z,{className:"flex-1",children:(0,Y.jsx)(he.Z,{className:"f-14",children:null!==(l=e.text)&&void 0!==l?l:e.userName})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(R.Z,{onClick:(a=e,()=>{s({target:{checked:!1}},a)}),children:(0,Y.jsx)(X.Z,{Icon:ue.r,color:"danger"})})})]},e.text)}))})})};var Ue=s(56521);const Ae=e=>{var l;let{defaultUserList:s=[],handleFilterEmailsApply:a,handleClose:t}=e;const n=(0,T.I0)(),[i,r]=(0,o.useState)([]),[m,u]=(0,o.useState)("All"),[h,x]=(0,o.useState)(void 0),[v,f]=(0,o.useState)([]),{composeEmails:p}=(0,T.v9)((e=>e.messageCenter)),j=(0,o.useMemo)((()=>(0,pe.groupBy)(null===p||void 0===p?void 0:p.data,"companyName")),[null===p||void 0===p?void 0:p.data]);(0,o.useEffect)((()=>{r(Object.keys(j).map(((e,l)=>String(l))))}),[j]);(0,o.useEffect)((()=>{f(null!==s&&void 0!==s?s:[])}),[s]);const g=(e,l)=>{let s=(0,pe.cloneDeep)(v);e.target.checked?s.push(l):s=(0,pe.remove)(v,(e=>JSON.stringify(e)!==JSON.stringify(l))),f(s)};return(0,Y.jsxs)(c.Z,{className:"h-100 overflow-hidden flex-direction-column flex-nowrap",children:[(0,Y.jsx)(d.Z,{className:"px-30 pt-15",children:(0,Y.jsx)(Ve,{startingValue:m,handleFilterChange:(e,l)=>{l?(u("All"),x(e)):(u(e),x(void 0)),n((0,se.aH)({PageIndex:1,PageSize:p.PageSize,StartingSearchValue:l||"All"===e?void 0:e,ContainSearchValue:l&&e?e:void 0}))}})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(Ne.Z,{className:"mt-15 mb-10"})}),(0,Y.jsx)(d.Z,{className:"flex-1 overflow-hidden px-30",children:(0,Y.jsxs)(c.Z,{className:"h-100 overflow-hidden",gutter:30,children:[(0,Y.jsx)(d.Z,{className:"h-100 overflow-hidden",sm:16,children:(0,Y.jsxs)(c.Z,{className:"flex-direction-column h-100 overflow-hidden",children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(ae.Z,{className:"mb-10 text-header",children:"Email Result"})}),(0,Y.jsx)(d.Z,{className:"flex-1 overflow-hidden",children:null!==p&&void 0!==p&&p.error?(0,Y.jsx)("div",{className:"text-center pt-10 ",children:(0,Y.jsx)(he.Z,{className:"text-danger f-16",children:"Failed to fetch the data, Please try Again..."})}):(0,Y.jsx)(Y.Fragment,{children:null!==p&&void 0!==p&&p.progressing||0!==(null===p||void 0===p||null===(l=p.data)||void 0===l?void 0:l.length)?(0,Y.jsx)(je.Z,{className:"h-100",loadMore:()=>{n((0,se.aH)({PageIndex:p.PageIndex+1,PageSize:p.PageSize,StartingSearchValue:"All"!==m?m:void 0,ContainSearchValue:h}))},isLoading:p.progressing,hasMore:!p.progressing&&(null===p||void 0===p?void 0:p.PageIndex)<Math.floor(((null===p||void 0===p?void 0:p.totalRecords)+(p.PageSize-1))/p.PageSize),scrollOffset:10,children:(0,Y.jsx)(ke.Z,{activeKey:i,handleTabClick:e=>r(e),tabs:Object.keys(j).map(((e,l)=>({header:(0,Y.jsx)(He,{title:e}),content:(0,Y.jsx)(Re,{emails:j[e],handleSelect:g,selectedEmails:v}),tabKey:String(l)})))})}):(0,Y.jsx)(Ue.Z,{})})})]})}),(0,Y.jsx)(d.Z,{className:"h-100 overflow-hidden pt-23",sm:8,children:(0,Y.jsx)(Pe,{selectedEmails:v,handleSelect:g})})]})}),(0,Y.jsx)(Ne.Z,{className:"my-15"}),(0,Y.jsx)(d.Z,{className:"px-30 pb-15",children:(0,Y.jsxs)(c.Z,{gutter:15,justify:"end",children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(te.Z,{variant:"danger",type:"default",onClick:t,children:"Cancel"})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(te.Z,{onClick:()=>a(v),children:"Proceed"})})]})})]})},ze=e=>{let{open:l,handleClose:s,defaultUserList:a=[],handleFilterEmailsApply:t}=e;const{t:n}=(0,W.$G)();return(0,Y.jsx)(le.Z,{title:"Search Emails",open:l,className:"w-80 vh-90",onClose:s,customFooter:(0,Y.jsx)(Y.Fragment,{}),descriptionClassName:"mb-0 d-flex flex-direction-column",contentClassName:"p-0",children:(0,Y.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Y.jsx)(Ae,{defaultUserList:a,handleFilterEmailsApply:t,handleClose:s})})})};var Be=s(47970);const Ge=e=>{let{handleCancel:l,defaultMessageBody:s="",composeType:a=De.Oj.NEW,selectedEmailDetails:t=0,handleComposeDone:n}=e;const i=(0,T.I0)(),[r,m]=(0,o.useState)([]),[u,h]=(0,o.useState)(s),[x,v]=(0,o.useState)(!1),[f]=oe.Z.useForm(),p=(0,T.v9)(xe.Uz),j=e=>()=>{const l=r.indexOf(e),s=r.slice();s.splice(l,1),m(s)},g=oe.Z.useWatch("userList",f),C=(0,o.useMemo)((()=>{const e=f.getFieldValue("userListData");let l=[];return g&&g.forEach((s=>{const a=(0,pe.find)(e,(e=>{let{text:l}=e;return l===s}));a?l.push(a):l.push({customerID:0,companyName:null,emailID:null,shortName:null,type:null,userID:0,userName:s,disabled:!1,group:null,selected:!1,text:null,value:null})})),l}),[g]);return(0,o.useEffect)((()=>{a!==De.Oj.REPLY&&a!==De.Oj.FORWARD||(f.setFieldValue("messageSubject",t.messageSubject),h("<p></p><br /><p>____________________________________________________________________</p><br /><span><strong>From:</strong> ".concat(null===t||void 0===t?void 0:t.fromUserName,"</span><br /><span><strong>Sent:</strong> ").concat((0,be.GW)((null===t||void 0===t?void 0:t.sendingDate)+"Z","dddd MMMM DD, YYYY hh:mm A"),"</span>><span><strong>Subject:</strong> ").concat(null===t||void 0===t?void 0:t.messageSubject,"</span><p>____________________________________________________________________</p><br />").concat((0,ve.ZP)(t.messageBody))))}),[a,t]),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)(oe.Z,{onFinish:async e=>{const l=await(s=r,new Promise((async(e,l)=>{try{let l=await Promise.all(s.map((e=>(0,fe.tw)(e)))),a=[];s.forEach((async(e,s)=>{a.push({msgAttachmentID:0,msgID:0,attachmentName:e.name,attachmentGUID:"",attachmentDate:(0,be.Ol)(),serviceModuleID:0,attachmentBase64Value:l[s],attachmentExtension:".".concat(String(e.type).split("/")[1])})})),e(a)}catch(a){l(a),console.log(a)}})));var s;let o={folderName:p.folderName,messageBody:u,messageSubject:e.messageSubject,parentMessageID:a===De.Oj.NEW?0:t.messsageId,userList:e.userList.map((l=>(0,pe.find)(e.userListData,(e=>{let{userName:s,text:a}=e;return l===s||l===a})))),messageAttachmentDetails:l,composeType:a,handleDone:n};i((0,se.lx)(o))},form:f,className:"h-100 overflow-hidden d-flex flex-direction-column py-10",initialValues:{userList:[],userListData:[],messageSubject:""},children:[(0,Y.jsxs)("div",{className:"flex-1 custom-scroll-bar px-15",children:[(0,Y.jsx)(Me.Z,{allowClear:!1,tooltip:"Please click mail icon button to see more emails along with filters",label:"To",mode:"tags",rules:[{required:!0,message:"Please enter email Address."}],suffixIcon:(0,Y.jsx)(R.Z,{onClick:()=>v(!0),children:(0,Y.jsx)(X.Z,{Icon:V.r,color:"header"})}),name:"userList"}),(0,Y.jsx)(Be.Z,{name:"userListData"}),(0,Y.jsx)(de.Z,{editMode:!0,label:"Subject",placeholder:"Subject...",rules:[{required:!0,message:"Please enter subject."}],name:"messageSubject"}),(0,Y.jsxs)(c.Z,{justify:"space-between",className:"mb-15",children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(Ee.Z,{multiple:!0,beforeUpload:(e,l)=>(m((0,pe.uniqBy)([...r,...l],(function(e){return e.name}))),!1),showUploadList:!1,children:(0,Y.jsx)(te.Z,{icon:(0,Y.jsx)(Fe.Z,{}),children:"Attach"})})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)("table",{children:(0,Y.jsx)("tbody",{children:r.map((e=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:(0,Y.jsx)(he.Z,{children:e.name})}),(0,Y.jsx)("td",{className:"pl-10",children:(0,Y.jsx)(R.Z,{onClick:j(e),children:(0,Y.jsx)(X.Z,{width:15,height:15,Icon:ue.r,color:"danger"})})})]},e.name)))})})})]}),(0,Y.jsx)("div",{className:"mb-15",children:(0,Y.jsx)(Le.Z,{value:u,onChange:h})})]}),(0,Y.jsx)("div",{className:"pt-15 px-20",children:(0,Y.jsxs)(c.Z,{gutter:15,justify:"end",children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(te.Z,{onClick:l,variant:"danger",type:"default",children:"Cancel"})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(te.Z,{buttonType:"submit",children:"Send"})})]})})]}),(0,Y.jsx)(ze,{open:x,handleClose:()=>v(!1),defaultUserList:C,handleFilterEmailsApply:e=>{f.setFieldValue("userList",e.map((e=>{let{text:l,userName:s}=e;return null!==l&&void 0!==l?l:s})));let l=[];e.forEach((e=>{e.customerID?l.push(e):l.push({customerID:0,companyName:null,emailID:null,shortName:null,type:null,userID:0,userName:e.userName,disabled:!1,group:null,selected:!1,text:null,value:null})})),f.setFieldValue("userListData",l),v(!1)}})]})},We=e=>{let{open:l,setOpen:s,composeType:a,selectedEmailDetails:t,handleComposeDone:n}=e;const{t:i}=(0,W.$G)();return(0,Y.jsx)(Se,{title:"Compose Message",open:l,className:"w-50 vh-90 ",okText:i("translation:default.buttons.add"),cancelText:i("translation:default.buttons.cancel"),onClose:()=>s(!1),customFooter:(0,Y.jsx)(Y.Fragment,{}),contentClassName:"p-0",descriptionClassName:"mb-0 h-100 d-flex flex-direction-column",destroyOnClose:!0,children:(0,Y.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Y.jsx)(Ge,{handleCancel:()=>s(!1),composeType:a,selectedEmailDetails:t,handleComposeDone:n})})})},Ye=()=>{const[e,l]=(0,o.useState)(!1),s=(0,T.I0)(),{messageCenterVisible:a}=(0,T.v9)((e=>e.messageCenter)),{t:t}=(0,W.$G)(),[n,i]=(0,o.useState)(void 0),[r,m]=(0,o.useState)(!1);return(0,Y.jsxs)(le.Z,{afterOpenChange:e=>{e||(s((0,se.Ao)({data:!1})),s((0,se.NQ)(0)))},destroyOnClose:!0,customHeader:(0,Y.jsx)($e,{handleOpenComposeModal:()=>()=>{i(De.Oj.NEW),l(!0),m(!1)}}),open:a,className:"w-80 ",okText:t("translation:default.buttons.add"),cancelText:t("translation:default.buttons.cancel"),onClose:()=>s((0,se.C0)(!1)),customFooter:(0,Y.jsx)(Y.Fragment,{}),descriptionClassName:"mb-0 d-flex flex-direction-column",contentClassName:"p-0",maskClosable:!0,children:[(0,Y.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,Y.jsxs)(c.Z,{className:"h-100 overflow-hidden flex-nowrap",children:[(0,Y.jsx)(d.Z,{className:"h-100 overflow-hidden",sm:4,children:(0,Y.jsx)(ie,{})}),(0,Y.jsx)(d.Z,{className:"h-100 overflow-hidden",sm:6,children:(0,Y.jsx)(Ce,{})}),(0,Y.jsx)(d.Z,{className:"h-100 overflow-hidden",sm:14,children:(0,Y.jsx)(we,{handleReply:e=>()=>{i(De.Oj.REPLY),l(!0),m(e)},handleForward:e=>()=>{i(De.Oj.FORWARD),l(!0),m(e)}})})]})}),(0,Y.jsx)(We,{open:e,setOpen:l,composeType:n,selectedEmailDetails:r,handleComposeDone:()=>{i(!1),l(!1),m(!1)}})]})},$e=e=>{let{handleOpenComposeModal:l}=e;return(0,Y.jsx)("div",{className:"flex-1 mr-30",children:(0,Y.jsxs)(c.Z,{justify:"space-between",align:"middle",className:"flex-nowrap",children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(ae.Z,{className:"text-white f-20",children:"Message Center"})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(te.Z,{invertMode:!0,onClick:l(),children:"Compose Message"})})]})})},qe=()=>{var e,l,s,a,t,n,i,j,g;const Z=(0,T.v9)((e=>e.auth.user.data),T.wU),N=(0,T.v9)((e=>e.auth.selectedCompany),T.wU),b=(0,T.v9)((e=>e.auth.companyList),T.wU),w=(0,T.v9)((e=>e.auth.changeCompany.success),T.wU),_=(0,T.v9)((e=>e.auth.userProfile),T.wU),y=(0,T.v9)((e=>e.common.fullScreenStatus),T.wU),{folders:{progressing:I,unreadMessages:S}}=(0,T.v9)((e=>e.messageCenter),T.wU),E=(0,T.v9)((e=>e.settings.userThemes),T.wU),[M,F]=(0,o.useState)(""),L=(0,T.I0)(),{pathname:D}=(0,r.TH)(),U=(0,o.useMemo)((()=>(0,G.F)(D)),[D]),{t:A}=(0,W.$G)([U,"translation"]);(0,o.useEffect)((()=>{L((0,P.I3)()),!1===(null===_||void 0===_?void 0:_.success)&&L((0,P.ZA)()),L((0,se.Zf)())}),[]),(0,o.useEffect)((()=>{if(L((0,P.ht)(!1)),null!==b&&void 0!==b&&b.success&&!N&&null!==b&&void 0!==b&&b.data){let l=Z.selectedCompany;if(l&&""!=l){var e;let s=null===b||void 0===b||null===(e=b.data)||void 0===e?void 0:e.filter((e=>e.companyId===l));s&&s.length&&L((0,P.ht)(s[0]))}}}),[null===b||void 0===b?void 0:b.success]),(0,o.useEffect)((()=>{w&&""!=M&&L((0,P.ht)(M))}),[w]);(0,o.useEffect)((()=>(document&&(document.addEventListener("fullscreenchange",$),document.addEventListener("mozfullscreenchange",$),document.addEventListener("webkitfullscreenchange",$),document.addEventListener("msfullscreenchange",$)),()=>{document&&(document.removeEventListener("fullscreenchange",$),document.removeEventListener("mozfullscreenchange",$),document.removeEventListener("webkitfullscreenchange",$),document.removeEventListener("msfullscreenchange",$))})),[]);const $=e=>{L((0,B.h)(!y))};return(0,Y.jsxs)("div",{className:"primary-menu-container",children:[(0,Y.jsxs)(c.Z,{justify:"space-between",align:"middle",children:[(0,Y.jsx)(d.Z,{className:"website-container lh-0",children:(0,Y.jsx)(O.rU,{to:"/",className:"lh-0 top-menu-button-container",children:(0,Y.jsx)(X.Z,{Icon:z,height:16,color:null===E||void 0===E||null===(e=E.data)||void 0===e?void 0:e.topMenuText})})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsxs)(c.Z,{gutter:30,align:"middle",className:"right-contents-container",children:[(0,Y.jsx)(d.Z,{className:"menu-client-select",children:(0,Y.jsx)("div",{children:(0,Y.jsx)(m.default,{loading:b.progressing,showSearch:!0,className:"client-selector",placeholder:A("translation:default.navMenu.clientNameGoesHere"),onChange:e=>{let l=JSON.parse(e);F(l),L((0,P.GF)({CompanyID:l.companyId})),L((0,P.iH)())},...N?{value:JSON.stringify(N)}:{},filterOption:(e,l)=>{try{var s;const a=null===(s=JSON.parse(l.value))||void 0===s?void 0:s.companyName;return new RegExp("^".concat(e,".*$"),"gim").test(a)}catch(a){return!1}},children:(null===b||void 0===b?void 0:b.success)&&b.data.map(((e,l)=>(0,Y.jsx)(m.default.Option,{value:"".concat(JSON.stringify(e)),children:(0,Y.jsxs)("span",{className:"company-select-option ",children:[(0,Y.jsx)("h5",{className:"m-0 p-0 f-14",children:e.companyName}),(0,Y.jsx)("h6",{className:"m-0 p-0 f-10 text-black",children:e.customerAddr1}),(0,Y.jsx)("h6",{className:"m-0 p-0 f-10 text-black",children:"Last Activity - 19, Mar 2023"})]})},l)))})})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsxs)(c.Z,{gutter:30,children:[(0,Y.jsx)(d.Z,{className:"lh-0",children:(0,Y.jsx)(R.Z,{loading:I,onClick:()=>L((0,se.C0)(!0)),className:"top-menu-button-container",children:(0,Y.jsx)(u.Z,{count:S,color:null===E||void 0===E||null===(l=E.data)||void 0===l?void 0:l.primary,overflowCount:9,children:(0,Y.jsx)(X.Z,{Icon:V.r,color:null===E||void 0===E||null===(s=E.data)||void 0===s?void 0:s.topMenuText})})})}),(0,Y.jsx)(d.Z,{className:"lh-0",children:(0,Y.jsx)(R.Z,{onClick:()=>{var e=window.document,l=e.documentElement,s=l.requestFullscreen||l.mozRequestFullScreen||l.webkitRequestFullScreen||l.msRequestFullscreen,a=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?a.call(e):s.call(l)},className:"top-menu-button-container",children:(0,Y.jsx)(X.Z,{Icon:C,color:null===E||void 0===E||null===(a=E.data)||void 0===a?void 0:a.topMenuText})})})]})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(K,{})}),(0,Y.jsx)(d.Z,{children:null!==_&&void 0!==_&&_.progressing||null===_||void 0===_||null===(t=_.data)||void 0===t||!t.firstName?(0,Y.jsxs)(c.Z,{className:"flex-nowrap",gutter:10,align:"middle",children:[(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(h.Z.Avatar,{active:!0,size:"default",shape:"circle"})}),(0,Y.jsx)(d.Z,{children:(0,Y.jsx)(h.Z.Input,{active:!0,size:"small",style:{width:100,minWidth:100}})})]}):(0,Y.jsx)("div",{className:"profile-drop-down-container",children:(0,Y.jsx)(x.Z,{overlayClassName:"profile-overlay-container",arrow:!0,placement:"bottom",overlay:(0,Y.jsxs)("div",{className:"background-header br-5 py-5 paper-container",children:[(0,Y.jsx)(O.rU,{className:"d-flex w-100 justify-content-center f-16 fw-600 text-topMenuText",to:Q.QY.USER_PROFILE_PERSONAL,children:A("translation:default.fields.profile")}),(0,Y.jsx)("a",{className:"d-flex w-100 justify-content-center f-16 fw-600 text-topMenuText",onClick:()=>{L((0,P.Zu)())},href:!1,children:A("translation:default.fields.logout")})]}),children:(0,Y.jsxs)(v.Z,{children:[(0,Y.jsx)(f.C,{className:"profile-avatar",src:null!==_&&void 0!==_&&null!==(n=_.data)&&void 0!==n&&n.profileImage?null===_||void 0===_||null===(i=_.data)||void 0===i?void 0:i.profileImage:k,shape:"circle"}),(0,Y.jsxs)("div",{className:"text-container",children:[(0,Y.jsx)(p.Z.Text,{className:"profile-name",children:"".concat(null===_||void 0===_||null===(j=_.data)||void 0===j?void 0:j.firstName," ").concat(null===_||void 0===_||null===(g=_.data)||void 0===g?void 0:g.lastName," ")}),(0,Y.jsx)(H.Z,{className:"text-topMenuText"})]})]})})})})]})})]}),(0,Y.jsx)(Ye,{})]})},Je=(0,o.memo)(qe);var Ke=s(25786),Qe=s(96324),Xe=s(34265),el=s(89017);const ll=()=>{const{menus:e,selectedCompany:l}=(0,T.v9)((e=>e.auth)),s=(0,T.I0)(),{pathname:a}=(0,r.TH)(),t=(0,o.useMemo)((()=>(0,G.F)(a)),[a]),{t:n}=(0,W.$G)([t,"translation"]);(0,o.useEffect)((()=>{s((0,P.iH)()),s((0,P.Xh)())}),[]),(0,o.useEffect)((()=>{!0!==e.success&&!0!==e.error||s((0,B.ef)(!1))}),[e]);const i=(0,o.useMemo)((()=>null!==e&&void 0!==e&&e.data?(0,fe.We)(null===e||void 0===e?void 0:e.data):[]),[null===e||void 0===e?void 0:e.data]);return(0,o.useEffect)((()=>{null!==l&&void 0!==l&&l.companyId&&(s((0,Xe.A4)({customerKey:null===l||void 0===l?void 0:l.companyId})),s((0,el.GwU)({Customerkey:null===l||void 0===l?void 0:l.companyId})))}),[null===l||void 0===l?void 0:l.companyId]),(0,Y.jsx)(c.Z,{className:"secondary-menu-container",justify:"space-between",align:"middle",children:(0,Y.jsx)(d.Z,{xs:24,children:null!==e&&void 0!==e&&e.progressing?(0,Y.jsx)(h.Z,{className:"secondary-menu-skeleton",active:!0,paragraph:{rows:0},title:{width:"100%"}}):(0,Y.jsx)(Y.Fragment,{children:(null===e||void 0===e?void 0:e.success)&&(0,Y.jsx)(Ke.Z,{rootClassName:"secondary-menu-sub",className:"secondary-menu",mode:"horizontal",items:i.map(((e,l)=>{let{menuText:s,menuName:t,hasSubMenu:n,subMenus:i}=e;return{label:(0,Y.jsxs)(O.rU,{to:!n&&String(Q.GF[t]?Q.GF[t]:"in-development"),className:"".concat(a===Q.GF[t]||a.includes(Q.GF[t])&&"/"!==Q.GF[t]?"active":""),children:[s," ",n&&(0,Y.jsx)(H.Z,{})]}),key:l,children:!!n&&i.map(((e,l)=>{let{menuName:s,menuText:t}=e;return{label:(0,Y.jsx)(O.rU,{to:String(Q.GF[s]?Q.GF[s]:"in-development"),className:"".concat(a===Q.GF[s]?"active":""),children:t}),key:l}}))}})),overflowedIndicator:(0,Y.jsx)(Qe.Z,{className:"overflow-indicater"}),overflowedIndicatorPopupClassName:"secondary-menu-overflow-popu"})})})})},sl=()=>(0,Y.jsxs)("div",{className:"main-layout",children:[(0,Y.jsxs)("div",{className:"menu-header box-shadow border-none ",children:[(0,Y.jsx)(Je,{}),(0,Y.jsx)(ll,{})]}),(0,Y.jsx)("div",{className:"main-content-container",children:(0,Y.jsx)(r.j3,{})})]})},91989:(e,l,s)=>{e.exports=s.p+"static/media/profile.a042ac56c4eac0c6f2c2.png"}}]);
//# sourceMappingURL=9572.7e3cbe56.chunk.js.map